{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/fernandocalado/Desktop/menux-flow/src/components/drawers/stage-fields/dynamic-field-renderer.tsx"],"sourcesContent":["\"use client\";\n\nimport { cn } from \"@/lib/utils\";\nimport { Input } from \"@/components/ui/input\";\nimport { Textarea } from \"@/components/ui/textarea\";\nimport { Switch } from \"@/components/ui/switch\";\nimport { Label } from \"@/components/ui/label\";\nimport { Badge } from \"@/components/ui/badge\";\nimport {\n  Select,\n  SelectContent,\n  SelectItem,\n  SelectTrigger,\n  SelectValue,\n} from \"@/components/ui/select\";\nimport { Check, Loader2, X } from \"lucide-react\";\nimport type { StageField, StageFieldValue } from \"@/lib/mock-stage-fields\";\n\ntype FieldSaveState = \"idle\" | \"saving\" | \"saved\" | \"error\";\n\ninterface DynamicFieldRendererProps {\n  field: StageField;\n  value: StageFieldValue;\n  onChange: (fieldId: string, value: StageFieldValue) => void;\n  disabled?: boolean;\n  error?: string;\n  saveState?: FieldSaveState;\n}\n\nexport function DynamicFieldRenderer({\n  field,\n  value,\n  onChange,\n  disabled = false,\n  error,\n  saveState = \"idle\",\n}: DynamicFieldRendererProps) {\n  const handleChange = (val: StageFieldValue) => {\n    onChange(field.id, val);\n  };\n\n  return (\n    <div>\n      <div className=\"mb-1.5 flex items-center justify-between gap-2\">\n        <Label className=\"font-heading text-[10px] font-bold uppercase tracking-wider text-zinc-400\">\n          {field.label} {field.required && <span className=\"text-red-500\">*</span>}\n        </Label>\n        {saveState === \"saving\" && (\n          <span className=\"inline-flex items-center gap-1 text-[10px] text-zinc-400\">\n            <Loader2 className=\"h-3 w-3 animate-spin\" />\n            Salvando...\n          </span>\n        )}\n        {saveState === \"saved\" && (\n          <span className=\"inline-flex items-center gap-1 text-[10px] text-emerald-600\">\n            <Check className=\"h-3 w-3\" />\n            Salvo\n          </span>\n        )}\n        {saveState === \"error\" && (\n          <span className=\"text-[10px] text-red-600\">Falha ao salvar</span>\n        )}\n      </div>\n\n      <div className=\"mt-1.5\">\n        {renderFieldInput(field, value, handleChange, disabled, error)}\n      </div>\n\n      {error && <p className=\"mt-1 text-[10px] text-red-600\">{error}</p>}\n      {!error && field.helperText && (\n        <p className=\"mt-1 text-[9px] text-zinc-400\">{field.helperText}</p>\n      )}\n      {!error && field.description && !field.helperText && (\n        <p className=\"mt-1 text-[9px] text-zinc-400\">{field.description}</p>\n      )}\n    </div>\n  );\n}\n\nfunction renderFieldInput(\n  field: StageField,\n  value: StageFieldValue,\n  onChange: (val: StageFieldValue) => void,\n  disabled: boolean,\n  error?: string,\n) {\n  const errorClasses = error ? \"border-red-300 focus:ring-red-200 focus-visible:ring-red-200\" : \"\";\n  const baseInputClasses = cn(\n    \"h-9 rounded-lg border-zinc-200 font-body text-xs focus:ring-brand/10\",\n    errorClasses,\n  );\n\n  switch (field.type) {\n    case \"select\":\n      return (\n        <Select\n          value={typeof value === \"string\" ? value : \"\"}\n          onValueChange={(val) => onChange(val)}\n          disabled={disabled}\n        >\n          <SelectTrigger className={cn(\"h-9 w-full rounded-lg border-zinc-200 font-body text-xs focus:ring-brand/10\", errorClasses)}>\n            <SelectValue placeholder=\"Selecione...\" />\n          </SelectTrigger>\n          <SelectContent>\n            {field.options?.map((opt) => (\n              <SelectItem key={opt.value} value={opt.value} className=\"text-xs\">\n                {opt.label}\n              </SelectItem>\n            ))}\n          </SelectContent>\n        </Select>\n      );\n\n    case \"multiselect\": {\n      const selectedValues = Array.isArray(value) ? value : [];\n      return (\n        <div className=\"space-y-2\">\n          <div className=\"flex flex-wrap gap-1\">\n            {selectedValues.map((val) => {\n              const opt = field.options?.find((o) => o.value === val);\n              return (\n                <Badge\n                  key={val}\n                  variant=\"secondary\"\n                  className=\"gap-1 rounded-full px-2 py-0.5 text-[10px]\"\n                >\n                  {opt?.label || val}\n                  {!disabled && (\n                    <button\n                      type=\"button\"\n                      onClick={() => onChange(selectedValues.filter((v) => v !== val))}\n                      className=\"ml-0.5 hover:text-red-600\"\n                    >\n                      <X className=\"h-2.5 w-2.5\" />\n                    </button>\n                  )}\n                </Badge>\n              );\n            })}\n          </div>\n          <Select\n            value=\"\"\n            onValueChange={(val) => {\n              if (!selectedValues.includes(val)) {\n                onChange([...selectedValues, val]);\n              }\n            }}\n            disabled={disabled}\n          >\n            <SelectTrigger className={cn(\"h-9 w-full rounded-lg border-zinc-200 font-body text-xs focus:ring-brand/10\", errorClasses)}>\n              <SelectValue placeholder=\"Adicionar...\" />\n            </SelectTrigger>\n            <SelectContent>\n              {field.options\n                ?.filter((opt) => !selectedValues.includes(opt.value))\n                .map((opt) => (\n                  <SelectItem key={opt.value} value={opt.value} className=\"text-xs\">\n                    {opt.label}\n                  </SelectItem>\n                ))}\n            </SelectContent>\n          </Select>\n        </div>\n      );\n    }\n\n    case \"textarea\":\n      return (\n        <Textarea\n          value={typeof value === \"string\" ? value : \"\"}\n          onChange={(e) => onChange(e.target.value)}\n          className={cn(\n            \"min-h-[86px] resize-none rounded-lg border border-zinc-200 px-3 py-2 text-xs placeholder:text-zinc-400 focus-visible:ring-2 focus-visible:ring-brand/10\",\n            errorClasses,\n          )}\n          placeholder={field.placeholder}\n          disabled={disabled}\n        />\n      );\n\n    case \"boolean\":\n      return (\n        <div className=\"flex items-center gap-2\">\n          <Switch\n            checked={!!value}\n            onCheckedChange={(checked) => onChange(checked)}\n            disabled={disabled}\n          />\n          <span className=\"text-xs text-zinc-600\">{value ? \"Sim\" : \"Não\"}</span>\n        </div>\n      );\n\n    case \"currency\":\n      return (\n        <div className=\"relative\">\n          <span className=\"absolute left-3 top-1/2 -translate-y-1/2 text-xs text-zinc-400\">R$</span>\n          <Input\n            type=\"text\"\n            inputMode=\"decimal\"\n            value={value != null ? String(value) : \"\"}\n            onChange={(e) => {\n              const raw = e.target.value.replace(/[^\\d.,]/g, \"\");\n              onChange(raw);\n            }}\n            placeholder={field.placeholder || \"0,00\"}\n            className={cn(baseInputClasses, \"pl-9\")}\n            disabled={disabled}\n          />\n        </div>\n      );\n\n    case \"percentage\":\n      return (\n        <div className=\"relative\">\n          <Input\n            type=\"number\"\n            inputMode=\"decimal\"\n            value={value != null ? String(value) : \"\"}\n            onChange={(e) => onChange(e.target.value ? Number(e.target.value) : null)}\n            placeholder={field.placeholder || \"0\"}\n            className={cn(baseInputClasses, \"pr-8\")}\n            disabled={disabled}\n            min={field.validationRules?.min}\n            max={field.validationRules?.max}\n          />\n          <span className=\"absolute right-3 top-1/2 -translate-y-1/2 text-xs text-zinc-400\">%</span>\n        </div>\n      );\n\n    case \"url\":\n      return (\n        <Input\n          type=\"url\"\n          value={typeof value === \"string\" ? value : \"\"}\n          onChange={(e) => onChange(e.target.value)}\n          placeholder={field.placeholder || \"https://...\"}\n          className={baseInputClasses}\n          disabled={disabled}\n        />\n      );\n\n    case \"email\":\n      return (\n        <Input\n          type=\"email\"\n          value={typeof value === \"string\" ? value : \"\"}\n          onChange={(e) => onChange(e.target.value)}\n          placeholder={field.placeholder || \"email@exemplo.com\"}\n          className={baseInputClasses}\n          disabled={disabled}\n        />\n      );\n\n    case \"phone\":\n      return (\n        <Input\n          type=\"tel\"\n          value={typeof value === \"string\" ? value : \"\"}\n          onChange={(e) => onChange(e.target.value)}\n          placeholder={field.placeholder || \"(00) 00000-0000\"}\n          className={baseInputClasses}\n          disabled={disabled}\n        />\n      );\n\n    case \"date\":\n      return (\n        <Input\n          type=\"date\"\n          value={typeof value === \"string\" ? value : \"\"}\n          onChange={(e) => onChange(e.target.value)}\n          className={baseInputClasses}\n          disabled={disabled}\n        />\n      );\n\n    case \"time\":\n      return (\n        <Input\n          type=\"time\"\n          value={typeof value === \"string\" ? value : \"\"}\n          onChange={(e) => onChange(e.target.value)}\n          className={baseInputClasses}\n          disabled={disabled}\n        />\n      );\n\n    case \"datetime\":\n      return (\n        <Input\n          type=\"datetime-local\"\n          value={typeof value === \"string\" ? value : \"\"}\n          onChange={(e) => onChange(e.target.value)}\n          className={baseInputClasses}\n          disabled={disabled}\n        />\n      );\n\n    case \"integer\":\n      return (\n        <Input\n          type=\"number\"\n          inputMode=\"numeric\"\n          step=\"1\"\n          value={value != null ? String(value) : \"\"}\n          onChange={(e) => onChange(e.target.value ? parseInt(e.target.value, 10) : null)}\n          placeholder={field.placeholder}\n          className={baseInputClasses}\n          disabled={disabled}\n        />\n      );\n\n    case \"number\":\n      return (\n        <Input\n          type=\"number\"\n          inputMode=\"decimal\"\n          value={value != null ? String(value) : \"\"}\n          onChange={(e) => onChange(e.target.value ? Number(e.target.value) : null)}\n          placeholder={field.placeholder}\n          className={baseInputClasses}\n          disabled={disabled}\n        />\n      );\n\n    case \"file\":\n      return (\n        <div className=\"flex items-center gap-2\">\n          <Input\n            type=\"file\"\n            onChange={() => onChange(\"arquivo_anexado\")}\n            className={cn(baseInputClasses, \"cursor-pointer file:mr-2 file:rounded-md file:border-0 file:bg-zinc-100 file:px-2 file:py-1 file:text-[10px] file:font-medium file:text-zinc-700\")}\n            disabled={disabled}\n          />\n        </div>\n      );\n\n    case \"user\":\n    case \"contact\":\n      return (\n        <Input\n          type=\"text\"\n          value={typeof value === \"string\" ? value : \"\"}\n          onChange={(e) => onChange(e.target.value)}\n          placeholder={field.placeholder || (field.type === \"user\" ? \"Nome do usuário\" : \"Nome do contato\")}\n          className={baseInputClasses}\n          disabled={disabled}\n        />\n      );\n\n    default:\n      return (\n        <Input\n          type=\"text\"\n          value={typeof value === \"string\" ? value : value != null ? String(value) : \"\"}\n          onChange={(e) => onChange(e.target.value)}\n          placeholder={field.placeholder}\n          className={baseInputClasses}\n          disabled={disabled}\n        />\n      );\n  }\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 547, "column": 0}, "map": {"version":3,"sources":["file:///Users/fernandocalado/Desktop/menux-flow/src/components/drawers/stage-fields/new-field-modal.tsx"],"sourcesContent":["\"use client\";\n\nimport { useState, useMemo } from \"react\";\nimport {\n  Dialog,\n  DialogContent,\n  DialogTitle,\n  DialogClose,\n} from \"@/components/ui/dialog\";\nimport { Button } from \"@/components/ui/button\";\nimport { Input } from \"@/components/ui/input\";\nimport { Label } from \"@/components/ui/label\";\nimport { Switch } from \"@/components/ui/switch\";\nimport { Badge } from \"@/components/ui/badge\";\nimport {\n  Popover,\n  PopoverContent,\n  PopoverTrigger,\n} from \"@/components/ui/popover\";\nimport {\n  Command,\n  CommandEmpty,\n  CommandGroup,\n  CommandInput,\n  CommandItem,\n  CommandList,\n} from \"@/components/ui/command\";\nimport {\n  Plus,\n  X,\n  Check,\n  ChevronsUpDown,\n  Loader2,\n  Type,\n  Hash,\n  List,\n  Calendar,\n  CheckSquare,\n  AlignLeft,\n  Mail,\n  Phone,\n  Link as LinkIcon,\n  Percent,\n  DollarSign,\n  AlertCircle,\n  Eye,\n  Clock,\n  User,\n  FileText,\n  ToggleLeft,\n  Users\n} from \"lucide-react\";\nimport {\n  fieldTypeLabels,\n  fieldTypeDescriptions,\n  type FieldType,\n  type StageField,\n  type FieldValidationRules,\n} from \"@/lib/mock-stage-fields\";\nimport { DynamicFieldRenderer } from \"./dynamic-field-renderer\";\nimport { cn } from \"@/lib/utils\";\n\ninterface NewFieldModalProps {\n  open: boolean;\n  onOpenChange: (open: boolean) => void;\n  stageId: string;\n  stageName: string;\n  onSave: (field: Omit<StageField, \"id\" | \"order\" | \"isActive\" | \"stageId\">) => void;\n}\n\nconst typesRequiringOptions: FieldType[] = [\"select\", \"multiselect\"];\n\nconst fieldTypeIcons: Record<FieldType, React.ElementType> = {\n  text: Type,\n  textarea: AlignLeft,\n  number: Hash,\n  integer: Hash,\n  currency: DollarSign,\n  percentage: Percent,\n  url: LinkIcon,\n  email: Mail,\n  phone: Phone,\n  date: Calendar,\n  datetime: Calendar,\n  time: Clock,\n  select: List,\n  multiselect: CheckSquare,\n  boolean: ToggleLeft,\n  user: User,\n  contact: Users,\n  file: FileText,\n};\n\nexport function NewFieldModal({\n  open,\n  onOpenChange,\n  stageId,\n  stageName,\n  onSave,\n}: NewFieldModalProps) {\n  const [label, setLabel] = useState(\"\");\n  const [type, setType] = useState<FieldType>(\"text\");\n  const [openTypePopover, setOpenTypePopover] = useState(false);\n  const [required, setRequired] = useState(false);\n  const [description, setDescription] = useState(\"\");\n  const [placeholder, setPlaceholder] = useState(\"\");\n  const [options, setOptions] = useState<{ label: string; value: string }[]>([]);\n  const [newOptionLabel, setNewOptionLabel] = useState(\"\");\n  const [validationRules, setValidationRules] = useState<FieldValidationRules>({});\n  const [isSaving, setIsSaving] = useState(false);\n  const [errors, setErrors] = useState<Record<string, string>>({});\n\n  const needsOptions = typesRequiringOptions.includes(type);\n\n  const key = useMemo(() => {\n    return label\n      .toLowerCase()\n      .normalize(\"NFD\")\n      .replace(/[\\u0300-\\u036f]/g, \"\")\n      .replace(/[^a-z0-9]+/g, \"_\")\n      .replace(/^_|_$/g, \"\");\n  }, [label]);\n\n  const previewField: StageField = useMemo(() => ({\n    id: \"preview\",\n    stageId,\n    key: key || \"preview\",\n    label: label || \"Nome do campo\",\n    type,\n    required,\n    order: 0,\n    description,\n    placeholder,\n    options: needsOptions ? options : undefined,\n    validationRules: Object.keys(validationRules).length > 0 ? validationRules : undefined,\n    isActive: true,\n  }), [label, type, required, description, placeholder, options, validationRules, stageId, key, needsOptions]);\n\n  const handleAddOption = () => {\n    const trimmed = newOptionLabel.trim();\n    if (!trimmed) return;\n    const value = trimmed\n      .toLowerCase()\n      .normalize(\"NFD\")\n      .replace(/[\\u0300-\\u036f]/g, \"\")\n      .replace(/[^a-z0-9]+/g, \"_\");\n    if (options.some((o) => o.value === value)) return;\n    setOptions([...options, { label: trimmed, value }]);\n    setNewOptionLabel(\"\");\n  };\n\n  const handleRemoveOption = (value: string) => {\n    setOptions(options.filter((o) => o.value !== value));\n  };\n\n  const validate = (): boolean => {\n    const nextErrors: Record<string, string> = {};\n    if (!label.trim()) nextErrors.label = \"Nome do campo é obrigatório.\";\n    if (!type) nextErrors.type = \"Tipo é obrigatório.\";\n    if (needsOptions && options.length === 0) {\n      nextErrors.options = \"Adicione pelo menos uma opção.\";\n    }\n    setErrors(nextErrors);\n    return Object.keys(nextErrors).length === 0;\n  };\n\n  const handleSave = () => {\n    if (!validate()) return;\n    setIsSaving(true);\n\n    // Simulate async save\n    setTimeout(() => {\n      onSave({\n        key,\n        label: label.trim(),\n        type,\n        required,\n        description: description.trim() || undefined,\n        placeholder: placeholder.trim() || undefined,\n        helperText: description.trim() || undefined,\n        options: needsOptions ? options : undefined,\n      });\n      resetForm();\n      setIsSaving(false);\n    }, 500);\n  };\n\n  const resetForm = () => {\n    setLabel(\"\");\n    setType(\"text\");\n    setRequired(false);\n    setDescription(\"\");\n    setPlaceholder(\"\");\n    setOptions([]);\n    setNewOptionLabel(\"\");\n    setValidationRules({});\n    setErrors({});\n  };\n\n  const handleClose = (open: boolean) => {\n    if (!open) resetForm();\n    onOpenChange(open);\n  };\n\n  const TypeIcon = fieldTypeIcons[type] || Type;\n\n  return (\n    <Dialog open={open} onOpenChange={handleClose}>\n      <DialogContent className=\"max-h-[90vh] w-full sm:max-w-4xl flex-col gap-0 p-0 overflow-hidden bg-white border-zinc-200/50 shadow-2xl sm:rounded-2xl\">\n        {/* Header */}\n        <div className=\"flex items-center justify-between border-b border-zinc-100 bg-white/50 px-6 py-4 backdrop-blur-sm\">\n          <div className=\"flex items-center gap-3\">\n            <div className=\"flex h-10 w-10 items-center justify-center rounded-xl bg-brand/5 border border-brand/10 text-brand shadow-sm\">\n              <Plus className=\"h-5 w-5\" />\n            </div>\n            <div>\n              <DialogTitle className=\"text-base font-semibold text-zinc-900\">\n                Novo Campo Personalizado\n              </DialogTitle>\n              <p className=\"text-xs text-zinc-500\">\n                Adicionando em <span className=\"font-medium text-zinc-700\">{stageName}</span>\n              </p>\n            </div>\n          </div>\n          <DialogClose asChild>\n            <Button variant=\"ghost\" size=\"icon\" className=\"h-8 w-8 text-zinc-400 hover:text-zinc-600\">\n              <X className=\"h-4 w-4\" />\n            </Button>\n          </DialogClose>\n        </div>\n\n        <div className=\"flex flex-1 overflow-hidden\">\n          {/* Main Form Content - Scrollable */}\n          <div className=\"flex-1 overflow-y-auto p-6 lg:p-10 scrollbar-thin scrollbar-thumb-zinc-200 scrollbar-track-transparent\">\n            <div className=\"space-y-10 max-w-2xl mx-auto\">\n              \n              {/* Informações Básicas Section */}\n              <section className=\"space-y-6\">\n                <div>\n                  <h3 className=\"text-base font-semibold text-zinc-900\">Informações Básicas</h3>\n                  <p className=\"text-sm text-zinc-500 mt-0.5\">Defina o nome principal e o formato de dados que este campo irá receber no card.</p>\n                </div>\n\n                <div className=\"space-y-6\">\n                  {/* Nome do Campo */}\n                  <div className=\"space-y-2\">\n                    <Label className=\"text-sm font-semibold text-zinc-900 flex items-center gap-1.5\">\n                      Nome do Campo <span className=\"text-red-500 text-xs\">*</span>\n                    </Label>\n                    <Input\n                      value={label}\n                      onChange={(e) => {\n                        setLabel(e.target.value);\n                        if (errors.label) setErrors((prev) => { const n = { ...prev }; delete n.label; return n; });\n                      }}\n                      placeholder=\"Ex: Data de follow-up\"\n                      className={cn(\n                        \"h-10 bg-white transition-all hover:bg-zinc-50 focus:bg-white text-sm shadow-sm\",\n                        errors.label ? \"border-red-300 focus-visible:ring-red-100\" : \"border-zinc-200 focus-visible:ring-brand/15\"\n                      )}\n                    />\n                    {errors.label ? (\n                      <p className=\"flex items-center gap-1.5 text-[11px] font-medium text-red-600 mt-1\">\n                        <AlertCircle className=\"h-3.5 w-3.5\" /> {errors.label}\n                      </p>\n                    ) : (\n                      key && <p className=\"text-[11px] text-zinc-400 font-mono mt-1\">ID interno: {key}</p>\n                    )}\n                  </div>\n\n                  {/* Tipo de Dado */}\n                  <div className=\"space-y-2\">\n                    <Label className=\"text-sm font-semibold text-zinc-900 flex items-center gap-1.5\">\n                      Tipo de Dado <span className=\"text-red-500 text-xs\">*</span>\n                    </Label>\n                    <Popover open={openTypePopover} onOpenChange={setOpenTypePopover}>\n                      <PopoverTrigger asChild>\n                        <Button\n                          variant=\"outline\"\n                          role=\"combobox\"\n                          aria-expanded={openTypePopover}\n                          className=\"w-full justify-between h-auto py-2.5 px-3.5 bg-white border-zinc-200 focus:ring-brand/15 transition-all hover:bg-zinc-50 hover:border-zinc-300 font-normal shadow-sm group\"\n                        >\n                          <div className=\"flex items-center gap-3 text-left\">\n                            <div className=\"flex h-8 w-8 shrink-0 items-center justify-center rounded-lg bg-zinc-50 border border-zinc-200 shadow-xs text-zinc-600 group-hover:text-brand transition-colors\">\n                              <TypeIcon className=\"h-4 w-4\" />\n                            </div>\n                            <div className=\"flex flex-col\">\n                              <span className=\"text-sm font-semibold text-zinc-900\">{fieldTypeLabels[type]}</span>\n                              <span className=\"text-xs text-zinc-500 truncate\">{fieldTypeDescriptions[type]}</span>\n                            </div>\n                          </div>\n                          <ChevronsUpDown className=\"ml-2 h-4 w-4 shrink-0 opacity-50 text-zinc-500\" />\n                        </Button>\n                      </PopoverTrigger>\n                      <PopoverContent className=\"w-(--radix-popover-trigger-width) p-0 shadow-xl border-zinc-200/80 rounded-xl\" align=\"start\">\n                        <Command className=\"max-h-[380px]\">\n                          <CommandInput placeholder=\"Buscar tipo de campo...\" className=\"h-10 text-sm\" />\n                          <CommandList className=\"max-h-[330px] scrollbar-thin scrollbar-thumb-zinc-200\">\n                            <CommandEmpty className=\"py-6 text-center text-sm text-zinc-500\">Nenhum tipo encontrado.</CommandEmpty>\n                            \n                            <CommandGroup heading=\"Texto e Números\" className=\"px-1.5 pt-1.5 pb-0\">\n                              {[\"text\", \"textarea\", \"number\", \"currency\", \"percentage\", \"integer\"].map((t) => {\n                                const Icon = fieldTypeIcons[t as FieldType];\n                                return (\n                                  <CommandItem\n                                    key={t}\n                                    value={`${fieldTypeLabels[t as FieldType]} ${fieldTypeDescriptions[t as FieldType]}`}\n                                    onSelect={() => {\n                                      setType(t as FieldType);\n                                      setOptions([]);\n                                      setValidationRules({});\n                                      setOpenTypePopover(false);\n                                    }}\n                                    className=\"flex items-start gap-3 rounded-md px-2 py-2 cursor-pointer mb-1 data-[selected=true]:bg-zinc-100/80\"\n                                  >\n                                    <div className=\"flex h-8 w-8 shrink-0 items-center justify-center rounded-lg bg-white border border-zinc-200/60 shadow-xs text-zinc-500 mt-0.5\">\n                                      <Icon className=\"h-4 w-4\" />\n                                    </div>\n                                    <div className=\"flex flex-col flex-1\">\n                                      <span className=\"text-sm font-semibold text-zinc-900\">{fieldTypeLabels[t as FieldType]}</span>\n                                      <span className=\"text-xs text-zinc-500 leading-tight\">{fieldTypeDescriptions[t as FieldType]}</span>\n                                    </div>\n                                    {type === t && (\n                                      <Check className=\"ml-auto h-4 w-4 text-brand mt-2\" />\n                                    )}\n                                  </CommandItem>\n                                );\n                              })}\n                            </CommandGroup>\n\n                            <CommandGroup heading=\"Seleção\" className=\"px-1.5 py-0\">\n                              {[\"select\", \"multiselect\", \"boolean\", \"date\", \"datetime\"].map((t) => {\n                                const Icon = fieldTypeIcons[t as FieldType];\n                                return (\n                                  <CommandItem\n                                    key={t}\n                                    value={`${fieldTypeLabels[t as FieldType]} ${fieldTypeDescriptions[t as FieldType]}`}\n                                    onSelect={() => {\n                                      setType(t as FieldType);\n                                      setOptions([]);\n                                      setValidationRules({});\n                                      setOpenTypePopover(false);\n                                    }}\n                                    className=\"flex items-start gap-3 rounded-md px-2 py-2 cursor-pointer mb-1 data-[selected=true]:bg-zinc-100/80\"\n                                  >\n                                    <div className=\"flex h-8 w-8 shrink-0 items-center justify-center rounded-lg bg-white border border-zinc-200/60 shadow-xs text-zinc-500 mt-0.5\">\n                                      <Icon className=\"h-4 w-4\" />\n                                    </div>\n                                    <div className=\"flex flex-col flex-1\">\n                                      <span className=\"text-sm font-semibold text-zinc-900\">{fieldTypeLabels[t as FieldType]}</span>\n                                      <span className=\"text-xs text-zinc-500 leading-tight\">{fieldTypeDescriptions[t as FieldType]}</span>\n                                    </div>\n                                    {type === t && (\n                                      <Check className=\"ml-auto h-4 w-4 text-brand mt-2\" />\n                                    )}\n                                  </CommandItem>\n                                );\n                              })}\n                            </CommandGroup>\n\n                            <CommandGroup heading=\"Contato e Especial\" className=\"px-1.5 pb-1.5 pt-0\">\n                              {[\"email\", \"phone\", \"url\", \"file\"].map((t) => {\n                                const Icon = fieldTypeIcons[t as FieldType];\n                                return (\n                                  <CommandItem\n                                    key={t}\n                                    value={`${fieldTypeLabels[t as FieldType]} ${fieldTypeDescriptions[t as FieldType]}`}\n                                    onSelect={() => {\n                                      setType(t as FieldType);\n                                      setOptions([]);\n                                      setValidationRules({});\n                                      setOpenTypePopover(false);\n                                    }}\n                                    className=\"flex items-start gap-3 rounded-md px-2 py-2 cursor-pointer mb-1 data-[selected=true]:bg-zinc-100/80\"\n                                  >\n                                    <div className=\"flex h-8 w-8 shrink-0 items-center justify-center rounded-lg bg-white border border-zinc-200/60 shadow-xs text-zinc-500 mt-0.5\">\n                                      <Icon className=\"h-4 w-4\" />\n                                    </div>\n                                    <div className=\"flex flex-col flex-1\">\n                                      <span className=\"text-sm font-semibold text-zinc-900\">{fieldTypeLabels[t as FieldType]}</span>\n                                      <span className=\"text-xs text-zinc-500 leading-tight\">{fieldTypeDescriptions[t as FieldType]}</span>\n                                    </div>\n                                    {type === t && (\n                                      <Check className=\"ml-auto h-4 w-4 text-brand mt-2\" />\n                                    )}\n                                  </CommandItem>\n                                );\n                              })}\n                            </CommandGroup>\n\n                          </CommandList>\n                        </Command>\n                      </PopoverContent>\n                    </Popover>\n                  </div>\n\n                  {/* Campo Obrigatório */}\n                  <div className=\"flex items-center justify-between p-4 rounded-xl border border-zinc-200 bg-zinc-50/50 hover:bg-zinc-50 transition-colors\">\n                    <div className=\"space-y-0.5\">\n                      <div className=\"flex items-center gap-2\">\n                        <Label className=\"text-sm font-semibold text-zinc-900 cursor-pointer\" htmlFor=\"required-switch\">Campo Obrigatório</Label>\n                        <Badge variant=\"secondary\" className=\"h-5 px-1.5 text-[10px] font-semibold text-brand bg-brand/5 border-brand/20 uppercase tracking-wider hidden sm:inline-flex\">Required</Badge>\n                      </div>\n                      <p className=\"text-xs text-zinc-500\">O card não avançará para a próxima etapa se este campo estiver vazio.</p>\n                    </div>\n                    <Switch id=\"required-switch\" checked={required} onCheckedChange={setRequired} className=\"data-[state=checked]:bg-brand\" />\n                  </div>\n                </div>\n              </section>\n\n              <hr className=\"border-t border-zinc-100\" />\n\n              {/* Aparência e Configuração Section */}\n              <section className=\"space-y-6\">\n                <div>\n                  <h3 className=\"text-base font-semibold text-zinc-900\">Aparência e Configuração</h3>\n                  <p className=\"text-sm text-zinc-500 mt-0.5\">Ajuste como o campo será exibido e preenchido pela equipe.</p>\n                </div>\n\n                <div className=\"space-y-6\">\n                  {/* Options Configuration */}\n                  {needsOptions && (\n                    <div className=\"space-y-4 pb-6 border-b border-zinc-100/80\">\n                      <Label className=\"text-sm font-semibold text-zinc-900 flex items-center gap-1.5\">\n                        Opções de seleção <span className=\"text-red-500 text-xs\">*</span>\n                      </Label>\n\n                      <div className=\"flex gap-2\">\n                        <Input\n                          value={newOptionLabel}\n                          onChange={(e) => setNewOptionLabel(e.target.value)}\n                          placeholder=\"Digite uma opção e pressione Enter\"\n                          className=\"h-10 flex-1 bg-white border-zinc-200 focus:ring-brand/15 text-sm shadow-sm transition-all\"\n                          onKeyDown={(e) => { if (e.key === \"Enter\") { e.preventDefault(); handleAddOption(); } }}\n                        />\n                        <Button\n                          type=\"button\"\n                          size=\"sm\"\n                          variant=\"secondary\"\n                          onClick={handleAddOption}\n                          disabled={!newOptionLabel.trim()}\n                          className=\"h-10 px-4 bg-zinc-100 text-zinc-700 hover:bg-zinc-200 shadow-sm transition-all\"\n                        >\n                          <Plus className=\"mr-1.5 h-4 w-4\" /> Adicionar\n                        </Button>\n                      </div>\n\n                      <div className=\"min-h-[60px] rounded-xl border border-dashed border-zinc-200 bg-zinc-50/50 p-3 transition-colors\">\n                        {options.length > 0 ? (\n                          <div className=\"flex flex-wrap gap-2\">\n                            {options.map((opt) => (\n                              <Badge\n                                key={opt.value}\n                                variant=\"outline\"\n                                className=\"gap-1.5 rounded-lg px-2.5 py-1.5 text-xs font-semibold border-zinc-200/80 bg-white text-zinc-700 shadow-sm hover:border-zinc-300 transition-colors\"\n                              >\n                                {opt.label}\n                                <button\n                                  type=\"button\"\n                                  onClick={() => handleRemoveOption(opt.value)}\n                                  className=\"ml-1 rounded-full p-0.5 text-zinc-400 hover:bg-red-50 hover:text-red-600 transition-colors\"\n                                >\n                                  <X className=\"h-3.5 w-3.5\" />\n                                </button>\n                              </Badge>\n                            ))}\n                          </div>\n                        ) : (\n                          <div className=\"flex h-full items-center justify-center py-4 text-sm font-medium text-zinc-400\">\n                            Nenhuma opção adicionada ainda.\n                          </div>\n                        )}\n                      </div>\n                      {errors.options && <p className=\"text-[11px] font-medium text-red-600 mt-1\">{errors.options}</p>}\n                    </div>\n                  )}\n\n                  <div className=\"grid gap-6 sm:grid-cols-2\">\n                    <div className=\"space-y-2\">\n                      <Label className=\"text-sm font-semibold text-zinc-900\">Placeholder</Label>\n                      <Input\n                        value={placeholder}\n                        onChange={(e) => setPlaceholder(e.target.value)}\n                        placeholder=\"Texto de fundo vazio\"\n                        className=\"h-10 bg-white border-zinc-200 focus:ring-brand/15 text-sm shadow-sm transition-all\"\n                      />\n                    </div>\n                    <div className=\"space-y-2\">\n                      <Label className=\"text-sm font-semibold text-zinc-900\">Texto de Ajuda</Label>\n                      <Input\n                        value={description}\n                        onChange={(e) => setDescription(e.target.value)}\n                        placeholder=\"Dica exibida abaixo do campo\"\n                        className=\"h-10 bg-white border-zinc-200 focus:ring-brand/15 text-sm shadow-sm transition-all\"\n                      />\n                    </div>\n                  </div>\n                </div>\n              </section>\n            </div>\n          </div>\n\n          {/* Sidebar / Preview (Desktop) or Bottom (Mobile) */}\n          <div className=\"w-80 border-l border-zinc-100 bg-zinc-50/50 hidden md:flex flex-col\">\n            <div className=\"p-4 border-b border-zinc-100 bg-white/50\">\n              <div className=\"flex items-center gap-2 text-zinc-500\">\n                <Eye className=\"h-4 w-4\" />\n                <span className=\"text-xs font-semibold uppercase tracking-wider\">Pré-visualização</span>\n              </div>\n            </div>\n            <div className=\"flex-1 p-6 flex flex-col items-center justify-center\">\n              <div className=\"w-full space-y-2 rounded-xl border border-zinc-200 bg-white p-4 shadow-sm\">\n                <div className=\"flex items-center justify-between mb-2\">\n                  <span className=\"text-[10px] text-zinc-400 font-medium\">Como aparecerá no card</span>\n                </div>\n                <DynamicFieldRenderer\n                  field={previewField}\n                  value={null}\n                  onChange={() => { }}\n                  disabled={false}\n                />\n              </div>\n              <p className=\"mt-4 text-center text-[10px] text-zinc-400 max-w-[200px]\">\n                Esta é uma representação visual de como o campo será exibido para sua equipe.\n              </p>\n            </div>\n          </div>\n        </div>\n\n        {/* Footer */}\n        <div className=\"flex items-center justify-between border-t border-zinc-100 bg-white px-6 py-4\">\n          <Button\n            variant=\"ghost\"\n            type=\"button\"\n            onClick={() => handleClose(false)}\n            className=\"text-zinc-500 hover:text-zinc-900\"\n          >\n            Cancelar\n          </Button>\n          <Button\n            onClick={handleSave}\n            disabled={isSaving}\n            className=\"bg-zinc-900 text-white hover:bg-black shadow-lg shadow-zinc-900/10 min-w-[140px]\"\n          >\n            {isSaving ? (\n              <Loader2 className=\"mr-2 h-4 w-4 animate-spin\" />\n            ) : (\n              <Plus className=\"mr-2 h-4 w-4\" />\n            )}\n            Criar campo\n          </Button>\n        </div>\n      </DialogContent>\n    </Dialog>\n  );\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1814, "column": 0}, "map": {"version":3,"sources":["file:///Users/fernandocalado/Desktop/menux-flow/src/components/drawers/stage-fields/stage-fields-panel.tsx"],"sourcesContent":["\"use client\";\n\nimport { useEffect, useMemo, useCallback } from \"react\";\nimport { motion, AnimatePresence } from \"framer-motion\";\nimport {\n  LayoutList,\n  Check,\n  Loader2,\n  AlertTriangle,\n  Plus,\n  Eye,\n  Activity,\n  ChevronDown,\n} from \"lucide-react\";\nimport { cn } from \"@/lib/utils\";\nimport { Button } from \"@/components/ui/button\";\nimport { Badge } from \"@/components/ui/badge\";\nimport {\n  Popover,\n  PopoverContent,\n  PopoverTrigger,\n} from \"@/components/ui/popover\";\nimport {\n  Command,\n  CommandGroup,\n  CommandItem,\n  CommandList,\n} from \"@/components/ui/command\";\nimport type { PipelineStage } from \"@/types\";\nimport {\n  useStageFieldsStore,\n  useViewStageFields,\n  useViewStageValues,\n  useRequiredProgress,\n} from \"@/stores/stage-fields-store\";\nimport { DynamicFieldRenderer } from \"./dynamic-field-renderer\";\nimport { NewFieldModal } from \"./new-field-modal\";\n\n// ===== Types =====\n\ntype BannerVariant = \"success\" | \"error\" | \"info\" | \"warning\";\n\ninterface InlineBanner {\n  message: string;\n  variant: BannerVariant;\n}\n\ninterface StageFieldsPanelProps {\n  opportunityId: string;\n  currentStage: PipelineStage;\n  stages: { id: string; label: string }[];\n  initialValues?: Record<string, string | number | boolean | string[] | null | undefined>;\n  isLocked: boolean;\n  onStageChange: (newStage: PipelineStage) => boolean | void;\n  nextStage: { id: string; label: string } | null;\n  canCreateFields?: boolean;\n  advanceBlockedReason?: string | null;\n}\n\n// ===== InlineStatusBanner (local) =====\n\nfunction InlineStatusBanner({\n  banner,\n  onDismiss,\n}: {\n  banner: InlineBanner;\n  onDismiss: () => void;\n}) {\n  useEffect(() => {\n    if (banner.variant === \"success\" || banner.variant === \"info\") {\n      const timer = setTimeout(onDismiss, 3000);\n      return () => clearTimeout(timer);\n    }\n  }, [banner, onDismiss]);\n\n  const variantStyles: Record<BannerVariant, string> = {\n    success: \"bg-status-success/10 text-status-success border-status-success/20\",\n    error: \"bg-status-danger/10 text-status-danger border-status-danger/20\",\n    info: \"bg-brand/10 text-brand border-brand/20\",\n    warning: \"bg-status-warning/10 text-status-warning border-status-warning/20\",\n  };\n\n  const icons: Record<BannerVariant, React.ReactNode> = {\n    success: <Check className=\"h-3.5 w-3.5 shrink-0\" />,\n    error: <AlertTriangle className=\"h-3.5 w-3.5 shrink-0\" />,\n    info: <Activity className=\"h-3.5 w-3.5 shrink-0\" />,\n    warning: <AlertTriangle className=\"h-3.5 w-3.5 shrink-0\" />,\n  };\n\n  return (\n    <div\n      className={`flex items-center gap-2 rounded-[10px] border px-3 py-2 font-body text-xs font-medium animate-in fade-in slide-in-from-top-1 duration-200 ${variantStyles[banner.variant]}`}\n      role={banner.variant === \"error\" ? \"alert\" : \"status\"}\n      aria-live={banner.variant === \"error\" ? \"assertive\" : \"polite\"}\n    >\n      {icons[banner.variant]}\n      <span className=\"flex-1\">{banner.message}</span>\n      <button\n        onClick={onDismiss}\n        className=\"ml-auto shrink-0 opacity-70 hover:opacity-100\"\n        aria-label=\"Fechar\"\n      >\n        ×\n      </button>\n    </div>\n  );\n}\n\n// ===== PremiumCard (local lightweight version) =====\n\nfunction PanelCard({\n  title,\n  description,\n  headerAction,\n  children,\n}: {\n  title: string;\n  description: string;\n  headerAction?: React.ReactNode;\n  children: React.ReactNode;\n}) {\n  return (\n    <motion.div\n      initial={{ opacity: 0, y: 8 }}\n      animate={{ opacity: 1, y: 0 }}\n      transition={{ duration: 0.25, delay: 0.1 }}\n      className=\"rounded-2xl border border-zinc-200/80 bg-white p-5 shadow-sm\"\n    >\n      <div className=\"mb-4 flex items-start justify-between gap-2\">\n        <div className=\"flex items-center gap-2.5\">\n          <div className=\"flex h-8 w-8 items-center justify-center rounded-xl bg-zinc-100 text-zinc-600\">\n            <LayoutList className=\"h-4 w-4\" />\n          </div>\n          <div>\n            <h3 className=\"font-heading text-sm font-semibold text-zinc-900\">{title}</h3>\n            <p className=\"text-[11px] text-zinc-500\">{description}</p>\n          </div>\n        </div>\n        {headerAction}\n      </div>\n      <div className=\"space-y-4\">{children}</div>\n    </motion.div>\n  );\n}\n\n// ===== Main Component =====\n\nexport function StageFieldsPanel({\n  opportunityId,\n  currentStage,\n  stages,\n  initialValues,\n  isLocked,\n  onStageChange,\n  canCreateFields = false,\n  advanceBlockedReason = null,\n}: StageFieldsPanelProps) {\n  const store = useStageFieldsStore();\n  const fields = useViewStageFields();\n  const values = useViewStageValues();\n  const progress = useRequiredProgress();\n\n  // Initialize store when opportunity opens/changes\n  useEffect(() => {\n    store.initForOpportunity(opportunityId, currentStage, initialValues);\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [opportunityId, currentStage]);\n\n  // Sync when external stage changes (e.g. from stage bar)\n  useEffect(() => {\n    if (store.opportunityStage !== currentStage) {\n      store.initForOpportunity(opportunityId, currentStage, initialValues);\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [currentStage]);\n\n  const handleFieldChange = useCallback(\n    (fieldId: string, value: string | number | boolean | string[] | null | undefined) => {\n      if (isLocked || store.isChangingStage) return;\n      store.updateFieldValue(fieldId, value);\n    },\n    [isLocked, store],\n  );\n\n  const handleSave = useCallback(() => {\n    if (isLocked) return;\n    store.saveAllFields();\n  }, [isLocked, store]);\n\n  const handleCreateField = useCallback(\n    (fieldData: Parameters<typeof store.addFieldDefinition>[1]) => {\n      if (!store.opportunityStage) return;\n      store.addFieldDefinition(store.opportunityStage, fieldData);\n    },\n    [store],\n  );\n\n  const currentStageName = useMemo(() => {\n    return stages.find((s) => s.id === store.opportunityStage)?.label ?? \"Etapa\";\n  }, [stages, store.opportunityStage]);\n\n  // Split fields: required first, then optional\n  const requiredFields = useMemo(() => fields.filter((f) => f.required), [fields]);\n  const optionalFields = useMemo(() => fields.filter((f) => !f.required), [fields]);\n\n  const isEditable = !isLocked && !store.isChangingStage;\n  const hasAdvanceBlockedReason = Boolean(advanceBlockedReason && advanceBlockedReason.trim().length > 0);\n\n  return (\n    <>\n      <div className=\"sticky top-4\">\n        <PanelCard\n          title=\"Campos da etapa\"\n          description=\"Preencha para destravar avanço e fechamento.\"\n          headerAction={\n            <Badge\n              variant=\"outline\"\n              className=\"rounded-full border-zinc-200 bg-zinc-50 text-[11px] text-zinc-700\"\n            >\n              {currentStageName}\n            </Badge>\n          }\n        >\n          {/* ── Controls row: Etapa Atual + Novo campo ── */}\n          <div className=\"flex items-center gap-2\">\n            <div className=\"flex-1\">\n              <Popover>\n                <div className=\"group relative w-full\">\n                  <div className=\"absolute -top-2 left-2 z-10 bg-white px-1 text-[10px] font-semibold tracking-wide text-zinc-500\">\n                    Etapa atual\n                  </div>\n                  <PopoverTrigger asChild>\n                    <Button\n                      variant=\"outline\"\n                      role=\"combobox\"\n                      className=\"h-11 w-full justify-between rounded-xl border-zinc-200 bg-white px-3 font-normal text-zinc-900 shadow-sm transition-all hover:border-brand/40 hover:bg-zinc-50 focus:border-brand/40 focus:ring-2 focus:ring-brand/10 disabled:opacity-70\"\n                      disabled={store.isChangingStage}\n                    >\n                      <div className=\"flex items-center gap-2\">\n                        {store.isChangingStage ? (\n                          <Loader2 className=\"h-4 w-4 animate-spin text-brand\" />\n                        ) : (\n                          <span className=\"flex h-5 w-5 items-center justify-center rounded-full bg-brand/10 text-brand\">\n                            <Activity className=\"h-3 w-3\" />\n                          </span>\n                        )}\n                        <span className=\"text-sm font-semibold\">\n                          {store.isChangingStage ? \"Alterando etapa...\" : currentStageName}\n                        </span>\n                      </div>\n                      <ChevronDown className=\"h-4 w-4 opacity-50\" />\n                    </Button>\n                  </PopoverTrigger>\n                </div>\n                <PopoverContent className=\"w-[280px] p-0 rounded-2xl shadow-xl border-zinc-100\" align=\"start\">\n                  <Command>\n                    <CommandList className=\"max-h-[300px] p-1.5\">\n                      <div className=\"px-2 py-1.5 text-[10px] font-semibold uppercase tracking-wider text-zinc-400\">\n                        Alterar etapa da oportunidade\n                      </div>\n                      <CommandGroup>\n                        {stages.map((s, index) => {\n                          const isCurrent = s.id === store.opportunityStage;\n                          const currentIndex = stages.findIndex(st => st.id === store.opportunityStage);\n                          const isPassed = index < currentIndex;\n\n                          return (\n                            <CommandItem\n                              key={s.id}\n                              value={s.label}\n                              onSelect={() => {\n                                if (isCurrent) return;\n                                store.updateOpportunityStage(s.id as PipelineStage, onStageChange);\n                              }}\n                              className={cn(\n                                \"group flex items-center gap-3 rounded-xl px-3 py-2.5 text-xs transition-colors cursor-pointer\",\n                                isCurrent ? \"bg-zinc-50\" : \"hover:bg-zinc-50\"\n                              )}\n                            >\n                              {/* Status Indicator */}\n                              <div className={cn(\n                                \"flex h-2 w-2 shrink-0 rounded-full\",\n                                isPassed ? \"bg-brand/40\" :\n                                  isCurrent ? \"bg-brand ring-2 ring-brand/20\" :\n                                    \"bg-zinc-200\"\n                              )} />\n\n                              <span className={cn(\n                                \"flex-1 truncate font-medium\",\n                                isCurrent ? \"text-zinc-900\" : \"text-zinc-600\"\n                              )}>\n                                {s.label}\n                              </span>\n\n                              {isCurrent && (\n                                <Badge\n                                  variant=\"secondary\"\n                                  className=\"ml-auto h-5 rounded-full bg-brand/10 px-1.5 text-[9px] font-semibold text-brand\"\n                                >\n                                  Atual\n                                </Badge>\n                              )}\n                            </CommandItem>\n                          );\n                        })}\n                      </CommandGroup>\n                    </CommandList>\n                  </Command>\n                </PopoverContent>\n              </Popover>\n            </div>\n            {canCreateFields && (\n              <Button\n                size=\"sm\"\n                className=\"h-11 rounded-xl bg-zinc-900 px-4 text-sm font-medium text-white shadow-sm transition-all hover:bg-black hover:shadow-md\"\n                onClick={() => store.setNewFieldModalOpen(true)}\n              >\n                <Plus className=\"mr-1.5 h-4 w-4\" />\n                Novo campo\n              </Button>\n            )}\n          </div>\n\n          {/* ── Store banner ── */}\n          <AnimatePresence>\n            {store.banner && (\n              <motion.div\n                initial={{ opacity: 0, height: 0 }}\n                animate={{ opacity: 1, height: \"auto\" }}\n                exit={{ opacity: 0, height: 0 }}\n                className=\"overflow-hidden\"\n              >\n                <InlineStatusBanner\n                  banner={store.banner}\n                  onDismiss={() => store.setBanner(null)}\n                />\n              </motion.div>\n            )}\n          </AnimatePresence>\n\n\n\n          {/* ── Missing required fields warning ── */}\n          {progress.missingFields.length > 0 && !store.isChangingStage && (\n            <div className=\"rounded-xl border border-amber-200 bg-amber-50 px-3 py-2\">\n              <p className=\"text-[11px] font-semibold text-amber-700\">Pendências para avanço</p>\n              <ul className=\"mt-1 space-y-1 text-[11px] text-amber-700\">\n                {progress.missingFields.map((field) => (\n                  <li key={field.id}>• {field.label}</li>\n                ))}\n              </ul>\n            </div>\n          )}\n\n          {hasAdvanceBlockedReason && !store.isChangingStage && (\n            <div className=\"rounded-xl border border-amber-200 bg-amber-50 px-3 py-2\">\n              <p className=\"text-[11px] font-semibold text-amber-700\">Avanço bloqueado</p>\n              <p className=\"mt-1 text-[11px] text-amber-700\">{advanceBlockedReason}</p>\n            </div>\n          )}\n\n          {/* ── Fields ── */}\n          {fields.length > 0 ? (\n            <div className=\"space-y-4\">\n              {/* Required fields first */}\n              {requiredFields.map((field) => (\n                <DynamicFieldRenderer\n                  key={field.id}\n                  field={field}\n                  value={values[field.id]}\n                  onChange={handleFieldChange}\n                  disabled={!isEditable}\n                  error={store.fieldErrors[field.id]}\n                  saveState={store.fieldSaveStates[field.id] || \"idle\"}\n                />\n              ))}\n\n              {/* Optional fields */}\n              {optionalFields.length > 0 && requiredFields.length > 0 && (\n                <div className=\"flex items-center gap-2\">\n                  <div className=\"h-px flex-1 bg-zinc-100\" />\n                  <span className=\"text-[9px] font-medium uppercase tracking-wider text-zinc-400\">\n                    Opcionais\n                  </span>\n                  <div className=\"h-px flex-1 bg-zinc-100\" />\n                </div>\n              )}\n\n              {optionalFields.map((field) => (\n                <DynamicFieldRenderer\n                  key={field.id}\n                  field={field}\n                  value={values[field.id]}\n                  onChange={handleFieldChange}\n                  disabled={!isEditable}\n                  error={store.fieldErrors[field.id]}\n                  saveState={store.fieldSaveStates[field.id] || \"idle\"}\n                />\n              ))}\n            </div>\n          ) : (\n            <div className=\"flex flex-col items-center justify-center rounded-xl border border-dashed border-zinc-200 bg-zinc-50/50 py-8 text-center\">\n              <LayoutList className=\"mb-2 h-8 w-8 text-zinc-200\" />\n              <p className=\"font-heading text-xs font-medium text-zinc-400\">\n                Esta etapa não possui campos configurados\n              </p>\n              {canCreateFields && (\n                <Button\n                  size=\"sm\"\n                  variant=\"outline\"\n                  className=\"mt-3 h-7 rounded-full px-3 text-[10px]\"\n                  onClick={() => store.setNewFieldModalOpen(true)}\n                >\n                  <Plus className=\"mr-1 h-3 w-3\" />\n                  Criar primeiro campo\n                </Button>\n              )}\n            </div>\n          )}\n\n          {/* ── Action buttons ── */}\n          <div className=\"flex flex-wrap items-center gap-2\">\n            <Button\n              size=\"sm\"\n              variant=\"outline\"\n              className=\"h-9 rounded-xl px-4 text-xs font-semibold shadow-sm hover:bg-zinc-50 hover:text-zinc-900\"\n              onClick={handleSave}\n              disabled={isLocked || store.isSaving || store.isChangingStage || fields.length === 0}\n            >\n              {store.isSaving ? (\n                <Loader2 className=\"mr-1.5 h-3.5 w-3.5 animate-spin\" />\n              ) : (\n                <Check className=\"mr-1.5 h-3.5 w-3.5\" />\n              )}\n              {store.isSaving ? \"Salvando...\" : \"Salvar campos\"}\n            </Button>\n          </div>\n        </PanelCard>\n      </div>\n\n      {/* ── New Field Modal ── */}\n      <NewFieldModal\n        open={store.isNewFieldModalOpen}\n        onOpenChange={store.setNewFieldModalOpen}\n        stageId={store.opportunityStage || \"\"}\n        stageName={currentStageName}\n        onSave={handleCreateField}\n      />\n    </>\n  );\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 2556, "column": 0}, "map": {"version":3,"sources":["file:///Users/fernandocalado/Desktop/menux-flow/src/components/drawers/stage-fields/index.ts"],"sourcesContent":["export { StageFieldsPanel } from \"./stage-fields-panel\";\nexport { DynamicFieldRenderer } from \"./dynamic-field-renderer\";\nexport { NewFieldModal } from \"./new-field-modal\";\n"],"names":[],"mappings":";AAAA;AACA;AACA"}}]
}
{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/fernandocalado/Desktop/menux-flow/src/components/drawers/client-card-drawer.tsx"],"sourcesContent":["\"use client\";\n\nimport { useState, useRef, useEffect, useMemo } from \"react\";\nimport {\n  X,\n  Mail,\n  Phone,\n  Building2,\n  User,\n  Calendar,\n  Heart,\n  AlertTriangle,\n  XCircle,\n  Clock,\n  MoreHorizontal,\n  DollarSign,\n  Tag,\n  Plus,\n  Trash2,\n  Shield,\n  Check,\n  Pencil,\n  MapPin,\n  FileText,\n  TrendingUp,\n  Activity,\n  ArrowRight,\n  Users,\n  LogIn,\n  ThumbsUp,\n} from \"lucide-react\";\nimport { Button } from \"@/components/ui/button\";\nimport { InlineFeedback } from \"@/components/ui/inline-feedback\";\nimport { Badge } from \"@/components/ui/badge\";\nimport { Input } from \"@/components/ui/input\";\nimport { Label } from \"@/components/ui/label\";\nimport { PhoneInput } from \"@/components/ui/masked-inputs\";\nimport { Tabs, TabsContent, TabsList, TabsTrigger } from \"@/components/ui/tabs\";\nimport { Separator } from \"@/components/ui/separator\";\nimport { Textarea } from \"@/components/ui/textarea\";\nimport {\n  Select,\n  SelectContent,\n  SelectItem,\n  SelectTrigger,\n  SelectValue,\n} from \"@/components/ui/select\";\nimport {\n  Sheet,\n  SheetContent,\n  SheetHeader,\n  SheetTitle,\n} from \"@/components/ui/sheet\";\nimport {\n  Dialog,\n  DialogContent,\n  DialogHeader,\n  DialogTitle,\n  DialogFooter,\n} from \"@/components/ui/dialog\";\nimport {\n  DropdownMenu,\n  DropdownMenuContent,\n  DropdownMenuItem,\n  DropdownMenuSeparator,\n  DropdownMenuTrigger,\n} from \"@/components/ui/dropdown-menu\";\nimport { useUIStore } from \"@/stores/ui-store\";\nimport type { Contact, HealthScore, ClientStage } from \"@/types\";\nimport { calculateHealthScore, RESTAURANT_POSITIONS } from \"@/lib/business-rules\";\nimport { useClientStore } from \"@/stores/client-store\";\nimport { useContactStore } from \"@/stores/contact-store\";\nimport { useVisitStore } from \"@/stores/visit-store\";\nimport { mockUsers } from \"@/lib/mock-data\";\n\n// ── Health config ───────────────────────────────────────────────────────────\nconst healthConfig: Record<\n  HealthScore,\n  { label: string; color: string; bgColor: string; icon: React.ReactNode; numericScore: number }\n> = {\n  good: {\n    label: \"Saudavel\",\n    color: \"text-status-success\",\n    bgColor: \"bg-status-success-light\",\n    icon: <Heart className=\"h-4 w-4 fill-current text-status-success\" />,\n    numericScore: 85,\n  },\n  warning: {\n    label: \"Atencao\",\n    color: \"text-status-warning\",\n    bgColor: \"bg-status-warning-light\",\n    icon: <AlertTriangle className=\"h-4 w-4 text-status-warning\" />,\n    numericScore: 55,\n  },\n  critical: {\n    label: \"Critico\",\n    color: \"text-status-danger\",\n    bgColor: \"bg-status-danger-light\",\n    icon: <XCircle className=\"h-4 w-4 text-status-danger\" />,\n    numericScore: 20,\n  },\n};\n\n// ── Client Stage config ─────────────────────────────────────────────────────\nconst clientStageConfig: { id: ClientStage; label: string }[] = [\n  { id: \"onboarding\", label: \"Onboarding\" },\n  { id: \"implantacao\", label: \"Implantacao\" },\n  { id: \"acompanhamento\", label: \"Acompanhamento\" },\n  { id: \"retencao\", label: \"Retencao\" },\n  { id: \"churn\", label: \"Churn\" },\n];\n\n// ── Mock data ───────────────────────────────────────────────────────────────\nconst mockClient = {\n  id: \"1\",\n  companyName: \"Restaurante Panoramico\",\n  cnpj: \"12.345.678/0001-00\",\n  razaoSocial: \"Restaurante Panoramico Ltda ME\",\n  endereco: \"Av. Paulista, 1000 - Bela Vista, Sao Paulo - SP\",\n  telefoneEmpresa: \"(11) 3456-7890\",\n  emailEmpresa: \"contato@panoramico.com\",\n  stage: \"acompanhamento\" as ClientStage,\n  healthScore: \"good\" as HealthScore,\n  monthlyRevenue: 2500,\n  contractStart: \"2025-06-01\",\n  contractEnd: \"2026-06-01\",\n  responsibleId: \"u1\",\n  responsibleName: \"Maria Silva\",\n  tags: [\"food-service\", \"restaurante\", \"premium\"],\n  lastInteraction: \"2026-02-03\",\n  groupName: \"Grupo Panoramico\",\n  notes: \"Cliente com excelente engajamento. Acompanhar renovacao do contrato em junho.\",\n};\n\n\nfunction getCargoLabel(value: string): string {\n  return RESTAURANT_POSITIONS.find((p) => p.value === value)?.label ?? value;\n}\n\nfunction getPatentScore(cargo: string): number {\n  return RESTAURANT_POSITIONS.find((p) => p.value === cargo)?.patentScore ?? 0;\n}\n\nconst mockTeamMembers = mockUsers\n  .filter((u) => u.isActive)\n  .map((u) => ({ id: u.id, name: u.name, avatar: \"\" }));\n\nconst mockMrrHistory = [\n  { month: \"Set\", value: 1800 },\n  { month: \"Out\", value: 2000 },\n  { month: \"Nov\", value: 2200 },\n  { month: \"Dez\", value: 2300 },\n  { month: \"Jan\", value: 2500 },\n  { month: \"Fev\", value: 2500 },\n];\n\nconst mockMetrics = {\n  usageScore: 82,\n  daysSinceLastLogin: 2,\n  npsScore: 9,\n};\n\nfunction buildClientTimeline(clientId: string) {\n  const visits = useVisitStore.getState().getByClient(clientId);\n  const items: { id: string; type: string; message: string; user: string; date: string }[] = [];\n\n  for (const v of visits) {\n    items.push({\n      id: v.id,\n      type: v.status === \"realizada\" ? \"activity\" : \"created\",\n      message: `Visita ${v.type}: ${v.objective ?? v.location}`,\n      user: v.responsible,\n      date: new Date(v.startAt).toLocaleString(\"pt-BR\", {\n        day: \"2-digit\",\n        month: \"2-digit\",\n        year: \"numeric\",\n        hour: \"2-digit\",\n        minute: \"2-digit\",\n      }),\n    });\n  }\n\n  return items.sort((a, b) => new Date(b.date).getTime() - new Date(a.date).getTime());\n}\n\nconst churnReasons = [\n  \"Preco muito alto\",\n  \"Nao utiliza o produto\",\n  \"Mudou para concorrente\",\n  \"Empresa fechou\",\n  \"Insatisfacao com suporte\",\n  \"Falta de funcionalidades\",\n  \"Outro\",\n];\n\nfunction formatCurrency(value: number) {\n  return new Intl.NumberFormat(\"pt-BR\", {\n    style: \"currency\",\n    currency: \"BRL\",\n    minimumFractionDigits: 0,\n  }).format(value);\n}\n\nfunction getTimelineIcon(type: string) {\n  switch (type) {\n    case \"created\":\n      return <Plus className=\"h-3.5 w-3.5\" />;\n    case \"activity\":\n      return <Calendar className=\"h-3.5 w-3.5\" />;\n    case \"stage-change\":\n      return <ArrowRight className=\"h-3.5 w-3.5\" />;\n    case \"note\":\n      return <FileText className=\"h-3.5 w-3.5\" />;\n    case \"tag-added\":\n      return <Tag className=\"h-3.5 w-3.5\" />;\n    case \"value-change\":\n      return <DollarSign className=\"h-3.5 w-3.5\" />;\n    case \"health-change\":\n      return <Heart className=\"h-3.5 w-3.5\" />;\n    default:\n      return <Clock className=\"h-3.5 w-3.5\" />;\n  }\n}\n\n// ── Editable Field Row ──────────────────────────────────────────────────────\nfunction EditableField({\n  icon,\n  label,\n  value,\n  onSave,\n  type = \"text\",\n}: {\n  icon: React.ReactNode;\n  label: string;\n  value: string;\n  onSave: (val: string) => void;\n  type?: string;\n}) {\n  const [editing, setEditing] = useState(false);\n  const [draft, setDraft] = useState(value);\n  const inputRef = useRef<HTMLInputElement>(null);\n\n  useEffect(() => {\n    if (editing && inputRef.current) {\n      inputRef.current.focus();\n      inputRef.current.select();\n    }\n  }, [editing]);\n\n  function handleSave() {\n    setEditing(false);\n    if (draft !== value) onSave(draft);\n  }\n\n  return (\n    <div className=\"flex items-center gap-3 rounded-[15px] border border-zinc-100 p-3 transition-colors hover:border-zinc-200\">\n      <div className=\"flex h-8 w-8 shrink-0 items-center justify-center rounded-full bg-zinc-100 text-zinc-500\">\n        {icon}\n      </div>\n      <div className=\"flex-1\">\n        <p className=\"font-body text-xs text-zinc-500\">{label}</p>\n        {editing ? (\n          <Input\n            ref={inputRef}\n            type={type}\n            value={draft}\n            onChange={(e) => setDraft(e.target.value)}\n            onBlur={handleSave}\n            onKeyDown={(e) => {\n              if (e.key === \"Enter\") handleSave();\n              if (e.key === \"Escape\") {\n                setDraft(value);\n                setEditing(false);\n              }\n            }}\n            className=\"mt-0.5 h-7 rounded-[10px] border-zinc-200 font-body text-sm\"\n          />\n        ) : (\n          <p\n            onClick={() => {\n              setDraft(value);\n              setEditing(true);\n            }}\n            className=\"mt-0.5 cursor-pointer rounded-lg px-1 py-0.5 font-body text-sm font-medium text-black transition-colors hover:bg-zinc-50\"\n            title=\"Clique para editar\"\n          >\n            {value || \"--\"}\n          </p>\n        )}\n      </div>\n      {!editing && (\n        <Button\n          variant=\"ghost\"\n          size=\"icon\"\n          className=\"h-7 w-7 shrink-0 text-zinc-300 hover:text-zinc-500\"\n          onClick={() => {\n            setDraft(value);\n            setEditing(true);\n          }}\n        >\n          <Pencil className=\"h-3.5 w-3.5\" />\n        </Button>\n      )}\n    </div>\n  );\n}\n\n// ── Client Stage Selector ───────────────────────────────────────────────────\nfunction ClientStageSelector({\n  currentStage,\n  onStageChange,\n}: {\n  currentStage: ClientStage;\n  onStageChange: (stage: ClientStage) => void;\n}) {\n  const currentIndex = clientStageConfig.findIndex((s) => s.id === currentStage);\n\n  return (\n    <div className=\"flex items-center gap-1\">\n      {clientStageConfig.map((stage, i) => {\n        const isActive = stage.id === currentStage;\n        const isPast = i < currentIndex;\n        const isChurn = stage.id === \"churn\";\n\n        return (\n          <button\n            key={stage.id}\n            onClick={() => onStageChange(stage.id)}\n            className={`flex items-center gap-1 rounded-full px-3 py-1.5 font-body text-xs font-medium transition-all ${\n              isActive\n                ? isChurn\n                  ? \"bg-status-danger text-white shadow-sm\"\n                  : \"bg-brand text-white shadow-sm\"\n                : isPast\n                  ? \"bg-brand/10 text-brand\"\n                  : \"bg-zinc-100 text-zinc-400 hover:bg-zinc-200 hover:text-zinc-600\"\n            }`}\n          >\n            {isPast && <Check className=\"h-3 w-3\" />}\n            {stage.label}\n          </button>\n        );\n      })}\n    </div>\n  );\n}\n\n// ── Owner Selector ──────────────────────────────────────────────────────────\nfunction OwnerSelector({\n  currentId,\n  currentName,\n  teamMembers,\n  onReassign,\n}: {\n  currentId: string;\n  currentName: string;\n  teamMembers: { id: string; name: string; avatar: string }[];\n  onReassign: (id: string, name: string) => void;\n}) {\n  const initials = currentName\n    .split(\" \")\n    .map((n) => n[0])\n    .join(\"\")\n    .slice(0, 2)\n    .toUpperCase();\n\n  return (\n    <DropdownMenu>\n      <DropdownMenuTrigger asChild>\n        <button className=\"flex items-center gap-2 rounded-full px-2 py-1 transition-colors hover:bg-zinc-100\">\n          <div className=\"flex h-7 w-7 items-center justify-center rounded-full bg-brand text-xs font-bold text-white\">\n            {initials}\n          </div>\n          <span className=\"font-body text-sm font-medium text-black\">\n            {currentName}\n          </span>\n          <Pencil className=\"h-3 w-3 text-zinc-400\" />\n        </button>\n      </DropdownMenuTrigger>\n      <DropdownMenuContent align=\"start\" className=\"rounded-[15px]\">\n        {teamMembers.map((member) => (\n          <DropdownMenuItem\n            key={member.id}\n            onClick={() => onReassign(member.id, member.name)}\n            className=\"flex items-center gap-2\"\n          >\n            <div className=\"flex h-6 w-6 items-center justify-center rounded-full bg-zinc-200 text-[10px] font-bold text-zinc-600\">\n              {member.name\n                .split(\" \")\n                .map((n) => n[0])\n                .join(\"\")\n                .slice(0, 2)\n                .toUpperCase()}\n            </div>\n            <span className=\"font-body text-sm\">{member.name}</span>\n            {member.id === currentId && (\n              <Check className=\"ml-auto h-4 w-4 text-brand\" />\n            )}\n          </DropdownMenuItem>\n        ))}\n      </DropdownMenuContent>\n    </DropdownMenu>\n  );\n}\n\n// ── Contact Card ────────────────────────────────────────────────────────────\nfunction ContactCard({\n  contact,\n  onEdit,\n  onDelete,\n  onToggleDecisionMaker,\n}: {\n  contact: Contact;\n  onEdit: () => void;\n  onDelete: () => void;\n  onToggleDecisionMaker: () => void;\n}) {\n  return (\n    <div className=\"group flex items-stretch rounded-[15px] border border-zinc-200\">\n      {/* Decision-maker toggle — left side */}\n      <button\n        type=\"button\"\n        onClick={onToggleDecisionMaker}\n        className={`flex w-10 shrink-0 items-center justify-center rounded-l-[15px] border-r transition-colors ${\n          contact.isDecisionMaker\n            ? \"border-brand/20 bg-brand/10 text-brand\"\n            : \"border-zinc-200 bg-zinc-50/50 text-zinc-300 hover:bg-zinc-100 hover:text-zinc-400\"\n        }`}\n        aria-label={contact.isDecisionMaker ? \"Remover como decisor\" : \"Marcar como decisor\"}\n        title={contact.isDecisionMaker ? \"Decisor (clique para remover)\" : \"Marcar como decisor\"}\n      >\n        <Shield className=\"h-4 w-4\" />\n      </button>\n\n      {/* Card content */}\n      <div className=\"flex flex-1 items-start justify-between p-4\">\n        <div className=\"flex items-start gap-3\">\n          <div className=\"flex h-10 w-10 items-center justify-center rounded-full bg-zinc-100\">\n            <User className=\"h-5 w-5 text-zinc-500\" />\n          </div>\n          <div>\n            <div className=\"flex items-center gap-2\">\n              <p className=\"font-heading text-sm font-semibold text-black\">\n                {contact.nome}\n              </p>\n              {contact.isDecisionMaker && (\n                <Badge className=\"gap-1 rounded-[10px] bg-brand/10 text-brand font-body text-[10px]\">\n                  <Shield className=\"h-3 w-3\" />\n                  Decisor\n                </Badge>\n              )}\n            </div>\n            <p className=\"font-body text-xs text-zinc-500\">{getCargoLabel(contact.cargo)}</p>\n            <div className=\"mt-1.5 flex items-center gap-3\">\n              <span className=\"flex items-center gap-1 font-body text-xs text-zinc-500\">\n                <Mail className=\"h-3 w-3\" />\n                {contact.email}\n              </span>\n              <span className=\"flex items-center gap-1 font-body text-xs text-zinc-500\">\n                <Phone className=\"h-3 w-3\" />\n                {contact.telefone}\n              </span>\n            </div>\n            {contact.personalidade && (\n              <p className=\"mt-1.5 font-body text-xs italic text-zinc-400\">\n                &ldquo;{contact.personalidade}&rdquo;\n              </p>\n            )}\n          </div>\n        </div>\n        <div className=\"flex items-center gap-1\">\n          <Button\n            variant=\"ghost\"\n            size=\"icon\"\n            className=\"h-7 w-7 text-zinc-400 hover:text-zinc-600\"\n            onClick={onEdit}\n          >\n            <Pencil className=\"h-3.5 w-3.5\" />\n          </Button>\n          <Button\n            variant=\"ghost\"\n            size=\"icon\"\n            className=\"h-7 w-7 text-zinc-400 hover:text-status-danger\"\n            onClick={onDelete}\n          >\n            <Trash2 className=\"h-3.5 w-3.5\" />\n          </Button>\n        </div>\n      </div>\n    </div>\n  );\n}\n\n// ── MRR Mini Bar Chart ──────────────────────────────────────────────────────\nfunction MrrChart({\n  data,\n}: {\n  data: { month: string; value: number }[];\n}) {\n  const maxValue = Math.max(...data.map((d) => d.value));\n\n  return (\n    <div className=\"rounded-[15px] border border-zinc-100 p-4\">\n      <h4 className=\"mb-3 font-heading text-sm font-semibold text-black\">\n        MRR - Ultimos 6 Meses\n      </h4>\n      <div className=\"flex items-end gap-2\" style={{ height: 120 }}>\n        {data.map((d, i) => {\n          const heightPercent = (d.value / maxValue) * 100;\n          const isLast = i === data.length - 1;\n          return (\n            <div key={d.month} className=\"flex flex-1 flex-col items-center gap-1\">\n              <span className=\"font-body text-[10px] font-medium text-zinc-500\">\n                {formatCurrency(d.value)}\n              </span>\n              <div\n                className={`w-full rounded-t-lg transition-all ${\n                  isLast ? \"bg-brand\" : \"bg-brand/20\"\n                }`}\n                style={{ height: `${heightPercent}%`, minHeight: 8 }}\n              />\n              <span className=\"font-body text-xs text-zinc-400\">{d.month}</span>\n            </div>\n          );\n        })}\n      </div>\n    </div>\n  );\n}\n\n// ── Metric Card ─────────────────────────────────────────────────────────────\nfunction MetricCard({\n  icon,\n  label,\n  value,\n  suffix,\n  color = \"text-black\",\n}: {\n  icon: React.ReactNode;\n  label: string;\n  value: string | number;\n  suffix?: string;\n  color?: string;\n}) {\n  return (\n    <div className=\"flex items-center gap-3 rounded-[15px] border border-zinc-100 p-4\">\n      <div className=\"flex h-10 w-10 items-center justify-center rounded-full bg-zinc-100 text-zinc-500\">\n        {icon}\n      </div>\n      <div>\n        <p className=\"font-body text-xs text-zinc-500\">{label}</p>\n        <p className={`font-heading text-lg font-bold ${color}`}>\n          {value}\n          {suffix && (\n            <span className=\"ml-0.5 font-body text-xs font-normal text-zinc-400\">\n              {suffix}\n            </span>\n          )}\n        </p>\n      </div>\n    </div>\n  );\n}\n\n// ── Churn Modal ─────────────────────────────────────────────────────────────\nfunction ChurnModal({\n  open,\n  onClose,\n  onConfirm,\n}: {\n  open: boolean;\n  onClose: () => void;\n  onConfirm: (reason: string, notes: string) => void;\n}) {\n  const [reason, setReason] = useState(\"\");\n  const [churnNotes, setChurnNotes] = useState(\"\");\n\n  function handleSubmit() {\n    onConfirm(reason, churnNotes);\n    setReason(\"\");\n    setChurnNotes(\"\");\n    onClose();\n  }\n\n  return (\n    <Dialog open={open} onOpenChange={onClose}>\n      <DialogContent className=\"max-w-[480px] rounded-[20px] p-8\">\n        <DialogHeader>\n          <div className=\"flex items-center gap-3\">\n            <div className=\"flex h-10 w-10 items-center justify-center rounded-full bg-status-danger-light\">\n              <XCircle className=\"h-5 w-5 text-status-danger\" />\n            </div>\n            <DialogTitle className=\"font-heading text-xl font-semibold text-black\">\n              Registrar Churn\n            </DialogTitle>\n          </div>\n        </DialogHeader>\n\n        <div className=\"mt-4 space-y-4\">\n          <div className=\"space-y-2\">\n            <Label className=\"font-body text-sm text-zinc-600\">\n              Motivo do Churn\n            </Label>\n            <Select value={reason} onValueChange={setReason}>\n              <SelectTrigger className=\"h-10 rounded-[15px] font-body text-sm\">\n                <SelectValue placeholder=\"Selecione o motivo\" />\n              </SelectTrigger>\n              <SelectContent className=\"rounded-[15px]\">\n                {churnReasons.map((r) => (\n                  <SelectItem key={r} value={r}>\n                    {r}\n                  </SelectItem>\n                ))}\n              </SelectContent>\n            </Select>\n          </div>\n\n          <div className=\"space-y-2\">\n            <Label className=\"font-body text-sm text-zinc-600\">\n              Observacoes\n            </Label>\n            <Textarea\n              value={churnNotes}\n              onChange={(e) => setChurnNotes(e.target.value)}\n              className=\"min-h-[100px] rounded-[15px] font-body text-sm\"\n              placeholder=\"Descreva os detalhes do churn...\"\n            />\n          </div>\n        </div>\n\n        <DialogFooter className=\"mt-6\">\n          <Button\n            variant=\"secondary\"\n            onClick={onClose}\n            className=\"rounded-full font-heading text-sm\"\n          >\n            Cancelar\n          </Button>\n          <Button\n            onClick={handleSubmit}\n            disabled={!reason}\n            className=\"rounded-full bg-status-danger font-heading text-sm text-white hover:bg-status-danger/90\"\n          >\n            Registrar Churn\n          </Button>\n        </DialogFooter>\n      </DialogContent>\n    </Dialog>\n  );\n}\n\n// ── Main Component ──────────────────────────────────────────────────────────\nexport function ClientCardDrawer() {\n  const { drawerType, drawerData, closeDrawer, openModal } = useUIStore();\n  const isOpen = drawerType === \"client-card\";\n  const selectedClientId = drawerData?.id as string | undefined;\n  const clients = useClientStore((state) => state.clients);\n  const selectedClient = useMemo(\n    () => clients.find((client) => client.id === selectedClientId),\n    [clients, selectedClientId]\n  );\n  const resolvedClient = useMemo(\n    () =>\n      selectedClient\n        ? {\n            ...mockClient,\n            id: selectedClient.id,\n            companyName: selectedClient.companyName,\n            cnpj: selectedClient.cnpj,\n            razaoSocial: selectedClient.companyName,\n            telefoneEmpresa: selectedClient.contactPhone,\n            emailEmpresa: selectedClient.contactEmail,\n            stage: selectedClient.stage,\n            healthScore: selectedClient.healthScore,\n            monthlyRevenue: selectedClient.monthlyRevenue,\n            contractStart: selectedClient.contractStart,\n            contractEnd: selectedClient.contractEnd,\n            responsibleId: selectedClient.responsibleId,\n            responsibleName: selectedClient.responsibleName,\n            tags: selectedClient.tags,\n            lastInteraction: selectedClient.lastInteraction,\n            notes: \"\",\n          }\n        : mockClient,\n    [selectedClient]\n  );\n  // Health Score calculado dinamicamente\n  const computedHealth = calculateHealthScore(resolvedClient);\n  const health = {\n    ...healthConfig[computedHealth.category],\n    numericScore: computedHealth.numericScore,\n  };\n\n  // State\n  const [stage, setStage] = useState<ClientStage>(resolvedClient.stage);\n  const [responsibleId, setResponsibleId] = useState(resolvedClient.responsibleId);\n  const [responsibleName, setResponsibleName] = useState(resolvedClient.responsibleName);\n  const [notes, setNotes] = useState(resolvedClient.notes);\n  const [tags, setTags] = useState(() => [...resolvedClient.tags]);\n  const [newTag, setNewTag] = useState(\"\");\n  const [contacts, setContacts] = useState<Contact[]>(() => {\n    const storeContacts = useContactStore.getState().getByClient(resolvedClient.id);\n    return storeContacts.length > 0 ? storeContacts : [];\n  });\n  const sortedContacts = useMemo(\n    () => [...contacts].sort((a, b) => getPatentScore(b.cargo) - getPatentScore(a.cargo)),\n    [contacts],\n  );\n  const [showChurnModal, setShowChurnModal] = useState(false);\n\n  // Company editable fields\n  const [cnpj, setCnpj] = useState(resolvedClient.cnpj);\n  const [razaoSocial, setRazaoSocial] = useState(resolvedClient.razaoSocial);\n  const [endereco, setEndereco] = useState(resolvedClient.endereco);\n  const [telefoneEmpresa, setTelefoneEmpresa] = useState(resolvedClient.telefoneEmpresa);\n  const [emailEmpresa, setEmailEmpresa] = useState(resolvedClient.emailEmpresa);\n\n  // Contact form\n  const [showAddContact, setShowAddContact] = useState(false);\n  const [newContact, setNewContact] = useState({\n    nome: \"\",\n    email: \"\",\n    telefone: \"\",\n    cargo: \"\",\n    personalidade: \"\",\n  });\n\n  // Inline feedback\n  const [inlineFeedback, setInlineFeedback] = useState<{ type: \"success\" | \"error\" | \"warning\" | \"info\"; message: string } | null>(null);\n\n  // Contact edit\n  const [editingContactId, setEditingContactId] = useState<string | null>(null);\n  const [editContact, setEditContact] = useState({\n    nome: \"\",\n    email: \"\",\n    telefone: \"\",\n    cargo: \"\",\n    personalidade: \"\",\n  });\n\n  function handleAddTag() {\n    if (newTag.trim() && !tags.includes(newTag.trim().toLowerCase())) {\n      setTags([...tags, newTag.trim().toLowerCase()]);\n      setNewTag(\"\");\n    }\n  }\n\n  function handleRemoveTag(tag: string) {\n    setTags(tags.filter((t) => t !== tag));\n  }\n\n  function handleAddContact() {\n    if (newContact.nome.trim()) {\n      setContacts([\n        ...contacts,\n        {\n          id: `c${Date.now()}`,\n          clientId: \"client-mock\",\n          ...newContact,\n          isDecisionMaker: false,\n        },\n      ]);\n      setNewContact({ nome: \"\", email: \"\", telefone: \"\", cargo: \"\", personalidade: \"\" });\n      setShowAddContact(false);\n    }\n  }\n\n  function handleDeleteContact(id: string) {\n    setContacts(contacts.filter((c) => c.id !== id));\n  }\n\n  function handleToggleDecisionMaker(id: string) {\n    setContacts(\n      contacts.map((c) =>\n        c.id === id ? { ...c, isDecisionMaker: !c.isDecisionMaker } : c\n      )\n    );\n  }\n\n  function handleStartEditContact(contact: Contact) {\n    setEditingContactId(contact.id);\n    setEditContact({\n      nome: contact.nome,\n      email: contact.email,\n      telefone: contact.telefone,\n      cargo: contact.cargo,\n      personalidade: contact.personalidade ?? \"\",\n    });\n  }\n\n  function handleSaveEditContact() {\n    if (editingContactId && editContact.nome.trim()) {\n      setContacts(\n        contacts.map((c) =>\n          c.id === editingContactId ? { ...c, ...editContact } : c\n        )\n      );\n      setEditingContactId(null);\n      setEditContact({ nome: \"\", email: \"\", telefone: \"\", cargo: \"\", personalidade: \"\" });\n    }\n  }\n\n  return (\n    <>\n      <Sheet open={isOpen} onOpenChange={() => closeDrawer()}>\n        <SheetContent\n          side=\"right\"\n          className=\"w-full overflow-y-auto border-l border-zinc-200 p-0 sm:w-[720px] sm:max-w-[720px]\"\n          showCloseButton={false}\n        >\n          {/* ── Header ──────────────────────────────────────────────── */}\n          <SheetHeader className=\"sticky top-0 z-10 border-b border-zinc-200 bg-white px-6 py-4\">\n            <div className=\"flex items-center justify-between\">\n              <div className=\"flex-1\">\n                <div className=\"flex items-center gap-3\">\n                  <SheetTitle className=\"font-heading text-xl font-semibold text-black\">\n                    {resolvedClient.companyName}\n                  </SheetTitle>\n                  {/* Health Score Badge */}\n                  <div\n                    className={`inline-flex items-center gap-1.5 rounded-[10px] px-3 py-1.5 font-heading text-sm font-bold ${health.bgColor} ${health.color}`}\n                  >\n                    {health.icon}\n                    {health.label}\n                    <span className=\"ml-1 text-xs font-normal opacity-70\">\n                      ({health.numericScore})\n                    </span>\n                  </div>\n                  {/* Group Badge */}\n                  {resolvedClient.groupName && (\n                    <Badge className=\"gap-1 rounded-[10px] bg-zinc-100 text-zinc-600 font-body text-xs\">\n                      <Users className=\"h-3 w-3\" />\n                      {resolvedClient.groupName}\n                    </Badge>\n                  )}\n                </div>\n                <p className=\"mt-0.5 font-body text-sm text-zinc-500\">\n                  CNPJ: {resolvedClient.cnpj}\n                </p>\n              </div>\n              <div className=\"flex items-center gap-2\">\n                <Button\n                  onClick={() => setShowChurnModal(true)}\n                  variant=\"destructive\"\n                  className=\"rounded-full font-heading text-sm\"\n                >\n                  Registrar Churn\n                </Button>\n                <DropdownMenu>\n                  <DropdownMenuTrigger asChild>\n                    <Button variant=\"ghost\" size=\"icon\" className=\"text-zinc-400\">\n                      <MoreHorizontal className=\"h-5 w-5\" />\n                    </Button>\n                  </DropdownMenuTrigger>\n                  <DropdownMenuContent align=\"end\" className=\"rounded-[15px]\">\n                    <DropdownMenuItem onClick={() => openModal(\"new-activity\")}>\n                      Nova atividade\n                    </DropdownMenuItem>\n                    <DropdownMenuItem onClick={() => openModal(\"new-activity\")}>\n                      Registrar interacao\n                    </DropdownMenuItem>\n                    <DropdownMenuSeparator />\n                    <DropdownMenuItem\n                      className=\"text-status-danger\"\n                      onClick={() => openModal(\"confirm-deactivate\")}\n                    >\n                      Desativar cliente\n                    </DropdownMenuItem>\n                  </DropdownMenuContent>\n                </DropdownMenu>\n                <Button\n                  variant=\"ghost\"\n                  size=\"icon\"\n                  className=\"text-zinc-400\"\n                  onClick={() => closeDrawer()}\n                >\n                  <X className=\"h-5 w-5\" />\n                </Button>\n              </div>\n            </div>\n\n            {/* Stage Selector */}\n            <div className=\"mt-3 overflow-x-auto\">\n              <ClientStageSelector currentStage={stage} onStageChange={setStage} />\n            </div>\n\n            {/* Owner row */}\n            <div className=\"mt-3 flex items-center justify-between\">\n              <div className=\"flex items-center gap-4\">\n                <div className=\"flex items-center gap-2\">\n                  <DollarSign className=\"h-4 w-4 text-zinc-400\" />\n                  <span className=\"font-body text-sm text-zinc-600\">\n                    MRR: <strong className=\"text-black\">{formatCurrency(resolvedClient.monthlyRevenue)}</strong>\n                  </span>\n                </div>\n                <div className=\"flex items-center gap-2\">\n                  <Calendar className=\"h-4 w-4 text-zinc-400\" />\n                  <span className=\"font-body text-sm text-zinc-600\">\n                    Contrato: <strong className=\"text-black\">{new Date(resolvedClient.contractStart).toLocaleDateString(\"pt-BR\")}</strong>\n                  </span>\n                </div>\n              </div>\n              <OwnerSelector\n                currentId={responsibleId}\n                currentName={responsibleName}\n                teamMembers={mockTeamMembers}\n                onReassign={(id, name) => {\n                  setResponsibleId(id);\n                  setResponsibleName(name);\n                }}\n              />\n            </div>\n          </SheetHeader>\n\n          {/* ── Body ────────────────────────────────────────────────── */}\n          <div className=\"p-6\">\n            {inlineFeedback && (\n              <div className=\"mb-4\">\n                <InlineFeedback\n                  type={inlineFeedback.type}\n                  message={inlineFeedback.message}\n                  compact\n                  onClose={() => setInlineFeedback(null)}\n                />\n              </div>\n            )}\n            <Tabs defaultValue=\"resumo\">\n              <TabsList className=\"w-full border-b border-zinc-200 bg-transparent p-0\">\n                {[\n                  { value: \"resumo\", label: \"Resumo\" },\n                  { value: \"empresa\", label: \"Empresa\" },\n                  { value: \"contatos\", label: \"Contatos\" },\n                  { value: \"metricas\", label: \"Metricas\" },\n                  { value: \"tags\", label: \"Tags\" },\n                  { value: \"historico\", label: \"Historico\" },\n                ].map((tab) => (\n                  <TabsTrigger\n                    key={tab.value}\n                    value={tab.value}\n                    className=\"rounded-none border-b-2 border-transparent px-4 py-2.5 font-body text-sm data-[state=active]:border-brand data-[state=active]:text-brand\"\n                  >\n                    {tab.label}\n                  </TabsTrigger>\n                ))}\n              </TabsList>\n\n              {/* ── Tab: Resumo ─────────────────────────────────────── */}\n              <TabsContent value=\"resumo\" className=\"mt-6\">\n                <div className=\"grid grid-cols-2 gap-4\">\n                  <InfoRow\n                    icon={<DollarSign className=\"h-4 w-4\" />}\n                    label=\"Receita Mensal\"\n                  >\n                    <span className=\"font-body text-sm font-medium text-black\">\n                      {formatCurrency(resolvedClient.monthlyRevenue)}/mes\n                    </span>\n                  </InfoRow>\n                  <InfoRow\n                    icon={<User className=\"h-4 w-4\" />}\n                    label=\"Responsavel\"\n                  >\n                    <span className=\"font-body text-sm font-medium text-black\">\n                      {responsibleName}\n                    </span>\n                  </InfoRow>\n                  <InfoRow\n                    icon={<Calendar className=\"h-4 w-4\" />}\n                    label=\"Inicio do Contrato\"\n                  >\n                    <span className=\"font-body text-sm font-medium text-black\">\n                      {new Date(resolvedClient.contractStart).toLocaleDateString(\"pt-BR\")}\n                    </span>\n                  </InfoRow>\n                  <InfoRow\n                    icon={<Clock className=\"h-4 w-4\" />}\n                    label=\"Ultima Interacao\"\n                  >\n                    <span className=\"font-body text-sm font-medium text-black\">\n                      {resolvedClient.lastInteraction\n                        ? new Date(resolvedClient.lastInteraction).toLocaleDateString(\"pt-BR\")\n                        : \"--\"}\n                    </span>\n                  </InfoRow>\n                </div>\n\n                {/* Tags preview */}\n                <div className=\"mt-4 flex flex-wrap items-center gap-2\">\n                  <Tag className=\"h-4 w-4 text-zinc-400\" />\n                  {tags.map((tag) => (\n                    <Badge\n                      key={tag}\n                      variant=\"outline\"\n                      className=\"rounded-[10px] font-body text-xs\"\n                    >\n                      {tag}\n                    </Badge>\n                  ))}\n                </div>\n\n                {/* Notes */}\n                <Separator className=\"my-6\" />\n                <div>\n                  <h3 className=\"mb-3 font-heading text-base font-semibold text-black\">\n                    Anotacoes\n                  </h3>\n                  <Textarea\n                    value={notes}\n                    onChange={(e) => setNotes(e.target.value)}\n                    className=\"min-h-[100px] rounded-[15px] font-body text-sm\"\n                    placeholder=\"Adicione anotacoes sobre este cliente...\"\n                  />\n                </div>\n              </TabsContent>\n\n              {/* ── Tab: Empresa ────────────────────────────────────── */}\n              <TabsContent value=\"empresa\" className=\"mt-6\">\n                <div className=\"space-y-4\">\n                  <EditableField\n                    icon={<Building2 className=\"h-4 w-4\" />}\n                    label=\"CNPJ\"\n                    value={cnpj}\n                    onSave={setCnpj}\n                  />\n                  <EditableField\n                    icon={<FileText className=\"h-4 w-4\" />}\n                    label=\"Razao Social\"\n                    value={razaoSocial}\n                    onSave={setRazaoSocial}\n                  />\n                  <EditableField\n                    icon={<MapPin className=\"h-4 w-4\" />}\n                    label=\"Endereco\"\n                    value={endereco}\n                    onSave={setEndereco}\n                  />\n                  <EditableField\n                    icon={<Phone className=\"h-4 w-4\" />}\n                    label=\"Telefone\"\n                    value={telefoneEmpresa}\n                    onSave={setTelefoneEmpresa}\n                  />\n                  <EditableField\n                    icon={<Mail className=\"h-4 w-4\" />}\n                    label=\"E-mail\"\n                    value={emailEmpresa}\n                    onSave={setEmailEmpresa}\n                  />\n                </div>\n              </TabsContent>\n\n              {/* ── Tab: Contatos ───────────────────────────────────── */}\n              <TabsContent value=\"contatos\" className=\"mt-6\">\n                <div className=\"mb-4 flex items-center justify-between\">\n                  <h3 className=\"font-heading text-base font-semibold text-black\">\n                    Contatos ({sortedContacts.length})\n                  </h3>\n                  <Button\n                    onClick={() => setShowAddContact(true)}\n                    className=\"rounded-full bg-brand font-heading text-sm text-white hover:bg-brand/90\"\n                    size=\"sm\"\n                  >\n                    <Plus className=\"mr-1.5 h-4 w-4\" />\n                    Adicionar\n                  </Button>\n                </div>\n\n                {showAddContact && (\n                  <div className=\"mb-4 space-y-3 rounded-[15px] border border-zinc-200 p-4\">\n                    <div className=\"grid grid-cols-2 gap-3\">\n                      <div>\n                        <Label className=\"font-body text-xs text-zinc-500\">Nome</Label>\n                        <Input\n                          value={newContact.nome}\n                          onChange={(e) =>\n                            setNewContact({ ...newContact, nome: e.target.value })\n                          }\n                          className=\"mt-1 h-9 rounded-[15px] font-body text-sm\"\n                          placeholder=\"Nome do contato\"\n                        />\n                      </div>\n                      <div>\n                        <Label className=\"font-body text-xs text-zinc-500\">Cargo</Label>\n                        <Select\n                          value={newContact.cargo}\n                          onValueChange={(value) =>\n                            setNewContact({ ...newContact, cargo: value })\n                          }\n                        >\n                          <SelectTrigger className=\"mt-1 h-9 w-full rounded-[15px] border-zinc-200 font-body text-sm\">\n                            <SelectValue placeholder=\"Selecione o cargo\" />\n                          </SelectTrigger>\n                          <SelectContent>\n                            {RESTAURANT_POSITIONS.map((pos) => (\n                              <SelectItem key={pos.value} value={pos.value}>\n                                {pos.label}\n                              </SelectItem>\n                            ))}\n                          </SelectContent>\n                        </Select>\n                      </div>\n                      <div>\n                        <Label className=\"font-body text-xs text-zinc-500\">E-mail</Label>\n                        <Input\n                          type=\"email\"\n                          value={newContact.email}\n                          onChange={(e) =>\n                            setNewContact({ ...newContact, email: e.target.value })\n                          }\n                          className=\"mt-1 h-9 rounded-[15px] font-body text-sm\"\n                          placeholder=\"email@empresa.com\"\n                        />\n                      </div>\n                      <div>\n                        <Label className=\"font-body text-xs text-zinc-500\">Telefone</Label>\n                        <PhoneInput\n                          value={newContact.telefone}\n                          onValueChange={(raw) =>\n                            setNewContact({ ...newContact, telefone: raw })\n                          }\n                          className=\"mt-1 h-9 rounded-[15px] font-body text-sm\"\n                        />\n                      </div>\n                    </div>\n                    <div>\n                      <Label className=\"font-body text-xs text-zinc-500\">Personalidade</Label>\n                      <Textarea\n                        value={newContact.personalidade}\n                        onChange={(e) =>\n                          setNewContact({ ...newContact, personalidade: e.target.value })\n                        }\n                        className=\"mt-1 min-h-[60px] rounded-[15px] font-body text-sm\"\n                        placeholder=\"Ex: Direto e objetivo, prefere reuniões curtas...\"\n                      />\n                    </div>\n                    <div className=\"flex justify-end gap-2\">\n                      <Button\n                        variant=\"ghost\"\n                        size=\"sm\"\n                        className=\"rounded-full font-heading text-sm\"\n                        onClick={() => setShowAddContact(false)}\n                      >\n                        Cancelar\n                      </Button>\n                      <Button\n                        size=\"sm\"\n                        className=\"rounded-full bg-brand font-heading text-sm text-white hover:bg-brand/90\"\n                        onClick={handleAddContact}\n                      >\n                        Salvar\n                      </Button>\n                    </div>\n                  </div>\n                )}\n\n                <div className=\"space-y-3\">\n                  {sortedContacts.map((contact) =>\n                    editingContactId === contact.id ? (\n                      <div\n                        key={contact.id}\n                        className=\"space-y-3 rounded-[15px] border border-brand/30 bg-brand-light/10 p-4\"\n                      >\n                        <div className=\"grid grid-cols-2 gap-3\">\n                          <div>\n                            <Label className=\"font-body text-xs text-zinc-500\">Nome</Label>\n                            <Input\n                              value={editContact.nome}\n                              onChange={(e) =>\n                                setEditContact({ ...editContact, nome: e.target.value })\n                              }\n                              className=\"mt-1 h-9 rounded-[15px] font-body text-sm\"\n                            />\n                          </div>\n                          <div>\n                            <Label className=\"font-body text-xs text-zinc-500\">Cargo</Label>\n                            <Select\n                              value={editContact.cargo}\n                              onValueChange={(value) =>\n                                setEditContact({ ...editContact, cargo: value })\n                              }\n                            >\n                              <SelectTrigger className=\"mt-1 h-9 w-full rounded-[15px] border-zinc-200 font-body text-sm\">\n                                <SelectValue placeholder=\"Selecione o cargo\" />\n                              </SelectTrigger>\n                              <SelectContent>\n                                {RESTAURANT_POSITIONS.map((pos) => (\n                                  <SelectItem key={pos.value} value={pos.value}>\n                                    {pos.label}\n                                  </SelectItem>\n                                ))}\n                              </SelectContent>\n                            </Select>\n                          </div>\n                          <div>\n                            <Label className=\"font-body text-xs text-zinc-500\">E-mail</Label>\n                            <Input\n                              type=\"email\"\n                              value={editContact.email}\n                              onChange={(e) =>\n                                setEditContact({ ...editContact, email: e.target.value })\n                              }\n                              className=\"mt-1 h-9 rounded-[15px] font-body text-sm\"\n                            />\n                          </div>\n                          <div>\n                            <Label className=\"font-body text-xs text-zinc-500\">Telefone</Label>\n                            <PhoneInput\n                              value={editContact.telefone}\n                              onValueChange={(raw) =>\n                                setEditContact({ ...editContact, telefone: raw })\n                              }\n                              className=\"mt-1 h-9 rounded-[15px] font-body text-sm\"\n                            />\n                          </div>\n                        </div>\n                        <div>\n                          <Label className=\"font-body text-xs text-zinc-500\">Personalidade</Label>\n                          <Textarea\n                            value={editContact.personalidade}\n                            onChange={(e) =>\n                              setEditContact({ ...editContact, personalidade: e.target.value })\n                            }\n                            className=\"mt-1 min-h-[60px] rounded-[15px] font-body text-sm\"\n                            placeholder=\"Ex: Direto e objetivo, prefere reuniões curtas...\"\n                          />\n                        </div>\n                        <div className=\"flex justify-end gap-2\">\n                          <Button\n                            variant=\"ghost\"\n                            size=\"sm\"\n                            className=\"rounded-full font-heading text-sm\"\n                            onClick={() => {\n                              setEditingContactId(null);\n                              setEditContact({ nome: \"\", email: \"\", telefone: \"\", cargo: \"\", personalidade: \"\" });\n                            }}\n                          >\n                            Cancelar\n                          </Button>\n                          <Button\n                            size=\"sm\"\n                            className=\"rounded-full bg-brand font-heading text-sm text-white hover:bg-brand/90\"\n                            onClick={handleSaveEditContact}\n                          >\n                            Salvar\n                          </Button>\n                        </div>\n                      </div>\n                    ) : (\n                      <ContactCard\n                        key={contact.id}\n                        contact={contact}\n                        onEdit={() => handleStartEditContact(contact)}\n                        onDelete={() => handleDeleteContact(contact.id)}\n                        onToggleDecisionMaker={() => handleToggleDecisionMaker(contact.id)}\n                      />\n                    )\n                  )}\n                </div>\n              </TabsContent>\n\n              {/* ── Tab: Metricas ───────────────────────────────────── */}\n              <TabsContent value=\"metricas\" className=\"mt-6\">\n                <div className=\"space-y-4\">\n                  {/* MRR Chart */}\n                  <MrrChart data={mockMrrHistory} />\n\n                  {/* Metric Cards */}\n                  <div className=\"grid grid-cols-2 gap-4\">\n                    <MetricCard\n                      icon={<Activity className=\"h-5 w-5\" />}\n                      label=\"Score de Uso\"\n                      value={mockMetrics.usageScore}\n                      suffix=\"/100\"\n                      color={\n                        mockMetrics.usageScore >= 70\n                          ? \"text-status-success\"\n                          : mockMetrics.usageScore >= 40\n                            ? \"text-status-warning\"\n                            : \"text-status-danger\"\n                      }\n                    />\n                    <MetricCard\n                      icon={<LogIn className=\"h-5 w-5\" />}\n                      label=\"Dias Desde Ultimo Login\"\n                      value={mockMetrics.daysSinceLastLogin}\n                      suffix={mockMetrics.daysSinceLastLogin === 1 ? \"dia\" : \"dias\"}\n                      color={\n                        mockMetrics.daysSinceLastLogin <= 3\n                          ? \"text-status-success\"\n                          : mockMetrics.daysSinceLastLogin <= 7\n                            ? \"text-status-warning\"\n                            : \"text-status-danger\"\n                      }\n                    />\n                    <MetricCard\n                      icon={<ThumbsUp className=\"h-5 w-5\" />}\n                      label=\"NPS Score\"\n                      value={mockMetrics.npsScore}\n                      suffix=\"/10\"\n                      color={\n                        mockMetrics.npsScore >= 8\n                          ? \"text-status-success\"\n                          : mockMetrics.npsScore >= 6\n                            ? \"text-status-warning\"\n                            : \"text-status-danger\"\n                      }\n                    />\n                    <MetricCard\n                      icon={<TrendingUp className=\"h-5 w-5\" />}\n                      label=\"Crescimento MRR\"\n                      value=\"+39%\"\n                      color=\"text-status-success\"\n                    />\n                  </div>\n                </div>\n              </TabsContent>\n\n              {/* ── Tab: Tags ───────────────────────────────────────── */}\n              <TabsContent value=\"tags\" className=\"mt-6\">\n                <div className=\"space-y-4\">\n                  <div className=\"flex items-center gap-2\">\n                    <Input\n                      value={newTag}\n                      onChange={(e) => setNewTag(e.target.value)}\n                      onKeyDown={(e) => {\n                        if (e.key === \"Enter\") {\n                          e.preventDefault();\n                          handleAddTag();\n                        }\n                      }}\n                      placeholder=\"Digite uma nova tag...\"\n                      className=\"h-9 flex-1 rounded-[15px] font-body text-sm\"\n                    />\n                    <Button\n                      onClick={handleAddTag}\n                      className=\"rounded-full bg-brand font-heading text-sm text-white hover:bg-brand/90\"\n                      size=\"sm\"\n                    >\n                      <Plus className=\"mr-1 h-4 w-4\" />\n                      Adicionar\n                    </Button>\n                  </div>\n\n                  <div className=\"flex flex-wrap gap-2\">\n                    {tags.map((tag) => (\n                      <Badge\n                        key={tag}\n                        variant=\"outline\"\n                        className=\"gap-1.5 rounded-[10px] py-1.5 pr-1.5 font-body text-sm\"\n                      >\n                        {tag}\n                        <button\n                          onClick={() => handleRemoveTag(tag)}\n                          className=\"rounded-full p-0.5 transition-colors hover:bg-zinc-200\"\n                        >\n                          <X className=\"h-3 w-3 text-zinc-400\" />\n                        </button>\n                      </Badge>\n                    ))}\n                  </div>\n\n                  {tags.length === 0 && (\n                    <p className=\"py-8 text-center font-body text-sm text-zinc-400\">\n                      Nenhuma tag adicionada\n                    </p>\n                  )}\n                </div>\n              </TabsContent>\n\n              {/* ── Tab: Historico ───────────────────────────────────── */}\n              <TabsContent value=\"historico\" className=\"mt-6\">\n                <div className=\"relative space-y-0\">\n                  {(() => {\n                    const timeline = buildClientTimeline(resolvedClient.id);\n                    return timeline.map((event, i) => (\n                      <div key={event.id} className=\"relative flex gap-4 pb-6\">\n                        {i < timeline.length - 1 && (\n                          <div className=\"absolute left-[15px] top-8 h-full w-px bg-zinc-200\" />\n                        )}\n                        <div className=\"relative z-10 flex h-8 w-8 shrink-0 items-center justify-center rounded-full bg-zinc-100 text-zinc-500\">\n                          {getTimelineIcon(event.type)}\n                        </div>\n                        <div className=\"flex-1 pt-0.5\">\n                          <p className=\"font-body text-sm text-black\">\n                            {event.message}\n                          </p>\n                          <p className=\"font-body text-xs text-zinc-400\">\n                            {event.user} -- {event.date}\n                          </p>\n                        </div>\n                      </div>\n                    ));\n                  })()}\n                </div>\n              </TabsContent>\n            </Tabs>\n          </div>\n        </SheetContent>\n      </Sheet>\n\n      {/* Churn Modal */}\n      <ChurnModal\n        open={showChurnModal}\n        onClose={() => setShowChurnModal(false)}\n        onConfirm={(reason, churnNotes) => {\n          setStage(\"churn\");\n          setInlineFeedback({\n            type: \"success\",\n            message: `Churn registrado! Motivo: ${reason}.${churnNotes ? ` Observacoes: ${churnNotes}.` : \"\"} O cliente foi marcado como churn.`,\n          });\n        }}\n      />\n    </>\n  );\n}\n\n// ── Shared sub-components ───────────────────────────────────────────────────\nfunction InfoRow({\n  icon,\n  label,\n  children,\n}: {\n  icon: React.ReactNode;\n  label: string;\n  children: React.ReactNode;\n}) {\n  return (\n    <div className=\"flex items-center gap-3\">\n      <div className=\"flex h-8 w-8 items-center justify-center rounded-full bg-zinc-100 text-zinc-500\">\n        {icon}\n      </div>\n      <div>\n        <p className=\"font-body text-xs text-zinc-500\">{label}</p>\n        {children}\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":"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"}}]
}
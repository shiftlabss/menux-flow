(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,15288,e=>{"use strict";var s=e.i(43476),t=e.i(75157);function a({className:e,...a}){return(0,s.jsx)("div",{"data-slot":"card",className:(0,t.cn)("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",e),...a})}function n({className:e,...a}){return(0,s.jsx)("div",{"data-slot":"card-header",className:(0,t.cn)("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-2 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",e),...a})}function i({className:e,...a}){return(0,s.jsx)("div",{"data-slot":"card-title",className:(0,t.cn)("leading-none font-semibold",e),...a})}function r({className:e,...a}){return(0,s.jsx)("div",{"data-slot":"card-description",className:(0,t.cn)("text-muted-foreground text-sm",e),...a})}function l({className:e,...a}){return(0,s.jsx)("div",{"data-slot":"card-content",className:(0,t.cn)("px-6",e),...a})}e.s(["Card",()=>a,"CardContent",()=>l,"CardDescription",()=>r,"CardHeader",()=>n,"CardTitle",()=>i])},55838,(e,s,t)=>{"use strict";var a=e.r(71645),n="function"==typeof Object.is?Object.is:function(e,s){return e===s&&(0!==e||1/e==1/s)||e!=e&&s!=s},i=a.useState,r=a.useEffect,l=a.useLayoutEffect,d=a.useDebugValue;function c(e){var s=e.getSnapshot;e=e.value;try{var t=s();return!n(e,t)}catch(e){return!0}}var o="u"<typeof window||void 0===window.document||void 0===window.document.createElement?function(e,s){return s()}:function(e,s){var t=s(),a=i({inst:{value:t,getSnapshot:s}}),n=a[0].inst,o=a[1];return l(function(){n.value=t,n.getSnapshot=s,c(n)&&o({inst:n})},[e,t,s]),r(function(){return c(n)&&o({inst:n}),e(function(){c(n)&&o({inst:n})})},[e]),d(t),t};t.useSyncExternalStore=void 0!==a.useSyncExternalStore?a.useSyncExternalStore:o},2239,(e,s,t)=>{"use strict";s.exports=e.r(55838)},99676,e=>{"use strict";var s=e.i(43476),t=e.i(71645),a=e.i(30030),n=e.i(30207),i=e.i(34620);e.i(74080);var r=e.i(91918),l=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"].reduce((e,a)=>{let n=(0,r.createSlot)(`Primitive.${a}`),i=t.forwardRef((e,t)=>{let{asChild:i,...r}=e;return"u">typeof window&&(window[Symbol.for("radix-ui")]=!0),(0,s.jsx)(i?n:a,{...r,ref:t})});return i.displayName=`Primitive.${a}`,{...e,[a]:i}},{}),d=e.i(2239);function c(){return()=>{}}var o="Avatar",[u,m]=(0,a.createContextScope)(o),[x,h]=u(o),f=t.forwardRef((e,a)=>{let{__scopeAvatar:n,...i}=e,[r,d]=t.useState("idle");return(0,s.jsx)(x,{scope:n,imageLoadingStatus:r,onImageLoadingStatusChange:d,children:(0,s.jsx)(l.span,{...i,ref:a})})});f.displayName=o;var p="AvatarImage",v=t.forwardRef((e,a)=>{let{__scopeAvatar:r,src:o,onLoadingStatusChange:u=()=>{},...m}=e,x=h(p,r),f=function(e,{referrerPolicy:s,crossOrigin:a}){let n=(0,d.useSyncExternalStore)(c,()=>!0,()=>!1),r=t.useRef(null),l=n?(r.current||(r.current=new window.Image),r.current):null,[o,u]=t.useState(()=>b(l,e));return(0,i.useLayoutEffect)(()=>{u(b(l,e))},[l,e]),(0,i.useLayoutEffect)(()=>{let e=e=>()=>{u(e)};if(!l)return;let t=e("loaded"),n=e("error");return l.addEventListener("load",t),l.addEventListener("error",n),s&&(l.referrerPolicy=s),"string"==typeof a&&(l.crossOrigin=a),()=>{l.removeEventListener("load",t),l.removeEventListener("error",n)}},[l,a,s]),o}(o,m),v=(0,n.useCallbackRef)(e=>{u(e),x.onImageLoadingStatusChange(e)});return(0,i.useLayoutEffect)(()=>{"idle"!==f&&v(f)},[f,v]),"loaded"===f?(0,s.jsx)(l.img,{...m,ref:a,src:o}):null});v.displayName=p;var j="AvatarFallback",g=t.forwardRef((e,a)=>{let{__scopeAvatar:n,delayMs:i,...r}=e,d=h(j,n),[c,o]=t.useState(void 0===i);return t.useEffect(()=>{if(void 0!==i){let e=window.setTimeout(()=>o(!0),i);return()=>window.clearTimeout(e)}},[i]),c&&"loaded"!==d.imageLoadingStatus?(0,s.jsx)(l.span,{...r,ref:a}):null});function b(e,s){return e?s?(e.src!==s&&(e.src=s),e.complete&&e.naturalWidth>0?"loaded":"loading"):"error":"idle"}g.displayName=j,e.s(["Avatar",()=>f,"AvatarFallback",()=>g,"AvatarImage",()=>v,"Fallback",()=>g,"Image",()=>v,"Root",()=>f,"createAvatarScope",()=>m],97456);var y=e.i(97456),y=y,N=e.i(75157);function w({className:e,size:t="default",...a}){return(0,s.jsx)(y.Root,{"data-slot":"avatar","data-size":t,className:(0,N.cn)("group/avatar relative flex size-8 shrink-0 overflow-hidden rounded-full select-none data-[size=lg]:size-10 data-[size=sm]:size-6",e),...a})}function C({className:e,...t}){return(0,s.jsx)(y.Image,{"data-slot":"avatar-image",className:(0,N.cn)("aspect-square size-full",e),...t})}function S({className:e,...t}){return(0,s.jsx)(y.Fallback,{"data-slot":"avatar-fallback",className:(0,N.cn)("bg-muted text-muted-foreground flex size-full items-center justify-center rounded-full text-sm group-data-[size=sm]/avatar:text-xs",e),...t})}e.s(["Avatar",()=>w,"AvatarFallback",()=>S,"AvatarImage",()=>C],99676)},68553,e=>{"use strict";let s=(0,e.i(75254).default)("camera",[["path",{d:"M13.997 4a2 2 0 0 1 1.76 1.05l.486.9A2 2 0 0 0 18.003 7H20a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h1.997a2 2 0 0 0 1.759-1.048l.489-.904A2 2 0 0 1 10.004 4z",key:"18u6gg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);e.s(["Camera",()=>s],68553)},50297,e=>{"use strict";var s=e.i(43476),t=e.i(71645),a=e.i(53145),n=e.i(94814),i=e.i(31278),r=e.i(68553),l=e.i(75254);let d=(0,l.default)("monitor",[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]]),c=(0,l.default)("smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]),o=(0,l.default)("tablet",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["line",{x1:"12",x2:"12.01",y1:"18",y2:"18",key:"1dp563"}]]);var u=e.i(92270),m=e.i(98919),x=e.i(19455),h=e.i(99753),f=e.i(93479),p=e.i(10204),v=e.i(7353),j=e.i(15288),g=e.i(99676),b=e.i(72436),y=e.i(99375),N=e.i(87486),w=e.i(1106),C=e.i(82943);let S=[{id:"1",device:"MacBook Pro",browser:"Chrome 121",ip:"189.***.***.42",lastActive:"Agora",isCurrent:!0,icon:"desktop"},{id:"2",device:"iPhone 15",browser:"Safari 17",ip:"189.***.***.42",lastActive:"Há 2 horas",isCurrent:!1,icon:"mobile"},{id:"3",device:"Windows Desktop",browser:"Edge 120",ip:"201.***.***.18",lastActive:"Há 3 dias",isCurrent:!1,icon:"desktop"}],k=[{id:"sla",label:"SLA",description:"Alertas de prazo e violações de SLA"},{id:"activities",label:"Atividades",description:"Lembretes e atualizações de atividades"},{id:"opportunities",label:"Oportunidades",description:"Movimentações e mudanças em oportunidades"},{id:"health-score",label:"Health Score",description:"Alterações no score de saúde dos clientes"}];function z(){let{user:e}=(0,C.useAuthStore)(),[l,d]=(0,t.useState)(!1),c=(0,t.useRef)(null),[o,u]=(0,t.useState)(null),[m,b]=(0,t.useState)(""),[y,N]=(0,t.useState)(""),[S,k]=(0,t.useState)(""),[z,E]=(0,t.useState)(null),[I,T]=(0,t.useState)(null),[P,F]=(0,t.useState)(null),[R,B]=(0,t.useState)(null),{register:H,handleSubmit:O,setValue:M,formState:{errors:U}}=(0,a.useForm)({resolver:(0,n.zodResolver)(w.profileSchema),defaultValues:{name:e?.name||"",email:e?.email||"",phone:""}});async function q(){d(!0),E(null);try{await new Promise(e=>setTimeout(e,600)),E({type:"success",message:"Perfil atualizado! Suas informações pessoais foram salvas com sucesso."}),setTimeout(()=>E(null),3e3)}catch{E({type:"error",message:"Erro ao salvar perfil. Tente novamente em alguns instantes."})}finally{d(!1)}}let D=e?.name?e.name.split(" ").map(e=>e[0]).join("").slice(0,2).toUpperCase():"FL";return(0,s.jsxs)("div",{className:"mx-auto max-w-[640px] space-y-6",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h1",{className:"font-heading text-2xl font-bold text-black sm:text-3xl",children:"Meu Perfil"}),(0,s.jsx)("p",{className:"mt-1 font-body text-sm text-zinc-500",children:"Gerencie suas informações pessoais"})]}),(0,s.jsxs)(j.Card,{className:"rounded-[15px] border-zinc-200",children:[(0,s.jsxs)(j.CardContent,{className:"flex items-center gap-6 p-6",children:[(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsxs)(g.Avatar,{className:"h-24 w-24",children:[(0,s.jsx)(g.AvatarImage,{src:o||e?.avatar}),(0,s.jsx)(g.AvatarFallback,{className:"bg-brand font-heading text-xl font-semibold text-white",children:D})]}),(0,s.jsx)("input",{ref:c,type:"file",accept:"image/*",className:"hidden",onChange:e=>{let s=e.target.files?.[0];if(s){if(s.size>5242880)return void T({type:"warning",message:"Arquivo muito grande. A imagem deve ter no máximo 5MB."});let e=new FileReader;e.onloadend=()=>{u(e.result),T({type:"success",message:"Avatar atualizado! Sua foto de perfil foi atualizada."}),setTimeout(()=>T(null),3e3)},e.readAsDataURL(s)}}}),(0,s.jsx)(x.Button,{variant:"outline",size:"icon",onClick:()=>c.current?.click(),className:"absolute -bottom-1 -right-1 h-8 w-8 rounded-full border-2 border-white bg-white shadow-sm",children:(0,s.jsx)(r.Camera,{className:"h-4 w-4 text-zinc-600"})})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"font-heading text-lg font-semibold text-black",children:e?.name||"Usuário"}),(0,s.jsx)("p",{className:"font-body text-sm text-zinc-500",children:e?.email||"email@menux.com"}),(0,s.jsxs)("p",{className:"mt-1 font-body text-xs text-zinc-400",children:[e?.role?e.role.charAt(0).toUpperCase()+e.role.slice(1):"Admin"," ","· ",e?.unitName||"Matriz"]})]})]}),I&&(0,s.jsx)("div",{className:"px-6 pb-4",children:(0,s.jsx)(h.InlineFeedback,{type:I.type,message:I.message,onClose:()=>T(null)})})]}),(0,s.jsxs)(j.Card,{className:"rounded-[15px] border-zinc-200",children:[(0,s.jsx)(j.CardHeader,{children:(0,s.jsx)(j.CardTitle,{className:"font-heading text-lg font-semibold text-black",children:"Informações Pessoais"})}),(0,s.jsx)(j.CardContent,{children:(0,s.jsxs)("form",{onSubmit:O(q),className:"space-y-4",children:[(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(p.Label,{className:"font-body text-sm text-zinc-600",children:"Nome completo"}),(0,s.jsx)(f.Input,{className:"h-10 rounded-[15px] font-body text-sm",...H("name")}),U.name&&(0,s.jsx)("p",{className:"text-xs text-status-danger",children:U.name.message})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(p.Label,{className:"font-body text-sm text-zinc-600",children:"E-mail"}),(0,s.jsx)(f.Input,{type:"email",className:"h-10 rounded-[15px] font-body text-sm",disabled:!0,...H("email")}),(0,s.jsx)("p",{className:"font-body text-xs text-zinc-400",children:"O e-mail não pode ser alterado"})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(p.Label,{className:"font-body text-sm text-zinc-600",children:"Telefone"}),(0,s.jsx)(v.PhoneInput,{className:"h-10 rounded-[15px] font-body text-sm",onValueChange:e=>M("phone",e)})]}),(0,s.jsx)("div",{className:"flex justify-end pt-2",children:(0,s.jsxs)(x.Button,{type:"submit",disabled:l,className:"rounded-full bg-black font-heading text-sm text-white hover:bg-zinc-800",children:[l?(0,s.jsx)(i.Loader2,{className:"mr-2 h-4 w-4 animate-spin"}):null,"Salvar alterações"]})}),z&&(0,s.jsx)(h.InlineFeedback,{type:z.type,message:z.message,onClose:()=>E(null)})]})})]}),(0,s.jsxs)(j.Card,{className:"rounded-[15px] border-zinc-200",children:[(0,s.jsx)(j.CardHeader,{children:(0,s.jsx)(j.CardTitle,{className:"font-heading text-lg font-semibold text-black",children:"Alterar Senha"})}),(0,s.jsx)(j.CardContent,{children:(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(p.Label,{className:"font-body text-sm text-zinc-600",children:"Senha atual"}),(0,s.jsx)(f.Input,{type:"password",value:m,onChange:e=>{b(e.target.value),F(null)},className:"h-10 rounded-[15px] font-body text-sm",placeholder:"••••••••"}),P&&!m&&(0,s.jsx)("p",{className:"text-xs text-status-danger",children:P})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(p.Label,{className:"font-body text-sm text-zinc-600",children:"Nova senha"}),(0,s.jsx)(f.Input,{type:"password",value:y,onChange:e=>{N(e.target.value),F(null)},className:"h-10 rounded-[15px] font-body text-sm",placeholder:"••••••••"}),P&&m&&(!y||y.length<8)&&(0,s.jsx)("p",{className:"text-xs text-status-danger",children:P})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(p.Label,{className:"font-body text-sm text-zinc-600",children:"Confirmar nova senha"}),(0,s.jsx)(f.Input,{type:"password",value:S,onChange:e=>{k(e.target.value),F(null)},className:"h-10 rounded-[15px] font-body text-sm",placeholder:"••••••••"}),P&&m&&y&&y.length>=8&&y!==S&&(0,s.jsx)("p",{className:"text-xs text-status-danger",children:P})]}),(0,s.jsx)("div",{className:"flex justify-end pt-2",children:(0,s.jsx)(x.Button,{variant:"outline",onClick:()=>{(F(null),B(null),m)?!y||y.length<8?F("Nova senha deve ter no mínimo 8 caracteres."):y!==S?F("As senhas não coincidem."):(b(""),N(""),k(""),B({type:"success",message:"Senha alterada! Sua senha foi alterada com sucesso."}),setTimeout(()=>B(null),3e3)):F("Senha atual é obrigatória.")},className:"rounded-full font-heading text-sm",children:"Alterar senha"})}),R&&(0,s.jsx)(h.InlineFeedback,{type:R.type,message:R.message,onClose:()=>B(null)})]})})]}),(0,s.jsx)(A,{}),(0,s.jsx)(L,{})]})}function A(){let[e,a]=(0,t.useState)(S),[n,i]=(0,t.useState)(null),r=e.filter(e=>!e.isCurrent);return(0,s.jsxs)(j.Card,{className:"rounded-[15px] border-zinc-200",children:[(0,s.jsxs)(j.CardHeader,{className:"flex flex-row items-center justify-between space-y-0",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)(j.CardTitle,{className:"font-heading text-lg font-semibold text-black",children:"Sessões Ativas"}),(0,s.jsx)("p",{className:"mt-1 font-body text-xs text-zinc-500",children:"Gerencie os dispositivos conectados à sua conta"})]}),(0,s.jsx)(m.Shield,{className:"h-5 w-5 text-zinc-400"})]}),(0,s.jsxs)(j.CardContent,{children:[(0,s.jsx)("div",{className:"space-y-3",children:e.map(t=>(0,s.jsxs)("div",{className:"flex items-center justify-between rounded-[15px] border border-zinc-200 p-4",children:[(0,s.jsxs)("div",{className:"flex items-center gap-4",children:[(0,s.jsx)("div",{className:"flex h-10 w-10 items-center justify-center rounded-full bg-zinc-100",children:(e=>{switch(e){case"desktop":return(0,s.jsx)(d,{className:"h-5 w-5 text-zinc-500"});case"mobile":return(0,s.jsx)(c,{className:"h-5 w-5 text-zinc-500"});case"tablet":return(0,s.jsx)(o,{className:"h-5 w-5 text-zinc-500"})}})(t.icon)}),(0,s.jsxs)("div",{children:[(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)("p",{className:"font-body text-sm font-medium text-black",children:t.device}),t.isCurrent&&(0,s.jsx)(N.Badge,{className:"rounded-[10px] bg-status-success-light font-body text-[10px] text-status-success",children:"Sessão atual"})]}),(0,s.jsxs)("p",{className:"font-body text-xs text-zinc-500",children:[t.browser," · IP: ",t.ip]}),(0,s.jsxs)("p",{className:"font-body text-xs text-zinc-400",children:["Último acesso: ",t.lastActive]})]})]}),!t.isCurrent&&(0,s.jsxs)(x.Button,{variant:"outline",size:"sm",onClick:()=>{var s;return s=t.id,void(a(e.filter(e=>e.id!==s)),i({type:"success",message:"Sessão encerrada! A sessão foi desconectada com sucesso."}),setTimeout(()=>i(null),3e3))},className:"rounded-full font-heading text-xs text-status-danger hover:bg-status-danger-light hover:text-status-danger",children:[(0,s.jsx)(u.LogOut,{className:"mr-1.5 h-3.5 w-3.5"}),"Encerrar sessão"]})]},t.id))}),r.length>0&&(0,s.jsx)("div",{className:"mt-4 flex justify-end",children:(0,s.jsxs)(x.Button,{variant:"outline",size:"sm",onClick:()=>{a(e.filter(e=>e.isCurrent)),i({type:"success",message:"Sessões encerradas! Todas as outras sessões foram desconectadas."}),setTimeout(()=>i(null),3e3)},className:"rounded-full font-heading text-xs text-status-danger hover:bg-status-danger-light hover:text-status-danger",children:[(0,s.jsx)(u.LogOut,{className:"mr-1.5 h-3.5 w-3.5"}),"Encerrar todas as outras sessões"]})}),n&&(0,s.jsx)("div",{className:"mt-4",children:(0,s.jsx)(h.InlineFeedback,{type:n.type,message:n.message,onClose:()=>i(null)})})]})]})}function L(){let[e,a]=(0,t.useState)(null),[n,i]=(0,t.useState)({sla:!0,activities:!0,opportunities:!0,"health-score":!1}),[r,l]=(0,t.useState)({sla:!0,activities:!1,opportunities:!0,"health-score":!1});return(0,s.jsxs)(j.Card,{className:"rounded-[15px] border-zinc-200",children:[(0,s.jsxs)(j.CardHeader,{children:[(0,s.jsx)(j.CardTitle,{className:"font-heading text-lg font-semibold text-black",children:"Preferências de Notificação"}),(0,s.jsx)("p",{className:"font-body text-xs text-zinc-500",children:"Escolha como e quando deseja receber notificações"})]}),(0,s.jsxs)(j.CardContent,{children:[(0,s.jsxs)("div",{className:"mb-6",children:[(0,s.jsx)("h3",{className:"mb-4 font-heading text-sm font-semibold text-black",children:"Notificações por E-mail"}),(0,s.jsx)("div",{className:"space-y-4",children:k.map(e=>(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"font-body text-sm font-medium text-black",children:e.label}),(0,s.jsx)("p",{className:"font-body text-xs text-zinc-500",children:e.description})]}),(0,s.jsx)(y.Switch,{checked:n[e.id]??!1,onCheckedChange:()=>{var s;return s=e.id,void i(e=>({...e,[s]:!e[s]}))}})]},`email-${e.id}`))})]}),(0,s.jsx)(b.Separator,{className:"my-6"}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"mb-4 font-heading text-sm font-semibold text-black",children:"Notificações Push"}),(0,s.jsx)("div",{className:"space-y-4",children:k.map(e=>(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"font-body text-sm font-medium text-black",children:e.label}),(0,s.jsx)("p",{className:"font-body text-xs text-zinc-500",children:e.description})]}),(0,s.jsx)(y.Switch,{checked:r[e.id]??!1,onCheckedChange:()=>{var s;return s=e.id,void l(e=>({...e,[s]:!e[s]}))}})]},`push-${e.id}`))})]}),(0,s.jsx)("div",{className:"mt-6 flex justify-end",children:(0,s.jsx)(x.Button,{onClick:()=>{a({type:"success",message:"Preferências salvas! Suas preferências de notificação foram atualizadas."}),setTimeout(()=>a(null),3e3)},className:"rounded-full bg-black font-heading text-sm text-white hover:bg-zinc-800",children:"Salvar preferências"})}),e&&(0,s.jsx)("div",{className:"mt-4",children:(0,s.jsx)(h.InlineFeedback,{type:e.type,message:e.message,onClose:()=>a(null)})})]})]})}e.s(["default",()=>z],50297)}]);
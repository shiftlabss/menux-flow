(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,34682,e=>{"use strict";var a=e.i(43476),t=e.i(22016),s=e.i(45060);let i={neutral:"border-zinc-200 bg-white/92 text-zinc-700",info:"border-sky-200 bg-sky-50/88 text-sky-700",warning:"border-amber-200 bg-amber-50/88 text-amber-700",danger:"border-red-200 bg-red-50/88 text-red-700",success:"border-emerald-200 bg-emerald-50/88 text-emerald-700"};function r(e){let r=!!(e.href||e.onClick),l=(0,s.cn)("premium-shine inline-flex h-8 shrink-0 items-center justify-center gap-1.5 rounded-full border px-3 text-[12px] font-semibold tracking-tight whitespace-nowrap",r?"cursor-pointer transition-all duration-150 ease-out hover:bg-white/75 hover:-translate-y-[1px] active:scale-[0.99] active:translate-y-0":"cursor-default select-none opacity-90",i[e.tone??"neutral"]),n=(0,a.jsxs)(a.Fragment,{children:[e.icon?(0,a.jsx)("span",{className:"shrink-0",children:e.icon}):null,(0,a.jsx)("span",{children:e.label})]});return e.href?(0,a.jsx)(t.default,{href:e.href,className:l,children:n},e.id):e.onClick?(0,a.jsx)("button",{type:"button",onClick:e.onClick,className:l,children:n},e.id):(0,a.jsx)("span",{className:l,children:n},e.id)}function l({title:e,titleAccessory:t,description:i,actions:l,actionsClassName:n,meta:o,chips:d=[],fallbackChip:c,children:x,className:m,sticky:u=!1}){let p=!!x,h=!!o,b=!!(d.length>0||c),g=p||h;return(0,a.jsxs)("section",{className:(0,s.cn)("relative overflow-hidden rounded-[20px] border border-zinc-200/85 bg-zinc-50/88 px-5 pb-4 pt-3","shadow-[0_10px_24px_-20px_rgba(15,23,42,0.34)] backdrop-blur-sm",u&&"sticky top-4 z-30",m),children:[(0,a.jsx)("div",{className:"pointer-events-none absolute inset-0",children:(0,a.jsx)("div",{className:"absolute inset-x-0 top-0 h-14 bg-linear-to-b from-white/72 to-transparent"})}),(0,a.jsxs)("div",{className:"relative z-10 space-y-3",children:[(0,a.jsxs)("div",{className:"flex flex-col gap-4 xl:flex-row xl:items-start xl:justify-between",children:[(0,a.jsxs)("div",{className:"min-w-0 flex-1 max-w-[600px]",children:[(0,a.jsxs)("div",{className:"flex min-w-0 items-center gap-2",children:[(0,a.jsx)("h1",{className:"min-w-0 font-heading text-2xl font-bold tracking-tight text-zinc-950 sm:text-3xl",children:e}),t?(0,a.jsx)("div",{className:"shrink-0",children:t}):null]}),i?(0,a.jsx)("p",{className:"mt-1 font-body text-[13.5px] text-zinc-600/90 leading-relaxed",children:i}):null]}),l?(0,a.jsx)("div",{className:(0,s.cn)("flex w-full min-w-0 shrink-0 flex-wrap items-center gap-2 rounded-[20px] border border-zinc-200/85 bg-white/95 px-2 py-1.5 shadow-[0_8px_16px_-16px_rgba(15,23,42,0.36)]","xl:w-auto xl:max-w-full xl:justify-end",n),children:l}):null]}),p||h||b?(0,a.jsx)("div",{className:"border-t border-zinc-200/75 pt-3",children:(0,a.jsxs)("div",{className:"flex flex-col gap-3 xl:flex-row xl:items-start xl:justify-between",children:[g?(0,a.jsxs)("div",{className:"min-w-0 flex-1 space-y-2",children:[o?(0,a.jsx)("div",{className:"text-xs text-zinc-500/80",children:o}):null,p?(0,a.jsx)("div",{children:x}):null]}):null,b?(0,a.jsxs)("div",{className:(0,s.cn)("flex flex-wrap items-center gap-2 shrink-0 max-w-full",g?"xl:justify-end":"justify-end"),children:[d.length>0?d.map(e=>r(e)):null,0===d.length&&c?r(c):null]}):null]})}):null]})]})}e.s(["ModuleCommandHeader",()=>l])},2747,e=>{"use strict";var a=e.i(43476),t=e.i(75157);function s({className:e,...s}){return(0,a.jsx)("div",{"data-slot":"skeleton",className:(0,t.cn)("relative overflow-hidden rounded-md bg-slate-200/75","before:absolute before:inset-0 before:animate-pulse","before:bg-linear-to-r before:from-transparent before:via-white/70 before:to-transparent",e),...s})}e.s(["Skeleton",()=>s])},31245,e=>{"use strict";let a=(0,e.i(75254).default)("bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]);e.s(["Bot",()=>a],31245)},24151,e=>{"use strict";var a=e.i(43476),t=e.i(71645),s=e.i(18566),i=e.i(21218),r=e.i(78894),l=e.i(72520),n=e.i(31245),o=e.i(43531),d=e.i(12426),c=e.i(83086),x=e.i(20278),m=e.i(64030),u=e.i(25652),p=e.i(37727),h=e.i(46932),b=e.i(45060),g=e.i(97056),f=e.i(34682),j=e.i(32171),v=e.i(82943),w=e.i(99753),N=e.i(19455),y=e.i(87486),k=e.i(2747),z=e.i(46798);let C={revenue:{label:"Receita",icon:(0,a.jsx)(d.DollarSign,{className:"h-4 w-4"}),formatter:e=>{var a;return a=e,new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL",minimumFractionDigits:0}).format(a)},chipClass:"bg-emerald-50 text-emerald-700 border-emerald-200"},opportunities:{label:"Oportunidades",icon:(0,a.jsx)(x.Target,{className:"h-4 w-4"}),formatter:e=>Math.round(e).toLocaleString("pt-BR"),chipClass:"bg-blue-50 text-blue-700 border-blue-200"},conversion:{label:"Conversão",icon:(0,a.jsx)(u.TrendingUp,{className:"h-4 w-4"}),formatter:e=>`${e.toFixed(1).replace(".",",")}%`,chipClass:"bg-violet-50 text-violet-700 border-violet-200"},activities:{label:"Atividades",icon:(0,a.jsx)(i.Activity,{className:"h-4 w-4"}),formatter:e=>Math.round(e).toLocaleString("pt-BR"),chipClass:"bg-amber-50 text-amber-700 border-amber-200"}},S={weekly:"Semana",monthly:"Mês",quarterly:"Trimestre",yearly:"Ano"},M={monthly:"Mensal",quarterly:"Trimestral"};function A(e){return e.target?e.current/e.target*100:0}function $(e){let a=A(e);return a>=100?"achieved":a<60?"risk":"pace"}let R={risk:{label:"Em risco",badgeClass:"border-red-200 bg-red-50 text-red-700",progressClass:"bg-red-400",textClass:"text-red-700",ctaLabel:"Ver plano"},pace:{label:"No ritmo",badgeClass:"border-blue-200 bg-blue-50 text-blue-700",progressClass:"bg-blue-500",textClass:"text-blue-700",ctaLabel:"Criar ações"},achieved:{label:"Batida",badgeClass:"border-emerald-200 bg-emerald-50 text-emerald-700",progressClass:"bg-emerald-500",textClass:"text-emerald-700",ctaLabel:"Ver detalhes"}};function T(){let e=(0,s.useRouter)(),{goals:i}=(0,g.useGoalStore)(),{user:l}=(0,v.useAuthStore)(),{openDrawer:n}=(0,j.useUIStore)(),[o,d]=(0,t.useState)(!0),[u,k]=(0,t.useState)(!1),[M,R]=(0,t.useState)("yearly"),[T,O]=(0,t.useState)("all"),[E,q]=(0,t.useState)("all"),[D,V]=(0,t.useState)(!0),[U,H]=(0,t.useState)(new Set),[K,X]=(0,t.useState)({}),[J]=(0,t.useState)(null),[Q,W]=(0,t.useState)(!1),[Y,Z]=(0,t.useState)(!1),[ee,ea]=(0,t.useState)(!1),[et,es]=(0,t.useState)(null),[ei,er]=(0,t.useState)(null),[el,en]=(0,t.useState)(null),[eo,ed]=(0,t.useState)(!1),ec=(0,t.useRef)(null),ex=(0,t.useRef)(null),em=(0,t.useRef)(!1);(0,t.useEffect)(()=>{let e=window.setTimeout(()=>d(!1),720);return()=>window.clearTimeout(e)},[]),(0,t.useEffect)(()=>{let e=window.matchMedia("(min-width: 1280px)"),a=()=>{Z(e.matches),e.matches&&!em.current&&(W(!0),em.current=!0),e.matches||W(!1)};return a(),e.addEventListener("change",a),()=>e.removeEventListener("change",a)},[]),(0,t.useEffect)(()=>{if(!et)return;let e=window.setTimeout(()=>es(null),2200);return()=>window.clearTimeout(e)},[et]),(0,t.useEffect)(()=>{if(!el||"plan"===el.type)return;let e=window.setTimeout(()=>en(null),2500);return()=>window.clearTimeout(e)},[el]),(0,t.useEffect)(()=>()=>{ec.current&&window.clearTimeout(ec.current),ex.current&&window.clearTimeout(ex.current)},[]);let eu=(0,t.useMemo)(()=>{let e=l?.id;return e&&i.some(a=>a.userId===e)?e:i.find(e=>e.userId)?.userId??e??"user-5"},[i,l?.id]),ep=(0,t.useMemo)(()=>i.filter(e=>!e.userId||e.userId===eu),[i,eu]),eh=(0,t.useMemo)(()=>"yearly"===M?ep:"monthly"===M?ep.filter(e=>"monthly"===e.period):ep.filter(e=>"quarterly"===e.period),[ep,M]),eb=(0,t.useMemo)(()=>{let e=eh.filter(e=>"risk"===$(e)).length,a=eh.filter(e=>"achieved"===$(e)).length,t=eh.filter(e=>"pace"===$(e)).length;return{active:eh.length,risk:e,achieved:a,pace:t}},[eh]),eg=(0,t.useMemo)(()=>{let e=eh.length>0?Math.round(eh.reduce((e,a)=>e+Math.min(100,Math.round(A(a))),0)/eh.length):0,a=Math.max(0,e-("yearly"===M?3:"quarterly"===M?4:6));return{current:e,previous:a,delta:e-a}},[eh,M]),ef=(0,t.useMemo)(()=>eh.filter(e=>{if("all"!==E&&e.type!==E)return!1;let a=$(e);return"all"===T||a===T}),[eh,E,T]),ej=(0,t.useMemo)(()=>{let e={risk:[],pace:[],achieved:[]};for(let a of ef)e[$(a)].push(a);for(let a of Object.keys(e))e[a].sort((e,a)=>A(e)-A(a));return e},[ef]),ev=(0,t.useMemo)(()=>{let e=[];return"all"!==E&&e.push({id:"type",label:`Tipo: ${C[E].label}`,onClear:()=>q("all")}),e},[E]),ew=(0,t.useCallback)((e,a)=>{X(t=>({...t,[e]:a})),window.setTimeout(()=>{X(a=>{let t={...a};return delete t[e],t})},1200)},[]),eN=(0,t.useCallback)(e=>{e!==M&&(R(e),k(!0),ea(!0),ec.current&&window.clearTimeout(ec.current),ex.current&&window.clearTimeout(ex.current),ec.current=window.setTimeout(()=>{k(!1)},260),ex.current=window.setTimeout(()=>{ea(!1)},1200))},[M]),ey=(0,t.useCallback)(()=>{O("all"),q("all")},[]),ek=(0,t.useCallback)(e=>{H(a=>{let t=new Set(a);return t.has(e)?t.delete(e):t.add(e),t})},[]),ez=(0,t.useCallback)((e,a,t)=>{er(e),window.setTimeout(()=>{if(t?.(),er(null),"export-summary"===e){let e=`Resumo de Performance - ${new Date().toLocaleDateString()}
Status Geral:
- Metas Ativas: ${eb.active}
- Metas Batidas: ${eb.achieved}
- Metas em Risco: ${eb.risk}`;navigator.clipboard.writeText(e).catch(()=>{}),en({type:"success",text:"Resumo copiado para sua área de transferência."});return}if("speech"===e)return void en({type:"info",title:"Foco do dia",text:'"Estou numa fase decisiva. Hoje vou priorizar as ações com maior impacto de conversão e encerrar o dia com o funil limpo, sem pendências críticas."'});if("weekly-plan"===e||"risk-plan"===e||"daily-actions"===e){let a="";"weekly-plan"===e&&(a="Plano da Semana: focar oportunidades antigas e prospectos quentes."),"risk-plan"===e&&(a="Plano de Risco: auditar pipeline e ativar campanha relâmpago urgente."),"daily-actions"===e&&(a="Atividades Diárias: 10 calls, 5 cold emails, reativar conversões frias."),en({type:"plan",title:"Ações sugeridas",text:a,action:{label:"Aplicar como tarefeas",onClick:()=>{n("new-activity",{initialNote:a}),en(null),ew("intel",{type:"success",message:"Ações criadas"})}}});return}en({type:"info",text:a})},700)},[eb,n,ew]);if(o)return(0,a.jsx)(I,{});let eC=eh.length>0;return(0,a.jsx)(z.TooltipProvider,{children:(0,a.jsxs)(h.motion.div,{initial:{opacity:0,y:6},animate:{opacity:1,y:0},transition:{duration:.18,ease:[.25,.46,.45,.94]},className:"flex h-[calc(100dvh-2rem)] min-h-0 w-full max-w-full flex-col gap-4",children:[et?(0,a.jsx)(w.InlineFeedback,{type:et.type,message:et.message,compact:!0,onClose:()=>es(null)}):null,(0,a.jsx)(h.motion.div,{initial:{opacity:0,y:6},animate:{opacity:1,y:0},transition:{duration:.16,delay:.02,ease:"easeOut"},className:"shrink-0",children:(0,a.jsx)(f.ModuleCommandHeader,{title:"Minhas metas",description:"Performance pessoal e gamificação",meta:`Per\xedodo: ${S[M]}`,chips:[{id:"goals-active",label:`Ativas (${eb.active})`,tone:"all"===T?"info":"neutral",onClick:()=>O("all")},{id:"goals-achieved",label:`Batidas (${eb.achieved})`,tone:"achieved"===T?"success":"neutral",onClick:()=>O(e=>"achieved"===e?"all":"achieved")},{id:"goals-risk",label:`Em risco (${eb.risk})`,tone:"risk"===T?"danger":"neutral",onClick:()=>O(e=>"risk"===e?"all":"risk")}],actions:(0,a.jsx)("div",{className:"flex w-full min-w-0 flex-wrap items-center gap-2 xl:justify-end",children:(0,a.jsx)("div",{className:"inline-flex h-9 items-center rounded-full border border-zinc-200 bg-zinc-50/90 p-1",children:Object.keys(S).map(e=>(0,a.jsx)("button",{type:"button",onClick:()=>eN(e),className:(0,b.cn)("h-7 rounded-full px-3 text-xs font-medium transition-colors duration-120",M===e?"bg-white text-zinc-900 shadow-sm":"text-zinc-500 hover:text-zinc-900"),children:S[e]},e))})}),children:(0,a.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,a.jsxs)("div",{className:(0,b.cn)("flex flex-wrap items-center gap-2 transition-colors duration-200",ee&&"rounded-[12px] bg-zinc-100/60 p-1"),children:[(0,a.jsx)("span",{className:"text-xs font-medium text-zinc-500",children:"Tipo:"}),Object.keys(C).map(e=>(0,a.jsxs)("button",{type:"button",onClick:()=>q(a=>a===e?"all":e),className:(0,b.cn)("inline-flex h-8 items-center gap-1.5 rounded-full border px-3 text-xs font-medium transition-colors duration-120",E===e?"border-zinc-300 bg-white text-zinc-900":"border-zinc-200 bg-white/90 text-zinc-600 hover:bg-zinc-50"),children:[C[e].icon,C[e].label]},e))]}),(0,a.jsx)("div",{className:"flex flex-wrap items-center gap-2",children:ev.length>0?(0,a.jsx)(N.Button,{variant:"ghost",size:"sm",onClick:ey,className:"h-9 rounded-full text-xs text-zinc-500 hover:text-zinc-900",children:"Limpar filtros"}):null}),ev.length>0?(0,a.jsx)("div",{className:"flex flex-wrap items-center gap-2",children:ev.map(e=>(0,a.jsxs)("button",{type:"button",onClick:e.onClear,className:"inline-flex h-7 items-center gap-1 rounded-full border border-zinc-200 bg-white px-2.5 text-[11px] font-medium text-zinc-600 transition-colors duration-120 hover:bg-zinc-50",children:[e.label,(0,a.jsx)(p.X,{className:"h-3 w-3 text-zinc-400"})]},e.id))}):null]})})}),(0,a.jsx)(h.motion.div,{initial:{opacity:0,y:6},animate:{opacity:1,y:0},transition:{duration:.16,delay:.05,ease:"easeOut"},className:"flex-1",children:(0,a.jsxs)("div",{className:"grid h-full grid-cols-1 gap-6 lg:grid-cols-[1fr_320px]",children:[(0,a.jsx)("div",{className:"min-h-0 min-w-0 overflow-y-auto pb-8",children:eC?u?(0,a.jsx)(G,{}):(0,a.jsxs)(h.motion.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.16,ease:"easeOut"},className:"space-y-4 pb-4",children:[(0,a.jsx)("section",{className:"grid grid-cols-1 gap-3 md:grid-cols-2 xl:grid-cols-4",children:eo?(0,a.jsx)(L,{message:"Falha ao carregar indicadores de metas.",onRetry:()=>ed(!1)}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(_,{icon:(0,a.jsx)(x.Target,{className:"h-5 w-5 text-zinc-700"}),label:"Metas ativas",value:`${eb.active}`,subtext:"no período selecionado",trend:`${eb.active} metas em acompanhamento`,miniVisual:(0,a.jsxs)("div",{className:"mt-1 flex gap-1.5",children:[(0,a.jsx)("span",{className:"h-2 w-8 rounded-full bg-zinc-300/80"}),(0,a.jsx)("span",{className:"h-2 w-8 rounded-full bg-zinc-200/80"}),(0,a.jsx)("span",{className:"h-2 w-8 rounded-full bg-zinc-400/80"})]})}),(0,a.jsx)(_,{icon:(0,a.jsx)(m.Trophy,{className:"h-5 w-5 text-emerald-700"}),label:"Metas batidas",value:`${eb.achieved}`,subtext:"taxa de sucesso do período",trend:eb.active>0?`${Math.round(eb.achieved/eb.active*100)}% de sucesso`:"Sem metas no período",miniVisual:(0,a.jsx)("div",{className:"w-full",children:(0,a.jsx)("div",{className:"h-2 w-full overflow-hidden rounded-full bg-zinc-100",children:(0,a.jsx)("div",{className:"h-full rounded-full bg-emerald-400 transition-[width] duration-200",style:{width:eb.active>0?`${Math.round(eb.achieved/eb.active*100)}%`:"0%"}})})})}),(0,a.jsx)(_,{icon:(0,a.jsx)(r.AlertTriangle,{className:"h-5 w-5 text-red-700"}),label:"Metas em risco",value:`${eb.risk}`,subtext:"atenção imediata",trend:eb.risk>0?"Prioridade de execução":"Sem alertas críticos",miniVisual:(0,a.jsx)(y.Badge,{className:(0,b.cn)("rounded-full px-2 py-0.5 text-[10px]",eb.risk>0?"border border-red-200 bg-red-50 text-red-700":"border border-emerald-200 bg-emerald-50 text-emerald-700"),children:eb.risk>0?"Atenção":"Tudo em dia"})}),(0,a.jsx)(_,{icon:(0,a.jsx)(c.Sparkles,{className:"h-5 w-5 text-blue-700"}),label:"Score pessoal",value:`${eg.current}`,subtext:"média da minha execução",trend:eg.delta>=0?`+${eg.delta} vs per\xedodo anterior`:`${eg.delta} vs per\xedodo anterior`,miniVisual:(0,a.jsx)("div",{className:"flex h-8 items-end gap-1",children:[.42,.48,.44,.52,.56,.63].map((e,t)=>(0,a.jsx)("span",{className:"w-1.5 rounded bg-blue-300/80",style:{height:`${100*e}%`}},t))})})]})}),(0,a.jsxs)("section",{className:"space-y-4",children:[(0,a.jsx)(B,{title:"Em risco",description:"Metas que precisam de ação imediata.",goals:ej.risk,emptyLabel:"Nenhuma meta em risco no período.",renderGoal:t=>(0,a.jsx)(F,{goal:t,expanded:U.has(t.id),isRunningAction:J===t.id,inlineFeedback:K[t.id],onTogglePlan:()=>ek(t.id),onPrimaryAction:()=>{let e=$(t);"risk"===e?ek(t.id):"pace"===e?n("new-activity",{initialNote:`Plano de a\xe7\xe3o para acelerar a meta: ${t.title}`}):ew(t.id,{type:"info",message:"Meta batida: detalhes exibidos."})},onCreateActivities:()=>n("new-activity",{initialNote:`A\xe7\xe3o para recuperar meta em risco: ${t.title}`}),onOpenActivities:()=>e.push(`/activities?source=goals&goal=${encodeURIComponent(t.title)}&status=${$(t)}`)},t.id)}),(0,a.jsx)(B,{title:"No ritmo",description:"Metas com execução saudável, focadas em aceleração.",goals:ej.pace,emptyLabel:"Sem metas em ritmo no filtro selecionado.",renderGoal:t=>(0,a.jsx)(F,{goal:t,expanded:U.has(t.id),isRunningAction:J===t.id,inlineFeedback:K[t.id],onTogglePlan:()=>ek(t.id),onPrimaryAction:()=>n("new-activity",{initialNote:`A\xe7\xe3o para acelerar meta: ${t.title}`}),onCreateActivities:()=>n("new-activity",{initialNote:`Nova atividade para meta: ${t.title}`}),onOpenActivities:()=>e.push(`/activities?source=goals&goal=${encodeURIComponent(t.title)}&status=${$(t)}`)},t.id)}),(0,a.jsxs)("section",{className:"rounded-[20px] border border-zinc-200/80 bg-white/82 p-3 shadow-[0_16px_32px_-28px_rgba(15,23,42,0.45)] md:p-4",children:[(0,a.jsxs)("div",{className:"mb-3 flex flex-wrap items-center justify-between gap-2",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"font-heading text-base font-semibold text-zinc-900",children:"Batidas"}),(0,a.jsx)("p",{className:"text-xs text-zinc-500",children:"Metas concluídas no período. Seção colapsável para manter foco."})]}),(0,a.jsx)(N.Button,{variant:"outline",size:"sm",className:"h-8 rounded-full",onClick:()=>V(e=>!e),children:D?"Expandir":"Recolher"})]}),D?(0,a.jsx)("div",{className:"rounded-[14px] border border-zinc-200 bg-zinc-50/80 p-3 text-xs text-zinc-600",children:"Seção recolhida para reduzir ruído visual."}):ej.achieved.length>0?(0,a.jsx)("div",{className:"grid grid-cols-1 gap-3 md:grid-cols-2 xl:grid-cols-3",children:ej.achieved.map(t=>(0,a.jsx)(F,{goal:t,expanded:U.has(t.id),isRunningAction:J===t.id,inlineFeedback:K[t.id],onTogglePlan:()=>ek(t.id),onPrimaryAction:()=>{ew(t.id,{type:"success",message:"Relatório da meta batida pronto (feature em dev)."})},onCreateActivities:()=>n("new-activity",{initialNote:`Manter ritmo da meta batida: ${t.title}`}),onOpenActivities:()=>e.push(`/activities?source=goals&goal=${encodeURIComponent(t.title)}&status=${$(t)}`)},t.id))}):(0,a.jsx)("div",{className:"rounded-[14px] border border-dashed border-zinc-200 bg-zinc-50/80 p-4 text-sm text-zinc-500",children:"Sem metas batidas no filtro atual."})]})]})]},`${M}-${T}-${E}`):(0,a.jsxs)("div",{className:"flex flex-col items-center justify-center rounded-[24px] border border-dashed border-zinc-200 bg-zinc-50/50 py-20 text-center",children:[(0,a.jsx)("div",{className:"mb-4 rounded-full bg-white p-4 shadow-sm ring-1 ring-zinc-100",children:(0,a.jsx)(x.Target,{className:"h-8 w-8 text-zinc-300"})}),(0,a.jsx)("h3",{className:"font-heading text-lg font-semibold text-zinc-900",children:"Nenhuma meta atribuída"}),(0,a.jsx)("p",{className:"mt-2 max-w-sm text-sm text-zinc-500",children:"Você não possui metas definidas para este período. Entre em contato com seu gestor para alinhar seus objetivos."})]})}),(0,a.jsx)("div",{className:"hidden h-full min-w-0 lg:block",children:(0,a.jsx)(P,{activeCount:eb.active,riskCount:eb.risk,paceCount:eb.pace,achievedCount:eb.achieved,runningAction:ei,result:el,onClose:()=>{},onRunAction:ez,onFilterRisk:()=>O("risk"),onFilterOpportunities:()=>q("opportunities"),onFilterConversion:()=>q("conversion"),onFilterActivities:()=>q("activities"),onOpenActivities:()=>e.push("/activities?source=goals&focus=metas"),onGenerateSummary:()=>es({type:"success",message:"Resumo de coaching gerado."})})})]})}),Y?null:(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{onClick:()=>W(!1),className:(0,b.cn)("fixed inset-0 z-40 bg-black/25 transition-opacity duration-200 xl:hidden",Q?"opacity-100":"pointer-events-none opacity-0")}),(0,a.jsx)("aside",{className:(0,b.cn)("fixed right-0 top-0 z-50 h-full w-[min(92vw,360px)] p-2 transition-transform duration-220 ease-out xl:hidden",Q?"translate-x-0":"translate-x-full"),children:(0,a.jsx)(P,{activeCount:eb.active,riskCount:eb.risk,paceCount:eb.pace,achievedCount:eb.achieved,runningAction:ei,result:el,onClose:()=>W(!1),onRunAction:ez,onFilterRisk:()=>{O("risk"),W(!1)},onFilterOpportunities:()=>{q("opportunities"),W(!1)},onFilterConversion:()=>{q("conversion"),W(!1)},onFilterActivities:()=>{q("activities"),W(!1)},onOpenActivities:()=>{W(!1),e.push("/activities?source=goals&focus=metas")},onGenerateSummary:()=>{es({type:"success",message:"Resumo de coaching gerado."}),W(!1)}})})]})]})})}function _({icon:e,label:t,value:s,subtext:i,trend:r,miniVisual:l}){return(0,a.jsx)("article",{className:"premium-lift h-[154px] rounded-[18px] border border-zinc-200/80 bg-white p-3.5 shadow-[0_14px_28px_-24px_rgba(15,23,42,0.5)]",children:(0,a.jsxs)("div",{className:"flex h-full flex-col",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 text-zinc-600",children:[(0,a.jsx)("span",{className:"inline-flex h-8 w-8 items-center justify-center rounded-[10px] bg-zinc-100",children:e}),(0,a.jsx)("span",{className:"text-xs font-medium uppercase tracking-[0.08em]",children:t})]}),(0,a.jsxs)("div",{className:"mt-3",children:[(0,a.jsx)("p",{className:"font-heading text-[30px] font-semibold leading-none text-zinc-900",children:s}),(0,a.jsx)("p",{className:"mt-1 truncate text-xs text-zinc-500",children:i})]}),(0,a.jsxs)("div",{className:"mt-auto flex items-end justify-between gap-2",children:[(0,a.jsx)("span",{className:"truncate rounded-full bg-zinc-100 px-2 py-0.5 text-[11px] text-zinc-600",children:r}),(0,a.jsx)("div",{className:"min-w-[72px]",children:l})]})]})})}function B({title:e,description:s,goals:i,emptyLabel:r,renderGoal:l}){return(0,a.jsxs)("section",{className:"rounded-[20px] border border-zinc-200/80 bg-white/82 p-3 shadow-[0_16px_32px_-28px_rgba(15,23,42,0.45)] md:p-4",children:[(0,a.jsxs)("div",{className:"mb-3",children:[(0,a.jsx)("h3",{className:"font-heading text-base font-semibold text-zinc-900",children:e}),(0,a.jsx)("p",{className:"text-xs text-zinc-500",children:s})]}),i.length>0?(0,a.jsx)("div",{className:"grid grid-cols-1 gap-3 md:grid-cols-2 xl:grid-cols-3",children:i.map(e=>(0,a.jsx)(t.Fragment,{children:l(e)},e.id))}):(0,a.jsx)("div",{className:"rounded-[14px] border border-dashed border-zinc-200 bg-zinc-50/80 p-4 text-sm text-zinc-500",children:r})]})}function F({goal:e,expanded:t,isRunningAction:s,inlineFeedback:i,onTogglePlan:r,onPrimaryAction:d,onCreateActivities:c,onOpenActivities:x}){let m,u=$(e),p=R[u],g=C[e.type],f=Math.min(100,Math.max(0,Math.round(A(e)))),j=(m=Math.min(100,Math.round(A(e))),"risk"===u?{why:`Meta em ${m}% do objetivo. Cad\xeancia atual n\xe3o sustenta fechamento do per\xedodo.`,actions:["Aumentar volume de atividades críticas nos próximos 3 dias.","Repriorizar carteira com foco nos itens de maior potencial.","Executar follow-up diário até recuperar ritmo da meta."]}:"pace"===u?{why:`Meta em ${m}% e evolu\xe7\xe3o consistente. Pr\xf3ximas a\xe7\xf5es aumentam margem de seguran\xe7a.`,actions:["Consolidar oportunidades em estágio avançado nesta semana.","Criar checkpoints diários para manter taxa de execução.","Antecipar bloqueios operacionais no próprio funil."]}:{why:`Meta j\xe1 batida com ${m}%. O foco agora \xe9 proteger resultado e abrir upside.`,actions:["Garantir manutenção de performance com rotina leve de acompanhamento.","Duplicar práticas que geraram resultado para outras metas.","Mapear oportunidade de meta stretch para o próximo ciclo."]});return(0,a.jsxs)("article",{className:"premium-lift overflow-hidden rounded-[16px] border border-zinc-200/85 bg-white shadow-[0_12px_22px_-18px_rgba(15,23,42,0.48)]",children:[(0,a.jsxs)("div",{className:"p-3.5",children:[(0,a.jsx)("div",{className:"flex items-start justify-between gap-2",children:(0,a.jsxs)("div",{className:"min-w-0",children:[(0,a.jsxs)("div",{className:"mb-2 flex flex-wrap items-center gap-1.5",children:[(0,a.jsx)(y.Badge,{className:(0,b.cn)("rounded-full border px-2 py-0 text-[10px]",g.chipClass),children:C[e.type].label}),(0,a.jsx)(y.Badge,{className:"rounded-full border border-zinc-200 bg-zinc-50 px-2 py-0 text-[10px] text-zinc-600",children:M[e.period]})]}),(0,a.jsx)("h4",{className:"truncate text-sm font-semibold text-zinc-900",children:e.title})]})}),(0,a.jsxs)("div",{className:"mt-3",children:[(0,a.jsxs)("div",{className:"flex items-baseline gap-1",children:[(0,a.jsx)("span",{className:"font-heading text-[30px] font-semibold leading-none text-zinc-900",children:C[e.type].formatter(e.current)}),(0,a.jsxs)("span",{className:"text-sm text-zinc-500",children:["/ ",C[e.type].formatter(e.target)]})]}),(0,a.jsxs)("p",{className:(0,b.cn)("mt-1 text-sm font-semibold",p.textClass),children:[f,"%"]})]}),(0,a.jsx)("div",{className:"mt-3 h-2 w-full overflow-hidden rounded-full bg-zinc-100",children:(0,a.jsx)(h.motion.div,{initial:{width:0},animate:{width:`${f}%`},transition:{duration:.24,ease:"easeOut"},className:(0,b.cn)("h-full rounded-full",p.progressClass)})}),(0,a.jsxs)("div",{className:"mt-3 flex flex-wrap items-center justify-between gap-2",children:[(0,a.jsx)(y.Badge,{className:(0,b.cn)("rounded-full border px-2 py-0.5 text-[11px]",p.badgeClass),children:p.label}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsxs)(N.Button,{size:"sm",className:(0,b.cn)("h-8 rounded-full px-4 text-xs font-medium shadow-sm transition-transform active:scale-95","risk"===u?"bg-red-600 text-white hover:bg-red-700":"bg-zinc-900 text-white hover:bg-zinc-800"),onClick:d,disabled:s,children:[p.ctaLabel,(0,a.jsx)(l.ArrowRight,{className:"ml-1.5 h-3 w-3"})]}),(0,a.jsxs)(N.Button,{size:"sm",className:"menux-intelligence-btn-soft h-8 rounded-full px-3 text-xs text-slate-100",onClick:r,children:[(0,a.jsx)(n.Bot,{className:"h-3.5 w-3.5"}),"Plano"]})]})]})]}),t?(0,a.jsxs)(h.motion.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.18,ease:"easeOut"},className:"border-t border-zinc-200 bg-zinc-50/70 px-3.5 py-3",children:[(0,a.jsx)("p",{className:"text-xs font-semibold uppercase tracking-[0.08em] text-zinc-500",children:"Plano da Menux Intelligence"}),(0,a.jsx)("p",{className:"mt-1 text-xs text-zinc-600",children:j.why}),(0,a.jsx)("ul",{className:"mt-3 space-y-1.5 text-xs text-zinc-600",children:j.actions.map((e,t)=>(0,a.jsxs)("li",{className:"flex items-start gap-1.5",children:[(0,a.jsx)(o.Check,{className:"mt-0.5 h-3.5 w-3.5 text-zinc-500"}),(0,a.jsx)("span",{children:e})]},t))}),(0,a.jsxs)("div",{className:"mt-3 flex flex-wrap items-center gap-2",children:[(0,a.jsxs)(N.Button,{size:"sm",className:"h-7 rounded-full bg-zinc-900 px-3 text-[11px] text-white hover:bg-zinc-800",onClick:c,disabled:s,children:[s?(0,a.jsx)("span",{className:"mr-1 h-3 w-3 animate-spin rounded-full border border-white border-t-transparent"}):null,"Criar ações"]}),(0,a.jsx)(N.Button,{size:"sm",variant:"outline",className:"h-7 rounded-full px-3 text-[11px]",onClick:x,children:"Ir para atividades"})]})]}):null,i?(0,a.jsx)("div",{className:"border-t border-zinc-200 bg-white px-3.5 py-2",children:(0,a.jsx)("span",{className:(0,b.cn)("inline-flex rounded-full px-2 py-0.5 text-[11px] font-medium","success"===i.type&&"bg-emerald-100 text-emerald-700","error"===i.type&&"bg-red-100 text-red-700","info"===i.type&&"bg-blue-100 text-blue-700"),children:i.message})}):null]})}function P({activeCount:e,riskCount:t,paceCount:s,achievedCount:i,runningAction:r,result:l,onRunAction:o,onClose:d,onFilterRisk:c,onFilterOpportunities:x,onFilterConversion:m,onFilterActivities:u,onOpenActivities:h,onGenerateSummary:b}){return(0,a.jsxs)("div",{className:"menux-intelligence-theme flex h-full min-h-0 flex-col overflow-hidden rounded-[20px] border border-slate-700/70 bg-[linear-gradient(145deg,#020817_0%,#03132b_56%,#0a2340_100%)] text-slate-100 shadow-[0_34px_52px_-36px_rgba(15,23,42,0.92)]",children:[(0,a.jsxs)("div",{className:"border-b border-white/10 px-4 py-3",children:[(0,a.jsxs)("div",{className:"flex items-start justify-between gap-2",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"font-heading text-lg font-semibold",children:"Menux Intelligence"}),(0,a.jsx)("p",{className:"mt-0.5 text-xs text-cyan-100/80",children:"Coach de performance pessoal"})]}),d?(0,a.jsx)(N.Button,{variant:"ghost",size:"icon",className:"h-8 w-8 rounded-full text-slate-300 hover:bg-white/10 hover:text-white",onClick:d,"aria-label":"Fechar Menux Intelligence",children:(0,a.jsx)(p.X,{className:"h-4 w-4"})}):null]}),(0,a.jsxs)(N.Button,{className:"mt-3 h-8 w-full rounded-full border border-white/15 bg-white/10 text-xs text-slate-100 hover:bg-white/15",onClick:()=>o("weekly-plan","Plano semanal gerado.",c),disabled:"weekly-plan"===r,children:["weekly-plan"===r?(0,a.jsx)("span",{className:"mr-2 h-3 w-3 animate-spin rounded-full border border-cyan-100 border-t-transparent"}):(0,a.jsx)(n.Bot,{className:"mr-1.5 h-3.5 w-3.5"}),"Gerar plano semanal"]})]}),(0,a.jsxs)("div",{className:"min-h-0 flex-1 space-y-3 overflow-y-auto p-4",children:[(0,a.jsxs)("section",{className:"rounded-[14px] border border-white/10 bg-white/5 p-3",children:[(0,a.jsx)("p",{className:"text-xs font-semibold uppercase tracking-[0.08em] text-slate-300",children:"Diagnóstico do período"}),(0,a.jsxs)("div",{className:"mt-2 space-y-2 text-xs text-slate-200",children:[(0,a.jsxs)("div",{className:"rounded-[10px] border border-white/10 bg-white/5 p-2.5",children:[(0,a.jsx)("p",{className:"text-slate-300",children:"Metas ativas"}),(0,a.jsx)("p",{className:"mt-1 font-medium text-slate-50",children:e})]}),(0,a.jsxs)("div",{className:"rounded-[10px] border border-white/10 bg-white/5 p-2.5",children:[(0,a.jsx)("p",{className:"text-slate-300",children:"Metas em risco"}),(0,a.jsx)("p",{className:"mt-1 font-medium text-slate-50",children:t})]}),(0,a.jsxs)("div",{className:"rounded-[10px] border border-white/10 bg-white/5 p-2.5",children:[(0,a.jsx)("p",{className:"text-slate-300",children:"Alavanca mais rápida"}),(0,a.jsx)("p",{className:"mt-1 font-medium text-slate-50",children:s>t?"Manter cadência de execução":"Recuperar metas críticas"})]})]})]}),(0,a.jsxs)("section",{className:"rounded-[14px] border border-white/10 bg-white/5 p-3",children:[(0,a.jsx)("p",{className:"text-xs font-semibold uppercase tracking-[0.08em] text-slate-300",children:"Recomendações por perfil"}),(0,a.jsxs)("div",{className:"mt-2 space-y-2",children:[(0,a.jsx)(O,{label:"SDR: foco em oportunidades criadas",actionLabel:"Aplicar filtro",loading:"sdr"===r,onClick:()=>o("sdr","Filtro aplicado: oportunidades.",x)}),(0,a.jsx)(O,{label:"Closer: foco em conversão e fechamento",actionLabel:"Aplicar filtro",loading:"closer"===r,onClick:()=>o("closer","Filtro aplicado: conversão.",m)}),(0,a.jsx)(O,{label:"CS: foco em atividades e saúde da carteira",actionLabel:"Aplicar filtro",loading:"cs"===r,onClick:()=>o("cs","Filtro aplicado: atividades.",u)})]})]}),(0,a.jsxs)("section",{className:"rounded-[14px] border border-white/10 bg-white/5 p-3",children:[(0,a.jsx)("p",{className:"text-xs font-semibold uppercase tracking-[0.08em] text-slate-300",children:"Comandos rápidos"}),(0,a.jsxs)("div",{className:"mt-2 space-y-2",children:[(0,a.jsx)(E,{label:"Gerar plano para metas em risco",loading:"risk-plan"===r,onClick:()=>o("risk-plan","Plano para metas em risco gerado.",c)}),(0,a.jsx)(E,{label:"Sugerir atividades diárias",loading:"daily-actions"===r,onClick:()=>o("daily-actions","Sugestões de atividades geradas.",h)}),(0,a.jsx)(E,{label:"Exportar resumo de performance",loading:"export-summary"===r,onClick:()=>o("export-summary","Resumo exportado.",b)}),(0,a.jsx)(E,{label:"Gerar mensagem de foco do dia",loading:"speech"===r,onClick:()=>o("speech","Mensagem de foco gerada.")})]})]}),(0,a.jsxs)("div",{className:"rounded-[12px] border border-white/10 bg-white/5 p-3 text-xs text-slate-200",children:[(0,a.jsx)("p",{className:"font-medium text-slate-50",children:"Resumo rápido"}),(0,a.jsxs)("p",{className:"mt-1",children:["Batidas: ",i," · Em risco: ",t," · No ritmo: ",s]})]}),l?(0,a.jsxs)("div",{className:"rounded-[12px] border border-cyan-300/30 bg-cyan-500/10 p-3 text-xs text-cyan-100",children:[l.title?(0,a.jsx)("p",{className:"mb-1 font-semibold text-white",children:l.title}):null,(0,a.jsx)("p",{className:"whitespace-pre-wrap leading-relaxed",children:l.text}),l.action?(0,a.jsx)(N.Button,{variant:"outline",size:"sm",className:"mt-3 h-8 w-full rounded-full border-cyan-500/30 bg-cyan-500/20 text-cyan-50 hover:bg-cyan-500/30 hover:text-white",onClick:l.action.onClick,children:l.action.label}):null]}):null]})]})}function O({label:e,actionLabel:t,onClick:s,loading:i}){return(0,a.jsxs)("div",{className:"rounded-[10px] border border-white/10 bg-white/5 p-2.5",children:[(0,a.jsx)("p",{className:"text-xs text-slate-200",children:e}),(0,a.jsxs)(N.Button,{size:"sm",variant:"outline",className:"mt-2 h-7 rounded-full border-white/20 bg-white/5 px-2.5 text-[11px] text-slate-100 hover:bg-white/10",onClick:s,disabled:i,children:[i?(0,a.jsx)("span",{className:"mr-1 h-3 w-3 animate-spin rounded-full border border-cyan-100 border-t-transparent"}):null,t]})]})}function E({label:e,onClick:t,loading:s}){return(0,a.jsxs)("button",{type:"button",onClick:t,disabled:s,className:"flex w-full items-center justify-between rounded-[10px] border border-white/10 bg-white/5 px-3 py-2 text-left text-xs text-slate-100 transition-colors duration-120 hover:bg-white/10 disabled:cursor-not-allowed disabled:opacity-70",children:[(0,a.jsx)("span",{children:e}),s?(0,a.jsx)("span",{className:"h-3 w-3 animate-spin rounded-full border border-cyan-100 border-t-transparent"}):(0,a.jsx)(c.Sparkles,{className:"h-3.5 w-3.5 text-cyan-200"})]})}function L({message:e,onRetry:t}){return(0,a.jsx)("div",{className:"rounded-[14px] border border-red-200 bg-red-50/85 p-3 text-sm text-red-700",children:(0,a.jsxs)("div",{className:"flex items-center justify-between gap-2",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(r.AlertTriangle,{className:"h-4 w-4"}),(0,a.jsx)("span",{children:e})]}),(0,a.jsx)(N.Button,{variant:"outline",size:"sm",className:"h-7 rounded-full border-red-200 bg-white text-red-700 hover:bg-red-50",onClick:t,children:"Tentar novamente"})]})})}function I(){return(0,a.jsxs)("div",{className:"flex h-[calc(100dvh-2rem)] min-h-0 w-full max-w-full flex-col gap-4",children:[(0,a.jsxs)("div",{className:"shrink-0 rounded-[20px] border border-zinc-200/80 bg-zinc-50/85 px-5 py-4",children:[(0,a.jsx)(k.Skeleton,{className:"h-8 w-32"}),(0,a.jsx)(k.Skeleton,{className:"mt-2 h-4 w-64"}),(0,a.jsxs)("div",{className:"mt-4 flex flex-wrap gap-2",children:[(0,a.jsx)(k.Skeleton,{className:"h-9 w-48 rounded-full"}),(0,a.jsx)(k.Skeleton,{className:"h-9 w-36 rounded-full"}),(0,a.jsx)(k.Skeleton,{className:"h-9 w-44 rounded-full"})]})]}),(0,a.jsx)(G,{})]})}function G(){return(0,a.jsxs)("div",{className:"flex min-h-0 flex-1 gap-4",children:[(0,a.jsxs)("div",{className:"min-h-0 min-w-0 flex-1 space-y-4",children:[(0,a.jsx)("div",{className:"grid grid-cols-1 gap-3 md:grid-cols-2 xl:grid-cols-4",children:Array.from({length:4}).map((e,t)=>(0,a.jsx)(k.Skeleton,{className:"h-[154px] rounded-[18px]"},t))}),(0,a.jsx)(k.Skeleton,{className:"h-[280px] rounded-[20px]"}),(0,a.jsx)(k.Skeleton,{className:"h-[280px] rounded-[20px]"}),(0,a.jsx)(k.Skeleton,{className:"h-[280px] rounded-[20px]"}),(0,a.jsx)(k.Skeleton,{className:"h-[320px] rounded-[20px]"})]}),(0,a.jsx)("div",{className:"hidden w-[360px] xl:block",children:(0,a.jsx)(k.Skeleton,{className:"h-full rounded-[20px]"})})]})}e.s(["default",()=>T])}]);
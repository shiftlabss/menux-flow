{"version":3,"sources":["../../../../src/app/%28auth%29/goals/page.tsx"],"sourcesContent":["\"use client\";\n\nimport {\n  Fragment,\n  useCallback,\n  useEffect,\n  useMemo,\n  useRef,\n  useState,\n  type ReactNode,\n} from \"react\";\nimport { useRouter } from \"next/navigation\";\nimport {\n  Activity,\n  AlertTriangle,\n  ArrowRight,\n  Bot,\n  Check,\n  DollarSign,\n  Sparkles,\n  Target,\n  Trophy,\n  TrendingUp,\n  X,\n} from \"lucide-react\";\nimport { motion } from \"framer-motion\";\nimport type { Goal } from \"@/types\";\nimport { cn } from \"@/lib/cn\";\nimport { useGoalStore } from \"@/stores/goal-store\";\nimport { ModuleCommandHeader } from \"@/components/shared/module-command-header\";\nimport { useUIStore } from \"@/stores/ui-store\";\nimport { useAuthStore } from \"@/stores/auth-store\";\nimport { InlineFeedback } from \"@/components/ui/inline-feedback\";\nimport { Button } from \"@/components/ui/button\";\nimport { Badge } from \"@/components/ui/badge\";\nimport { Skeleton } from \"@/components/ui/skeleton\";\nimport {\n  TooltipProvider,\n} from \"@/components/ui/tooltip\";\n\ntype PeriodFilter = \"weekly\" | \"monthly\" | \"quarterly\" | \"yearly\";\ntype GoalStatus = \"risk\" | \"pace\" | \"achieved\";\ntype GoalStatusFilter = \"all\" | GoalStatus;\ntype GoalTypeFilter = \"all\" | Goal[\"type\"];\n\ninterface FeedbackState {\n  type: \"success\" | \"error\" | \"info\";\n  message: string;\n}\n\nconst goalTypeConfig: Record<\n  Goal[\"type\"],\n  {\n    label: string;\n    icon: ReactNode;\n    formatter: (value: number) => string;\n    chipClass: string;\n  }\n> = {\n  revenue: {\n    label: \"Receita\",\n    icon: <DollarSign className=\"h-4 w-4\" />,\n    formatter: (value) => formatCurrency(value),\n    chipClass: \"bg-emerald-50 text-emerald-700 border-emerald-200\",\n  },\n  opportunities: {\n    label: \"Oportunidades\",\n    icon: <Target className=\"h-4 w-4\" />,\n    formatter: (value) => Math.round(value).toLocaleString(\"pt-BR\"),\n    chipClass: \"bg-blue-50 text-blue-700 border-blue-200\",\n  },\n  conversion: {\n    label: \"Conversão\",\n    icon: <TrendingUp className=\"h-4 w-4\" />,\n    formatter: (value) => `${value.toFixed(1).replace(\".\", \",\")}%`,\n    chipClass: \"bg-violet-50 text-violet-700 border-violet-200\",\n  },\n  activities: {\n    label: \"Atividades\",\n    icon: <Activity className=\"h-4 w-4\" />,\n    formatter: (value) => Math.round(value).toLocaleString(\"pt-BR\"),\n    chipClass: \"bg-amber-50 text-amber-700 border-amber-200\",\n  },\n};\n\nconst periodLabel: Record<PeriodFilter, string> = {\n  weekly: \"Semana\",\n  monthly: \"Mês\",\n  quarterly: \"Trimestre\",\n  yearly: \"Ano\",\n};\n\nconst goalPeriodLabel: Record<Goal[\"period\"], string> = {\n  monthly: \"Mensal\",\n  quarterly: \"Trimestral\",\n};\n\nfunction formatCurrency(value: number) {\n  return new Intl.NumberFormat(\"pt-BR\", {\n    style: \"currency\",\n    currency: \"BRL\",\n    minimumFractionDigits: 0,\n  }).format(value);\n}\n\nfunction getProgress(goal: Goal) {\n  if (!goal.target) return 0;\n  return (goal.current / goal.target) * 100;\n}\n\nfunction getGoalStatus(goal: Goal): GoalStatus {\n  const progress = getProgress(goal);\n  if (progress >= 100) return \"achieved\";\n  if (progress < 60) return \"risk\";\n  return \"pace\";\n}\n\nconst goalStatusConfig: Record<\n  GoalStatus,\n  {\n    label: string;\n    badgeClass: string;\n    progressClass: string;\n    textClass: string;\n    ctaLabel: string;\n  }\n> = {\n  risk: {\n    label: \"Em risco\",\n    badgeClass: \"border-red-200 bg-red-50 text-red-700\",\n    progressClass: \"bg-red-400\",\n    textClass: \"text-red-700\",\n    ctaLabel: \"Ver plano\",\n  },\n  pace: {\n    label: \"No ritmo\",\n    badgeClass: \"border-blue-200 bg-blue-50 text-blue-700\",\n    progressClass: \"bg-blue-500\",\n    textClass: \"text-blue-700\",\n    ctaLabel: \"Criar ações\",\n  },\n  achieved: {\n    label: \"Batida\",\n    badgeClass: \"border-emerald-200 bg-emerald-50 text-emerald-700\",\n    progressClass: \"bg-emerald-500\",\n    textClass: \"text-emerald-700\",\n    ctaLabel: \"Ver detalhes\",\n  },\n};\n\nfunction getPlanSummary(goal: Goal, status: GoalStatus) {\n  const progress = Math.min(100, Math.round(getProgress(goal)));\n  if (status === \"risk\") {\n    return {\n      why: `Meta em ${progress}% do objetivo. Cadência atual não sustenta fechamento do período.`,\n      actions: [\n        \"Aumentar volume de atividades críticas nos próximos 3 dias.\",\n        \"Repriorizar carteira com foco nos itens de maior potencial.\",\n        \"Executar follow-up diário até recuperar ritmo da meta.\",\n      ],\n    };\n  }\n\n  if (status === \"pace\") {\n    return {\n      why: `Meta em ${progress}% e evolução consistente. Próximas ações aumentam margem de segurança.`,\n      actions: [\n        \"Consolidar oportunidades em estágio avançado nesta semana.\",\n        \"Criar checkpoints diários para manter taxa de execução.\",\n        \"Antecipar bloqueios operacionais no próprio funil.\",\n      ],\n    };\n  }\n\n  return {\n    why: `Meta já batida com ${progress}%. O foco agora é proteger resultado e abrir upside.`,\n    actions: [\n      \"Garantir manutenção de performance com rotina leve de acompanhamento.\",\n      \"Duplicar práticas que geraram resultado para outras metas.\",\n      \"Mapear oportunidade de meta stretch para o próximo ciclo.\",\n    ],\n  };\n}\n\nfunction scoreGoal(goal: Goal) {\n  return Math.min(100, Math.round(getProgress(goal)));\n}\n\n\nexport default function GoalsPage() {\n  const router = useRouter();\n  const { goals } = useGoalStore();\n  const { user } = useAuthStore();\n  const { openDrawer } = useUIStore();\n\n  const [isLoading, setIsLoading] = useState(true);\n  const [isRefreshingPeriod, setIsRefreshingPeriod] = useState(false);\n  const [selectedPeriod, setSelectedPeriod] = useState<PeriodFilter>(\"yearly\");\n  const [statusFilter, setStatusFilter] = useState<GoalStatusFilter>(\"all\");\n  const [typeFilter, setTypeFilter] = useState<GoalTypeFilter>(\"all\");\n  const [isAchievedCollapsed, setIsAchievedCollapsed] = useState(true);\n  const [expandedPlans, setExpandedPlans] = useState<Set<string>>(new Set());\n  const [cardFeedback, setCardFeedback] = useState<Record<string, FeedbackState>>({});\n  const [cardLoadingId] = useState<string | null>(null);\n  const [isIntelligenceOpen, setIsIntelligenceOpen] = useState(false);\n  const [isDesktopXL, setIsDesktopXL] = useState(false);\n  const [headerHighlight, setHeaderHighlight] = useState(false);\n  const [pageFeedback, setPageFeedback] = useState<FeedbackState | null>(null);\n  const [runningIntelAction, setRunningIntelAction] = useState<string | null>(null);\n  const [intelResult, setIntelResult] = useState<{\n    type: \"info\" | \"success\" | \"plan\";\n    title?: string;\n    text: string;\n    action?: { label: string; onClick: () => void };\n  } | null>(null);\n  const [kpiError, setKpiError] = useState(false);\n\n  const refreshTimerRef = useRef<number | null>(null);\n  const highlightTimerRef = useRef<number | null>(null);\n  const autoOpenedRailRef = useRef(false);\n\n  useEffect(() => {\n    const timer = window.setTimeout(() => setIsLoading(false), 720);\n    return () => window.clearTimeout(timer);\n  }, []);\n\n  useEffect(() => {\n    if (typeof window === \"undefined\") return;\n    const mediaQuery = window.matchMedia(\"(min-width: 1280px)\");\n\n    const sync = () => {\n      setIsDesktopXL(mediaQuery.matches);\n      if (mediaQuery.matches && !autoOpenedRailRef.current) {\n        setIsIntelligenceOpen(true);\n        autoOpenedRailRef.current = true;\n      }\n      if (!mediaQuery.matches) {\n        setIsIntelligenceOpen(false);\n      }\n    };\n\n    sync();\n    mediaQuery.addEventListener(\"change\", sync);\n    return () => mediaQuery.removeEventListener(\"change\", sync);\n  }, []);\n\n  useEffect(() => {\n    if (!pageFeedback) return;\n    const timer = window.setTimeout(() => setPageFeedback(null), 2200);\n    return () => window.clearTimeout(timer);\n  }, [pageFeedback]);\n\n  useEffect(() => {\n    if (!intelResult) return;\n    if (intelResult.type === \"plan\") return; // Mantem plano de ação aberto\n    const timer = window.setTimeout(() => setIntelResult(null), 2500);\n    return () => window.clearTimeout(timer);\n  }, [intelResult]);\n\n  useEffect(() => {\n    return () => {\n      if (refreshTimerRef.current) window.clearTimeout(refreshTimerRef.current);\n      if (highlightTimerRef.current) window.clearTimeout(highlightTimerRef.current);\n    };\n  }, []);\n\n  const scopedOwnerId = useMemo(() => {\n    const preferredId = user?.id;\n    if (preferredId && goals.some((goal) => goal.userId === preferredId)) {\n      return preferredId;\n    }\n    return goals.find((goal) => goal.userId)?.userId ?? preferredId ?? \"user-5\";\n  }, [goals, user?.id]);\n\n  const personalGoals = useMemo(\n    () =>\n      goals.filter(\n        (goal) => !goal.userId || goal.userId === scopedOwnerId\n      ),\n    [goals, scopedOwnerId]\n  );\n\n  const periodGoals = useMemo(() => {\n    if (selectedPeriod === \"yearly\") return personalGoals;\n    if (selectedPeriod === \"monthly\") {\n      return personalGoals.filter((goal) => goal.period === \"monthly\");\n    }\n    return personalGoals.filter((goal) => goal.period === \"quarterly\");\n  }, [personalGoals, selectedPeriod]);\n\n  const counts = useMemo(() => {\n    const risk = periodGoals.filter((goal) => getGoalStatus(goal) === \"risk\").length;\n    const achieved = periodGoals.filter((goal) => getGoalStatus(goal) === \"achieved\").length;\n    const pace = periodGoals.filter((goal) => getGoalStatus(goal) === \"pace\").length;\n    return {\n      active: periodGoals.length,\n      risk,\n      achieved,\n      pace,\n    };\n  }, [periodGoals]);\n\n  const scoreMetrics = useMemo(() => {\n    const current =\n      periodGoals.length > 0\n        ? Math.round(\n          periodGoals.reduce((sum, goal) => sum + scoreGoal(goal), 0) /\n          periodGoals.length\n        )\n        : 0;\n    const previous = Math.max(\n      0,\n      current - (selectedPeriod === \"yearly\" ? 3 : selectedPeriod === \"quarterly\" ? 4 : 6)\n    );\n    return {\n      current,\n      previous,\n      delta: current - previous,\n    };\n  }, [periodGoals, selectedPeriod]);\n\n  // Removed: Modal State\n  // const [generatedModalOpen, setGeneratedModalOpen] = useState(false);\n\n  const filteredGoals = useMemo(() => {\n    return periodGoals.filter((goal) => {\n      if (typeFilter !== \"all\" && goal.type !== typeFilter) return false;\n      const status = getGoalStatus(goal);\n      if (statusFilter !== \"all\" && status !== statusFilter) return false;\n      return true;\n    });\n  }, [periodGoals, typeFilter, statusFilter]);\n\n  const groupedGoals = useMemo(() => {\n    const grouped: Record<GoalStatus, Goal[]> = {\n      risk: [],\n      pace: [],\n      achieved: [],\n    };\n\n    for (const goal of filteredGoals) {\n      grouped[getGoalStatus(goal)].push(goal);\n    }\n\n    for (const key of Object.keys(grouped) as GoalStatus[]) {\n      grouped[key].sort((a, b) => getProgress(a) - getProgress(b));\n    }\n\n    return grouped;\n  }, [filteredGoals]);\n\n  const activeHeaderChips = useMemo(() => {\n    const chips: Array<{ id: string; label: string; onClear?: () => void }> = [];\n    if (typeFilter !== \"all\") {\n      chips.push({\n        id: \"type\",\n        label: `Tipo: ${goalTypeConfig[typeFilter].label}`,\n        onClear: () => setTypeFilter(\"all\"),\n      });\n    }\n    return chips;\n  }, [typeFilter]);\n\n  const setGoalFeedback = useCallback((goalId: string, feedback: FeedbackState) => {\n    setCardFeedback((prev) => ({ ...prev, [goalId]: feedback }));\n    window.setTimeout(() => {\n      setCardFeedback((prev) => {\n        const next = { ...prev };\n        delete next[goalId];\n        return next;\n      });\n    }, 1200);\n  }, []);\n\n  const handlePeriodChange = useCallback((period: PeriodFilter) => {\n    if (period === selectedPeriod) return;\n\n    setSelectedPeriod(period);\n    setIsRefreshingPeriod(true);\n    setHeaderHighlight(true);\n\n    if (refreshTimerRef.current) window.clearTimeout(refreshTimerRef.current);\n    if (highlightTimerRef.current) window.clearTimeout(highlightTimerRef.current);\n\n    refreshTimerRef.current = window.setTimeout(() => {\n      setIsRefreshingPeriod(false);\n    }, 260);\n    highlightTimerRef.current = window.setTimeout(() => {\n      setHeaderHighlight(false);\n    }, 1200);\n  }, [selectedPeriod]);\n\n  const clearAllFilters = useCallback(() => {\n    setStatusFilter(\"all\");\n    setTypeFilter(\"all\");\n  }, []);\n\n  const togglePlan = useCallback((goalId: string) => {\n    setExpandedPlans((prev) => {\n      const next = new Set(prev);\n      if (next.has(goalId)) next.delete(goalId);\n      else next.add(goalId);\n      return next;\n    });\n  }, []);\n\n  // runCardAction foi removida pois não possuía utilidade verdadeira (falsa promise de success)\n\n  const runIntelAction = useCallback(\n    (actionId: string, resultMessage: string, callback?: () => void) => {\n      setRunningIntelAction(actionId);\n      window.setTimeout(() => {\n        callback?.();\n        setRunningIntelAction(null);\n\n        if (actionId === \"export-summary\") {\n          const exportText = `Resumo de Performance - ${new Date().toLocaleDateString()}\\nStatus Geral:\\n- Metas Ativas: ${counts.active}\\n- Metas Batidas: ${counts.achieved}\\n- Metas em Risco: ${counts.risk}`;\n          navigator.clipboard.writeText(exportText).catch(() => {});\n          setIntelResult({\n            type: \"success\",\n            text: \"Resumo copiado para sua área de transferência.\",\n          });\n          return;\n        }\n\n        if (actionId === \"speech\") {\n          setIntelResult({\n            type: \"info\",\n            title: \"Foco do dia\",\n            text: '\"Estou numa fase decisiva. Hoje vou priorizar as ações com maior impacto de conversão e encerrar o dia com o funil limpo, sem pendências críticas.\"',\n          });\n          return;\n        }\n\n        if (actionId === \"weekly-plan\" || actionId === \"risk-plan\" || actionId === \"daily-actions\") {\n          let preContext = \"\";\n          const labelText = \"Ações criadas\";\n          if (actionId === \"weekly-plan\") preContext = \"Plano da Semana: focar oportunidades antigas e prospectos quentes.\";\n          if (actionId === \"risk-plan\") preContext = \"Plano de Risco: auditar pipeline e ativar campanha relâmpago urgente.\";\n          if (actionId === \"daily-actions\") preContext = \"Atividades Diárias: 10 calls, 5 cold emails, reativar conversões frias.\";\n\n          setIntelResult({\n            type: \"plan\",\n            title: \"Ações sugeridas\",\n            text: preContext,\n            action: {\n              label: \"Aplicar como tarefeas\",\n              onClick: () => {\n                openDrawer(\"new-activity\", { initialNote: preContext });\n                setIntelResult(null);\n                setGoalFeedback(\"intel\", { type: \"success\", message: labelText });\n              },\n            },\n          });\n          return;\n        }\n\n        setIntelResult({ type: \"info\", text: resultMessage });\n      }, 700);\n    },\n    [counts, openDrawer, setGoalFeedback]\n  );\n\n  if (isLoading) {\n    return <GoalsLoadingSkeleton />;\n  }\n\n  const hasGoalsInPeriod = periodGoals.length > 0;\n\n  return (\n    <TooltipProvider>\n      <motion.div\n        initial={{ opacity: 0, y: 6 }}\n        animate={{ opacity: 1, y: 0 }}\n        transition={{ duration: 0.18, ease: [0.25, 0.46, 0.45, 0.94] }}\n        className=\"flex h-[calc(100dvh-2rem)] min-h-0 w-full max-w-full flex-col gap-4\"\n      >\n        {pageFeedback ? (\n          <InlineFeedback\n            type={pageFeedback.type}\n            message={pageFeedback.message}\n            compact\n            onClose={() => setPageFeedback(null)}\n          />\n        ) : null}\n\n        <motion.div\n          initial={{ opacity: 0, y: 6 }}\n          animate={{ opacity: 1, y: 0 }}\n          transition={{ duration: 0.16, delay: 0.02, ease: \"easeOut\" }}\n          className=\"shrink-0\"\n        >\n          <ModuleCommandHeader\n            title=\"Minhas metas\"\n            description=\"Performance pessoal e gamificação\"\n            meta={`Período: ${periodLabel[selectedPeriod]}`}\n            chips={[\n              {\n                id: \"goals-active\",\n                label: `Ativas (${counts.active})`,\n                tone: statusFilter === \"all\" ? \"info\" : \"neutral\",\n                onClick: () => setStatusFilter(\"all\"),\n              },\n              {\n                id: \"goals-achieved\",\n                label: `Batidas (${counts.achieved})`,\n                tone: statusFilter === \"achieved\" ? \"success\" : \"neutral\",\n                onClick: () =>\n                  setStatusFilter((current) => (current === \"achieved\" ? \"all\" : \"achieved\")),\n              },\n              {\n                id: \"goals-risk\",\n                label: `Em risco (${counts.risk})`,\n                tone: statusFilter === \"risk\" ? \"danger\" : \"neutral\",\n                onClick: () =>\n                  setStatusFilter((current) => (current === \"risk\" ? \"all\" : \"risk\")),\n              },\n            ]}\n            actions={\n              <div className=\"flex w-full min-w-0 flex-wrap items-center gap-2 xl:justify-end\">\n                <div className=\"inline-flex h-9 items-center rounded-full border border-zinc-200 bg-zinc-50/90 p-1\">\n                  {(Object.keys(periodLabel) as PeriodFilter[]).map((period) => (\n                    <button\n                      key={period}\n                      type=\"button\"\n                      onClick={() => handlePeriodChange(period)}\n                      className={cn(\n                        \"h-7 rounded-full px-3 text-xs font-medium transition-colors duration-120\",\n                        selectedPeriod === period\n                          ? \"bg-white text-zinc-900 shadow-sm\"\n                          : \"text-zinc-500 hover:text-zinc-900\"\n                      )}\n                    >\n                      {periodLabel[period]}\n                    </button>\n                  ))}\n                </div>\n\n              </div>\n            }\n          >\n            <div className=\"flex flex-col gap-2\">\n              <div\n                className={cn(\n                  \"flex flex-wrap items-center gap-2 transition-colors duration-200\",\n                  headerHighlight && \"rounded-[12px] bg-zinc-100/60 p-1\"\n                )}\n              >\n                <span className=\"text-xs font-medium text-zinc-500\">Tipo:</span>\n                {(Object.keys(goalTypeConfig) as Goal[\"type\"][]).map((type) => (\n                  <button\n                    key={type}\n                    type=\"button\"\n                    onClick={() =>\n                      setTypeFilter((current) => (current === type ? \"all\" : type))\n                    }\n                    className={cn(\n                      \"inline-flex h-8 items-center gap-1.5 rounded-full border px-3 text-xs font-medium transition-colors duration-120\",\n                      typeFilter === type\n                        ? \"border-zinc-300 bg-white text-zinc-900\"\n                        : \"border-zinc-200 bg-white/90 text-zinc-600 hover:bg-zinc-50\"\n                    )}\n                  >\n                    {goalTypeConfig[type].icon}\n                    {goalTypeConfig[type].label}\n                  </button>\n                ))}\n              </div>\n\n              <div className=\"flex flex-wrap items-center gap-2\">\n                {activeHeaderChips.length > 0 ? (\n                  <Button\n                    variant=\"ghost\"\n                    size=\"sm\"\n                    onClick={clearAllFilters}\n                    className=\"h-9 rounded-full text-xs text-zinc-500 hover:text-zinc-900\"\n                  >\n                    Limpar filtros\n                  </Button>\n                ) : null}\n              </div>\n\n              {activeHeaderChips.length > 0 ? (\n                <div className=\"flex flex-wrap items-center gap-2\">\n                  {activeHeaderChips.map((chip) => (\n                    <button\n                      key={chip.id}\n                      type=\"button\"\n                      onClick={chip.onClear}\n                      className=\"inline-flex h-7 items-center gap-1 rounded-full border border-zinc-200 bg-white px-2.5 text-[11px] font-medium text-zinc-600 transition-colors duration-120 hover:bg-zinc-50\"\n                    >\n                      {chip.label}\n                      <X className=\"h-3 w-3 text-zinc-400\" />\n                    </button>\n                  ))}\n                </div>\n              ) : null}\n            </div>\n          </ModuleCommandHeader>\n        </motion.div>\n\n        <motion.div\n          initial={{ opacity: 0, y: 6 }}\n          animate={{ opacity: 1, y: 0 }}\n          transition={{ duration: 0.16, delay: 0.05, ease: \"easeOut\" }}\n          className=\"flex-1\"\n        >\n          <div className=\"grid h-full grid-cols-1 gap-6 lg:grid-cols-[1fr_320px]\">\n            {/* Left Column: Goals Execution */}\n            <div className=\"min-h-0 min-w-0 overflow-y-auto pb-8\">\n              {!hasGoalsInPeriod ? (\n                <div className=\"flex flex-col items-center justify-center rounded-[24px] border border-dashed border-zinc-200 bg-zinc-50/50 py-20 text-center\">\n                  <div className=\"mb-4 rounded-full bg-white p-4 shadow-sm ring-1 ring-zinc-100\">\n                    <Target className=\"h-8 w-8 text-zinc-300\" />\n                  </div>\n                  <h3 className=\"font-heading text-lg font-semibold text-zinc-900\">\n                    Nenhuma meta atribuída\n                  </h3>\n                  <p className=\"mt-2 max-w-sm text-sm text-zinc-500\">\n                    Você não possui metas definidas para este período. Entre em contato com seu\n                    gestor para alinhar seus objetivos.\n                  </p>\n                </div>\n              ) : isRefreshingPeriod ? (\n                <GoalsContentSkeleton />\n              ) : (\n                <motion.div\n                  key={`${selectedPeriod}-${statusFilter}-${typeFilter}`}\n                  initial={{ opacity: 0 }}\n                  animate={{ opacity: 1 }}\n                  transition={{ duration: 0.16, ease: \"easeOut\" }}\n                  className=\"space-y-4 pb-4\"\n                >\n                  <section className=\"grid grid-cols-1 gap-3 md:grid-cols-2 xl:grid-cols-4\">\n                    {kpiError ? (\n                      <SectionError\n                        message=\"Falha ao carregar indicadores de metas.\"\n                        onRetry={() => setKpiError(false)}\n                      />\n                    ) : (\n                      <>\n                        <GoalsKpiCard\n                          icon={<Target className=\"h-5 w-5 text-zinc-700\" />}\n                          label=\"Metas ativas\"\n                          value={`${counts.active}`}\n                          subtext=\"no período selecionado\"\n                          trend={`${counts.active} metas em acompanhamento`}\n                          miniVisual={\n                            <div className=\"mt-1 flex gap-1.5\">\n                              <span className=\"h-2 w-8 rounded-full bg-zinc-300/80\" />\n                              <span className=\"h-2 w-8 rounded-full bg-zinc-200/80\" />\n                              <span className=\"h-2 w-8 rounded-full bg-zinc-400/80\" />\n                            </div>\n                          }\n                        />\n                        <GoalsKpiCard\n                          icon={<Trophy className=\"h-5 w-5 text-emerald-700\" />}\n                          label=\"Metas batidas\"\n                          value={`${counts.achieved}`}\n                          subtext=\"taxa de sucesso do período\"\n                          trend={\n                            counts.active > 0\n                              ? `${Math.round((counts.achieved / counts.active) * 100)}% de sucesso`\n                              : \"Sem metas no período\"\n                          }\n                          miniVisual={\n                            <div className=\"w-full\">\n                              <div className=\"h-2 w-full overflow-hidden rounded-full bg-zinc-100\">\n                                <div\n                                  className=\"h-full rounded-full bg-emerald-400 transition-[width] duration-200\"\n                                  style={{\n                                    width:\n                                      counts.active > 0\n                                        ? `${Math.round((counts.achieved / counts.active) * 100)}%`\n                                        : \"0%\",\n                                  }}\n                                />\n                              </div>\n                            </div>\n                          }\n                        />\n                        <GoalsKpiCard\n                          icon={<AlertTriangle className=\"h-5 w-5 text-red-700\" />}\n                          label=\"Metas em risco\"\n                          value={`${counts.risk}`}\n                          subtext=\"atenção imediata\"\n                          trend={counts.risk > 0 ? \"Prioridade de execução\" : \"Sem alertas críticos\"}\n                          miniVisual={\n                            <Badge\n                              className={cn(\n                                \"rounded-full px-2 py-0.5 text-[10px]\",\n                                counts.risk > 0\n                                  ? \"border border-red-200 bg-red-50 text-red-700\"\n                                  : \"border border-emerald-200 bg-emerald-50 text-emerald-700\"\n                              )}\n                            >\n                              {counts.risk > 0 ? \"Atenção\" : \"Tudo em dia\"}\n                            </Badge>\n                          }\n                        />\n                        <GoalsKpiCard\n                          icon={<Sparkles className=\"h-5 w-5 text-blue-700\" />}\n                          label=\"Score pessoal\"\n                          value={`${scoreMetrics.current}`}\n                          subtext=\"média da minha execução\"\n                          trend={\n                            scoreMetrics.delta >= 0\n                              ? `+${scoreMetrics.delta} vs período anterior`\n                              : `${scoreMetrics.delta} vs período anterior`\n                          }\n                          miniVisual={\n                            <div className=\"flex h-8 items-end gap-1\">\n                              {[0.42, 0.48, 0.44, 0.52, 0.56, 0.63].map((height, index) => (\n                                <span\n                                  key={index}\n                                  className=\"w-1.5 rounded bg-blue-300/80\"\n                                  style={{ height: `${height * 100}%` }}\n                                />\n                              ))}\n                            </div>\n                          }\n                        />\n                      </>\n                    )}\n                  </section>\n\n                  <section className=\"space-y-4\">\n                    <GoalsGroupSection\n                      title=\"Em risco\"\n                      description=\"Metas que precisam de ação imediata.\"\n                      goals={groupedGoals.risk}\n                      emptyLabel=\"Nenhuma meta em risco no período.\"\n                      renderGoal={(goal) => (\n                        <GoalPerformanceCard\n                          key={goal.id}\n                          goal={goal}\n                          expanded={expandedPlans.has(goal.id)}\n                          isRunningAction={cardLoadingId === goal.id}\n                          inlineFeedback={cardFeedback[goal.id]}\n                          onTogglePlan={() => togglePlan(goal.id)}\n                          onPrimaryAction={() => {\n                            const status = getGoalStatus(goal);\n                            if (status === \"risk\") {\n                              togglePlan(goal.id);\n                              return;\n                            }\n                            if (status === \"pace\") {\n                              openDrawer(\"new-activity\", {\n                                initialNote: `Plano de ação para acelerar a meta: ${goal.title}`,\n                              });\n                              return;\n                            }\n                            setGoalFeedback(goal.id, {\n                              type: \"info\",\n                              message: \"Meta batida: detalhes exibidos.\",\n                            });\n                          }}\n                          onCreateActivities={() =>\n                            openDrawer(\"new-activity\", {\n                              initialNote: `Ação para recuperar meta em risco: ${goal.title}`,\n                            })\n                          }\n                          onOpenActivities={() =>\n                            router.push(\n                              `/activities?source=goals&goal=${encodeURIComponent(goal.title)}&status=${getGoalStatus(goal)}`\n                            )\n                          }\n                        />\n                      )}\n                    />\n\n                    <GoalsGroupSection\n                      title=\"No ritmo\"\n                      description=\"Metas com execução saudável, focadas em aceleração.\"\n                      goals={groupedGoals.pace}\n                      emptyLabel=\"Sem metas em ritmo no filtro selecionado.\"\n                      renderGoal={(goal) => (\n                        <GoalPerformanceCard\n                          key={goal.id}\n                          goal={goal}\n                          expanded={expandedPlans.has(goal.id)}\n                          isRunningAction={cardLoadingId === goal.id}\n                          inlineFeedback={cardFeedback[goal.id]}\n                          onTogglePlan={() => togglePlan(goal.id)}\n                          onPrimaryAction={() =>\n                            openDrawer(\"new-activity\", {\n                              initialNote: `Ação para acelerar meta: ${goal.title}`,\n                            })\n                          }\n                          onCreateActivities={() =>\n                            openDrawer(\"new-activity\", {\n                              initialNote: `Nova atividade para meta: ${goal.title}`,\n                            })\n                          }\n                          onOpenActivities={() =>\n                            router.push(\n                              `/activities?source=goals&goal=${encodeURIComponent(goal.title)}&status=${getGoalStatus(goal)}`\n                            )\n                          }\n                        />\n                      )}\n                    />\n\n                    <section className=\"rounded-[20px] border border-zinc-200/80 bg-white/82 p-3 shadow-[0_16px_32px_-28px_rgba(15,23,42,0.45)] md:p-4\">\n                      <div className=\"mb-3 flex flex-wrap items-center justify-between gap-2\">\n                        <div>\n                          <h3 className=\"font-heading text-base font-semibold text-zinc-900\">\n                            Batidas\n                          </h3>\n                          <p className=\"text-xs text-zinc-500\">\n                            Metas concluídas no período. Seção colapsável para manter foco.\n                          </p>\n                        </div>\n                        <Button\n                          variant=\"outline\"\n                          size=\"sm\"\n                          className=\"h-8 rounded-full\"\n                          onClick={() => setIsAchievedCollapsed((value) => !value)}\n                        >\n                          {isAchievedCollapsed ? \"Expandir\" : \"Recolher\"}\n                        </Button>\n                      </div>\n\n                      {!isAchievedCollapsed ? (\n                        groupedGoals.achieved.length > 0 ? (\n                          <div className=\"grid grid-cols-1 gap-3 md:grid-cols-2 xl:grid-cols-3\">\n                            {groupedGoals.achieved.map((goal) => (\n                              <GoalPerformanceCard\n                                key={goal.id}\n                                goal={goal}\n                                expanded={expandedPlans.has(goal.id)}\n                                isRunningAction={cardLoadingId === goal.id}\n                                inlineFeedback={cardFeedback[goal.id]}\n                                onTogglePlan={() => togglePlan(goal.id)}\n                                onPrimaryAction={() => {\n                                  setGoalFeedback(goal.id, {\n                                    type: \"success\",\n                                    message: \"Relatório da meta batida pronto (feature em dev).\",\n                                  });\n                                }}\n                                onCreateActivities={() =>\n                                  openDrawer(\"new-activity\", {\n                                    initialNote: `Manter ritmo da meta batida: ${goal.title}`,\n                                  })\n                                }\n                                onOpenActivities={() =>\n                                  router.push(\n                                    `/activities?source=goals&goal=${encodeURIComponent(goal.title)}&status=${getGoalStatus(goal)}`\n                                  )\n                                }\n                              />\n                            ))}\n                          </div>\n                        ) : (\n                          <div className=\"rounded-[14px] border border-dashed border-zinc-200 bg-zinc-50/80 p-4 text-sm text-zinc-500\">\n                            Sem metas batidas no filtro atual.\n                          </div>\n                        )\n                      ) : (\n                        <div className=\"rounded-[14px] border border-zinc-200 bg-zinc-50/80 p-3 text-xs text-zinc-600\">\n                          Seção recolhida para reduzir ruído visual.\n                        </div>\n                      )}\n                    </section>\n                  </section>\n\n                </motion.div>\n              )}\n            </div>\n\n            <div className=\"hidden h-full min-w-0 lg:block\">\n              <GoalsIntelligenceRail\n                activeCount={counts.active}\n                riskCount={counts.risk}\n                paceCount={counts.pace}\n                achievedCount={counts.achieved}\n                runningAction={runningIntelAction}\n                result={intelResult}\n                onClose={() => { }}\n                onRunAction={runIntelAction}\n                onFilterRisk={() => setStatusFilter(\"risk\")}\n                onFilterOpportunities={() => setTypeFilter(\"opportunities\")}\n                onFilterConversion={() => setTypeFilter(\"conversion\")}\n                onFilterActivities={() => setTypeFilter(\"activities\")}\n                onOpenActivities={() => router.push(\"/activities?source=goals&focus=metas\")}\n                onGenerateSummary={() =>\n                  setPageFeedback({\n                    type: \"success\",\n                    message: \"Resumo de coaching gerado.\",\n                  })\n                }\n              />\n            </div>\n          </div>\n        </motion.div>\n\n        {!isDesktopXL ? (\n          <>\n            <div\n              onClick={() => setIsIntelligenceOpen(false)}\n              className={cn(\n                \"fixed inset-0 z-40 bg-black/25 transition-opacity duration-200 xl:hidden\",\n                isIntelligenceOpen ? \"opacity-100\" : \"pointer-events-none opacity-0\"\n              )}\n            />\n            <aside\n              className={cn(\n                \"fixed right-0 top-0 z-50 h-full w-[min(92vw,360px)] p-2 transition-transform duration-220 ease-out xl:hidden\",\n                isIntelligenceOpen ? \"translate-x-0\" : \"translate-x-full\"\n              )}\n            >\n              <GoalsIntelligenceRail\n                activeCount={counts.active}\n                riskCount={counts.risk}\n                paceCount={counts.pace}\n                achievedCount={counts.achieved}\n                runningAction={runningIntelAction}\n                result={intelResult}\n                onClose={() => setIsIntelligenceOpen(false)}\n                onRunAction={runIntelAction}\n                onFilterRisk={() => {\n                  setStatusFilter(\"risk\");\n                  setIsIntelligenceOpen(false);\n                }}\n                onFilterOpportunities={() => {\n                  setTypeFilter(\"opportunities\");\n                  setIsIntelligenceOpen(false);\n                }}\n                onFilterConversion={() => {\n                  setTypeFilter(\"conversion\");\n                  setIsIntelligenceOpen(false);\n                }}\n                onFilterActivities={() => {\n                  setTypeFilter(\"activities\");\n                  setIsIntelligenceOpen(false);\n                }}\n                onOpenActivities={() => {\n                  setIsIntelligenceOpen(false);\n                  router.push(\"/activities?source=goals&focus=metas\");\n                }}\n                onGenerateSummary={() => {\n                  setPageFeedback({\n                    type: \"success\",\n                    message: \"Resumo de coaching gerado.\",\n                  });\n                  setIsIntelligenceOpen(false);\n                }}\n              />\n            </aside>\n          </>\n        ) : null}\n      </motion.div>\n    </TooltipProvider >\n  );\n}\n\nfunction GoalsKpiCard({\n  icon,\n  label,\n  value,\n  subtext,\n  trend,\n  miniVisual,\n}: {\n  icon: ReactNode;\n  label: string;\n  value: string;\n  subtext: string;\n  trend: string;\n  miniVisual: ReactNode;\n}) {\n  return (\n    <article className=\"premium-lift h-[154px] rounded-[18px] border border-zinc-200/80 bg-white p-3.5 shadow-[0_14px_28px_-24px_rgba(15,23,42,0.5)]\">\n      <div className=\"flex h-full flex-col\">\n        <div className=\"flex items-center gap-2 text-zinc-600\">\n          <span className=\"inline-flex h-8 w-8 items-center justify-center rounded-[10px] bg-zinc-100\">\n            {icon}\n          </span>\n          <span className=\"text-xs font-medium uppercase tracking-[0.08em]\">{label}</span>\n        </div>\n        <div className=\"mt-3\">\n          <p className=\"font-heading text-[30px] font-semibold leading-none text-zinc-900\">\n            {value}\n          </p>\n          <p className=\"mt-1 truncate text-xs text-zinc-500\">{subtext}</p>\n        </div>\n        <div className=\"mt-auto flex items-end justify-between gap-2\">\n          <span className=\"truncate rounded-full bg-zinc-100 px-2 py-0.5 text-[11px] text-zinc-600\">\n            {trend}\n          </span>\n          <div className=\"min-w-[72px]\">{miniVisual}</div>\n        </div>\n      </div>\n    </article>\n  );\n}\n\nfunction GoalsGroupSection({\n  title,\n  description,\n  goals,\n  emptyLabel,\n  renderGoal,\n}: {\n  title: string;\n  description: string;\n  goals: Goal[];\n  emptyLabel: string;\n  renderGoal: (goal: Goal) => ReactNode;\n}) {\n  return (\n    <section className=\"rounded-[20px] border border-zinc-200/80 bg-white/82 p-3 shadow-[0_16px_32px_-28px_rgba(15,23,42,0.45)] md:p-4\">\n      <div className=\"mb-3\">\n        <h3 className=\"font-heading text-base font-semibold text-zinc-900\">{title}</h3>\n        <p className=\"text-xs text-zinc-500\">{description}</p>\n      </div>\n      {goals.length > 0 ? (\n        <div className=\"grid grid-cols-1 gap-3 md:grid-cols-2 xl:grid-cols-3\">\n          {goals.map((goal) => (\n            <Fragment key={goal.id}>{renderGoal(goal)}</Fragment>\n          ))}\n        </div>\n      ) : (\n        <div className=\"rounded-[14px] border border-dashed border-zinc-200 bg-zinc-50/80 p-4 text-sm text-zinc-500\">\n          {emptyLabel}\n        </div>\n      )}\n    </section>\n  );\n}\n\nfunction GoalPerformanceCard({\n  goal,\n  expanded,\n  isRunningAction,\n  inlineFeedback,\n  onTogglePlan,\n  onPrimaryAction,\n  onCreateActivities,\n  onOpenActivities,\n}: {\n  goal: Goal;\n  expanded: boolean;\n  isRunningAction: boolean;\n  inlineFeedback?: FeedbackState;\n  onTogglePlan: () => void;\n  onPrimaryAction: () => void;\n  onCreateActivities: () => void;\n  onOpenActivities: () => void;\n}) {\n  const status = getGoalStatus(goal);\n  const statusCfg = goalStatusConfig[status];\n  const typeCfg = goalTypeConfig[goal.type];\n  const rawProgress = getProgress(goal);\n  const progress = Math.min(100, Math.max(0, Math.round(rawProgress)));\n  const plan = getPlanSummary(goal, status);\n\n  return (\n    <article className=\"premium-lift overflow-hidden rounded-[16px] border border-zinc-200/85 bg-white shadow-[0_12px_22px_-18px_rgba(15,23,42,0.48)]\">\n      <div className=\"p-3.5\">\n        <div className=\"flex items-start justify-between gap-2\">\n          <div className=\"min-w-0\">\n            <div className=\"mb-2 flex flex-wrap items-center gap-1.5\">\n              <Badge className={cn(\"rounded-full border px-2 py-0 text-[10px]\", typeCfg.chipClass)}>\n                {goalTypeConfig[goal.type].label}\n              </Badge>\n              <Badge className=\"rounded-full border border-zinc-200 bg-zinc-50 px-2 py-0 text-[10px] text-zinc-600\">\n                {goalPeriodLabel[goal.period]}\n              </Badge>\n            </div>\n            <h4 className=\"truncate text-sm font-semibold text-zinc-900\">{goal.title}</h4>\n          </div>\n\n        </div>\n\n        <div className=\"mt-3\">\n          <div className=\"flex items-baseline gap-1\">\n            <span className=\"font-heading text-[30px] font-semibold leading-none text-zinc-900\">\n              {goalTypeConfig[goal.type].formatter(goal.current)}\n            </span>\n            <span className=\"text-sm text-zinc-500\">\n              / {goalTypeConfig[goal.type].formatter(goal.target)}\n            </span>\n          </div>\n          <p className={cn(\"mt-1 text-sm font-semibold\", statusCfg.textClass)}>{progress}%</p>\n        </div>\n\n        <div className=\"mt-3 h-2 w-full overflow-hidden rounded-full bg-zinc-100\">\n          <motion.div\n            initial={{ width: 0 }}\n            animate={{ width: `${progress}%` }}\n            transition={{ duration: 0.24, ease: \"easeOut\" }}\n            className={cn(\"h-full rounded-full\", statusCfg.progressClass)}\n          />\n        </div>\n\n        <div className=\"mt-3 flex flex-wrap items-center justify-between gap-2\">\n          <Badge className={cn(\"rounded-full border px-2 py-0.5 text-[11px]\", statusCfg.badgeClass)}>\n            {statusCfg.label}\n          </Badge>\n          <div className=\"flex items-center gap-2\">\n            <Button\n              size=\"sm\"\n              className={cn(\n                \"h-8 rounded-full px-4 text-xs font-medium shadow-sm transition-transform active:scale-95\",\n                status === \"risk\"\n                  ? \"bg-red-600 text-white hover:bg-red-700\"\n                  : \"bg-zinc-900 text-white hover:bg-zinc-800\"\n              )}\n              onClick={onPrimaryAction}\n              disabled={isRunningAction}\n            >\n              {statusCfg.ctaLabel}\n              <ArrowRight className=\"ml-1.5 h-3 w-3\" />\n            </Button>\n            <Button\n              size=\"sm\"\n              className=\"menux-intelligence-btn-soft h-8 rounded-full px-3 text-xs text-slate-100\"\n              onClick={onTogglePlan}\n            >\n              <Bot className=\"h-3.5 w-3.5\" />\n              Plano\n            </Button>\n          </div>\n        </div>\n      </div>\n\n      {expanded ? (\n        <motion.div\n          initial={{ opacity: 0, height: 0 }}\n          animate={{ opacity: 1, height: \"auto\" }}\n          exit={{ opacity: 0, height: 0 }}\n          transition={{ duration: 0.18, ease: \"easeOut\" }}\n          className=\"border-t border-zinc-200 bg-zinc-50/70 px-3.5 py-3\"\n        >\n          <p className=\"text-xs font-semibold uppercase tracking-[0.08em] text-zinc-500\">\n            Plano da Menux Intelligence\n          </p>\n          <p className=\"mt-1 text-xs text-zinc-600\">{plan.why}</p>\n\n          <ul className=\"mt-3 space-y-1.5 text-xs text-zinc-600\">\n            {plan.actions.map((action, index) => (\n              <li key={index} className=\"flex items-start gap-1.5\">\n                <Check className=\"mt-0.5 h-3.5 w-3.5 text-zinc-500\" />\n                <span>{action}</span>\n              </li>\n            ))}\n          </ul>\n\n          <div className=\"mt-3 flex flex-wrap items-center gap-2\">\n            <Button\n              size=\"sm\"\n              className=\"h-7 rounded-full bg-zinc-900 px-3 text-[11px] text-white hover:bg-zinc-800\"\n              onClick={onCreateActivities}\n              disabled={isRunningAction}\n            >\n              {isRunningAction ? (\n                <span className=\"mr-1 h-3 w-3 animate-spin rounded-full border border-white border-t-transparent\" />\n              ) : null}\n              Criar ações\n            </Button>\n            <Button\n              size=\"sm\"\n              variant=\"outline\"\n              className=\"h-7 rounded-full px-3 text-[11px]\"\n              onClick={onOpenActivities}\n            >\n              Ir para atividades\n            </Button>\n          </div>\n        </motion.div>\n      ) : null}\n\n      {inlineFeedback ? (\n        <div className=\"border-t border-zinc-200 bg-white px-3.5 py-2\">\n          <span\n            className={cn(\n              \"inline-flex rounded-full px-2 py-0.5 text-[11px] font-medium\",\n              inlineFeedback.type === \"success\" && \"bg-emerald-100 text-emerald-700\",\n              inlineFeedback.type === \"error\" && \"bg-red-100 text-red-700\",\n              inlineFeedback.type === \"info\" && \"bg-blue-100 text-blue-700\"\n            )}\n          >\n            {inlineFeedback.message}\n          </span>\n        </div>\n      ) : null}\n    </article>\n  );\n}\n\nfunction GoalsIntelligenceRail({\n  activeCount,\n  riskCount,\n  paceCount,\n  achievedCount,\n  runningAction,\n  result,\n  onRunAction,\n  onClose,\n  onFilterRisk,\n  onFilterOpportunities,\n  onFilterConversion,\n  onFilterActivities,\n  onOpenActivities,\n  onGenerateSummary,\n}: {\n  activeCount: number;\n  riskCount: number;\n  paceCount: number;\n  achievedCount: number;\n  runningAction: string | null;\n  result: {\n    type: \"info\" | \"success\" | \"plan\";\n    title?: string;\n    text: string;\n    action?: { label: string; onClick: () => void };\n  } | null;\n  onRunAction: (actionId: string, resultMessage: string, callback?: () => void) => void;\n  onClose?: () => void;\n  onFilterRisk: () => void;\n  onFilterOpportunities: () => void;\n  onFilterConversion: () => void;\n  onFilterActivities: () => void;\n  onOpenActivities: () => void;\n  onGenerateSummary: () => void;\n}) {\n  return (\n    <div className=\"menux-intelligence-theme flex h-full min-h-0 flex-col overflow-hidden rounded-[20px] border border-slate-700/70 bg-[linear-gradient(145deg,#020817_0%,#03132b_56%,#0a2340_100%)] text-slate-100 shadow-[0_34px_52px_-36px_rgba(15,23,42,0.92)]\">\n      <div className=\"border-b border-white/10 px-4 py-3\">\n        <div className=\"flex items-start justify-between gap-2\">\n          <div>\n            <h3 className=\"font-heading text-lg font-semibold\">Menux Intelligence</h3>\n            <p className=\"mt-0.5 text-xs text-cyan-100/80\">Coach de performance pessoal</p>\n          </div>\n          {onClose ? (\n            <Button\n              variant=\"ghost\"\n              size=\"icon\"\n              className=\"h-8 w-8 rounded-full text-slate-300 hover:bg-white/10 hover:text-white\"\n              onClick={onClose}\n              aria-label=\"Fechar Menux Intelligence\"\n            >\n              <X className=\"h-4 w-4\" />\n            </Button>\n          ) : null}\n        </div>\n        <Button\n          className=\"mt-3 h-8 w-full rounded-full border border-white/15 bg-white/10 text-xs text-slate-100 hover:bg-white/15\"\n          onClick={() =>\n            onRunAction(\"weekly-plan\", \"Plano semanal gerado.\", onFilterRisk)\n          }\n          disabled={runningAction === \"weekly-plan\"}\n        >\n          {runningAction === \"weekly-plan\" ? (\n            <span className=\"mr-2 h-3 w-3 animate-spin rounded-full border border-cyan-100 border-t-transparent\" />\n          ) : (\n            <Bot className=\"mr-1.5 h-3.5 w-3.5\" />\n          )}\n          Gerar plano semanal\n        </Button>\n      </div>\n\n      <div className=\"min-h-0 flex-1 space-y-3 overflow-y-auto p-4\">\n        <section className=\"rounded-[14px] border border-white/10 bg-white/5 p-3\">\n          <p className=\"text-xs font-semibold uppercase tracking-[0.08em] text-slate-300\">\n            Diagnóstico do período\n          </p>\n          <div className=\"mt-2 space-y-2 text-xs text-slate-200\">\n            <div className=\"rounded-[10px] border border-white/10 bg-white/5 p-2.5\">\n              <p className=\"text-slate-300\">Metas ativas</p>\n              <p className=\"mt-1 font-medium text-slate-50\">{activeCount}</p>\n            </div>\n            <div className=\"rounded-[10px] border border-white/10 bg-white/5 p-2.5\">\n              <p className=\"text-slate-300\">Metas em risco</p>\n              <p className=\"mt-1 font-medium text-slate-50\">{riskCount}</p>\n            </div>\n            <div className=\"rounded-[10px] border border-white/10 bg-white/5 p-2.5\">\n              <p className=\"text-slate-300\">Alavanca mais rápida</p>\n              <p className=\"mt-1 font-medium text-slate-50\">\n                {paceCount > riskCount ? \"Manter cadência de execução\" : \"Recuperar metas críticas\"}\n              </p>\n            </div>\n          </div>\n        </section>\n\n        <section className=\"rounded-[14px] border border-white/10 bg-white/5 p-3\">\n          <p className=\"text-xs font-semibold uppercase tracking-[0.08em] text-slate-300\">\n            Recomendações por perfil\n          </p>\n          <div className=\"mt-2 space-y-2\">\n            <IntelligenceRecommendation\n              label=\"SDR: foco em oportunidades criadas\"\n              actionLabel=\"Aplicar filtro\"\n              loading={runningAction === \"sdr\"}\n              onClick={() =>\n                onRunAction(\"sdr\", \"Filtro aplicado: oportunidades.\", onFilterOpportunities)\n              }\n            />\n            <IntelligenceRecommendation\n              label=\"Closer: foco em conversão e fechamento\"\n              actionLabel=\"Aplicar filtro\"\n              loading={runningAction === \"closer\"}\n              onClick={() =>\n                onRunAction(\"closer\", \"Filtro aplicado: conversão.\", onFilterConversion)\n              }\n            />\n            <IntelligenceRecommendation\n              label=\"CS: foco em atividades e saúde da carteira\"\n              actionLabel=\"Aplicar filtro\"\n              loading={runningAction === \"cs\"}\n              onClick={() =>\n                onRunAction(\"cs\", \"Filtro aplicado: atividades.\", onFilterActivities)\n              }\n            />\n          </div>\n        </section>\n\n        <section className=\"rounded-[14px] border border-white/10 bg-white/5 p-3\">\n          <p className=\"text-xs font-semibold uppercase tracking-[0.08em] text-slate-300\">\n            Comandos rápidos\n          </p>\n          <div className=\"mt-2 space-y-2\">\n            <IntelligenceCommand\n              label=\"Gerar plano para metas em risco\"\n              loading={runningAction === \"risk-plan\"}\n              onClick={() =>\n                onRunAction(\"risk-plan\", \"Plano para metas em risco gerado.\", onFilterRisk)\n              }\n            />\n            <IntelligenceCommand\n              label=\"Sugerir atividades diárias\"\n              loading={runningAction === \"daily-actions\"}\n              onClick={() =>\n                onRunAction(\"daily-actions\", \"Sugestões de atividades geradas.\", onOpenActivities)\n              }\n            />\n            <IntelligenceCommand\n              label=\"Exportar resumo de performance\"\n              loading={runningAction === \"export-summary\"}\n              onClick={() =>\n                onRunAction(\"export-summary\", \"Resumo exportado.\", onGenerateSummary)\n              }\n            />\n            <IntelligenceCommand\n              label=\"Gerar mensagem de foco do dia\"\n              loading={runningAction === \"speech\"}\n              onClick={() =>\n                onRunAction(\"speech\", \"Mensagem de foco gerada.\")\n              }\n            />\n          </div>\n        </section>\n\n        <div className=\"rounded-[12px] border border-white/10 bg-white/5 p-3 text-xs text-slate-200\">\n          <p className=\"font-medium text-slate-50\">Resumo rápido</p>\n          <p className=\"mt-1\">Batidas: {achievedCount} · Em risco: {riskCount} · No ritmo: {paceCount}</p>\n        </div>\n\n        {result ? (\n          <div className=\"rounded-[12px] border border-cyan-300/30 bg-cyan-500/10 p-3 text-xs text-cyan-100\">\n            {result.title ? <p className=\"mb-1 font-semibold text-white\">{result.title}</p> : null}\n            <p className=\"whitespace-pre-wrap leading-relaxed\">{result.text}</p>\n            {result.action ? (\n              <Button\n                variant=\"outline\"\n                size=\"sm\"\n                className=\"mt-3 h-8 w-full rounded-full border-cyan-500/30 bg-cyan-500/20 text-cyan-50 hover:bg-cyan-500/30 hover:text-white\"\n                onClick={result.action.onClick}\n              >\n                {result.action.label}\n              </Button>\n            ) : null}\n          </div>\n        ) : null}\n      </div>\n    </div>\n  );\n}\n\nfunction IntelligenceRecommendation({\n  label,\n  actionLabel,\n  onClick,\n  loading,\n}: {\n  label: string;\n  actionLabel: string;\n  onClick: () => void;\n  loading: boolean;\n}) {\n  return (\n    <div className=\"rounded-[10px] border border-white/10 bg-white/5 p-2.5\">\n      <p className=\"text-xs text-slate-200\">{label}</p>\n      <Button\n        size=\"sm\"\n        variant=\"outline\"\n        className=\"mt-2 h-7 rounded-full border-white/20 bg-white/5 px-2.5 text-[11px] text-slate-100 hover:bg-white/10\"\n        onClick={onClick}\n        disabled={loading}\n      >\n        {loading ? (\n          <span className=\"mr-1 h-3 w-3 animate-spin rounded-full border border-cyan-100 border-t-transparent\" />\n        ) : null}\n        {actionLabel}\n      </Button>\n    </div>\n  );\n}\n\nfunction IntelligenceCommand({\n  label,\n  onClick,\n  loading,\n}: {\n  label: string;\n  onClick: () => void;\n  loading: boolean;\n}) {\n  return (\n    <button\n      type=\"button\"\n      onClick={onClick}\n      disabled={loading}\n      className=\"flex w-full items-center justify-between rounded-[10px] border border-white/10 bg-white/5 px-3 py-2 text-left text-xs text-slate-100 transition-colors duration-120 hover:bg-white/10 disabled:cursor-not-allowed disabled:opacity-70\"\n    >\n      <span>{label}</span>\n      {loading ? (\n        <span className=\"h-3 w-3 animate-spin rounded-full border border-cyan-100 border-t-transparent\" />\n      ) : (\n        <Sparkles className=\"h-3.5 w-3.5 text-cyan-200\" />\n      )}\n    </button>\n  );\n}\n\nfunction SectionError({\n  message,\n  onRetry,\n}: {\n  message: string;\n  onRetry: () => void;\n}) {\n  return (\n    <div className=\"rounded-[14px] border border-red-200 bg-red-50/85 p-3 text-sm text-red-700\">\n      <div className=\"flex items-center justify-between gap-2\">\n        <div className=\"flex items-center gap-2\">\n          <AlertTriangle className=\"h-4 w-4\" />\n          <span>{message}</span>\n        </div>\n        <Button\n          variant=\"outline\"\n          size=\"sm\"\n          className=\"h-7 rounded-full border-red-200 bg-white text-red-700 hover:bg-red-50\"\n          onClick={onRetry}\n        >\n          Tentar novamente\n        </Button>\n      </div>\n    </div>\n  );\n}\n\nfunction GoalsLoadingSkeleton() {\n  return (\n    <div className=\"flex h-[calc(100dvh-2rem)] min-h-0 w-full max-w-full flex-col gap-4\">\n      <div className=\"shrink-0 rounded-[20px] border border-zinc-200/80 bg-zinc-50/85 px-5 py-4\">\n        <Skeleton className=\"h-8 w-32\" />\n        <Skeleton className=\"mt-2 h-4 w-64\" />\n        <div className=\"mt-4 flex flex-wrap gap-2\">\n          <Skeleton className=\"h-9 w-48 rounded-full\" />\n          <Skeleton className=\"h-9 w-36 rounded-full\" />\n          <Skeleton className=\"h-9 w-44 rounded-full\" />\n        </div>\n      </div>\n      <GoalsContentSkeleton />\n    </div>\n  );\n}\n\nfunction GoalsContentSkeleton() {\n  return (\n    <div className=\"flex min-h-0 flex-1 gap-4\">\n      <div className=\"min-h-0 min-w-0 flex-1 space-y-4\">\n        <div className=\"grid grid-cols-1 gap-3 md:grid-cols-2 xl:grid-cols-4\">\n          {Array.from({ length: 4 }).map((_, index) => (\n            <Skeleton key={index} className=\"h-[154px] rounded-[18px]\" />\n          ))}\n        </div>\n        <Skeleton className=\"h-[280px] rounded-[20px]\" />\n        <Skeleton className=\"h-[280px] rounded-[20px]\" />\n        <Skeleton className=\"h-[280px] rounded-[20px]\" />\n        <Skeleton className=\"h-[320px] rounded-[20px]\" />\n      </div>\n      <div className=\"hidden w-[360px] xl:block\">\n        <Skeleton className=\"h-full rounded-[20px]\" />\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":"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"}
{"version":3,"sources":["../../../../src/app/%28auth%29/clients/page.tsx"],"sourcesContent":["\"use client\";\n\nimport {\n  Suspense,\n  useState,\n  useMemo,\n  useEffect,\n  useCallback,\n  useRef,\n  type ReactNode,\n} from \"react\";\nimport {\n  Search,\n  Heart,\n  AlertTriangle,\n  XCircle,\n  MoreHorizontal,\n  Clock,\n  Sparkles,\n  LayoutGrid,\n  List,\n  Plus,\n  Bot,\n  Copy,\n  Check,\n  Filter,\n  ChevronRight,\n  MessageSquare,\n  Activity,\n  Building2,\n} from \"lucide-react\";\nimport { motion } from \"framer-motion\";\nimport { useRouter, useSearchParams } from \"next/navigation\";\nimport { cn } from \"@/lib/cn\";\nimport { mockClients } from \"@/lib/mock-data\";\nimport type { Client, HealthScore } from \"@/types\";\nimport { useUIStore } from \"@/stores/ui-store\";\nimport { useClientStore } from \"@/stores/client-store\";\nimport { useAuthStore } from \"@/stores/auth-store\";\nimport { ModuleCommandHeader } from \"@/components/shared/module-command-header\";\nimport { InlineFeedback } from \"@/components/ui/inline-feedback\";\nimport { Button } from \"@/components/ui/button\";\nimport { Input } from \"@/components/ui/input\";\nimport { Card, CardContent } from \"@/components/ui/card\";\nimport { Badge } from \"@/components/ui/badge\";\nimport {\n  DropdownMenu,\n  DropdownMenuContent,\n  DropdownMenuItem,\n  DropdownMenuSeparator,\n  DropdownMenuTrigger,\n} from \"@/components/ui/dropdown-menu\";\nimport {\n  Popover,\n  PopoverContent,\n  PopoverTrigger,\n} from \"@/components/ui/popover\";\nimport {\n  Tooltip,\n  TooltipContent,\n  TooltipProvider,\n  TooltipTrigger,\n} from \"@/components/ui/tooltip\";\nimport { Avatar, AvatarFallback } from \"@/components/ui/avatar\";\nimport { Skeleton } from \"@/components/ui/skeleton\";\n\ntype SuccessColumnId = \"onboarding\" | \"implantacao\" | \"ativos\";\ntype SuccessPhase = \"all\" | SuccessColumnId;\ntype ClientsView = \"board\" | \"list\";\n\ninterface FiltersState {\n  health: HealthScore | \"all\";\n  staleOnly: boolean;\n}\n\ninterface ColumnConfig {\n  id: SuccessColumnId;\n  label: string;\n  stages: Client[\"stage\"][];\n}\n\ninterface FeedbackState {\n  type: \"success\" | \"error\";\n  message: string;\n}\n\ninterface CardFeedbackState extends FeedbackState {\n  clientId: string;\n}\n\nconst columnConfig: ColumnConfig[] = [\n  { id: \"onboarding\", label: \"Onboarding\", stages: [\"onboarding\"] },\n  { id: \"implantacao\", label: \"Implantação\", stages: [\"implantacao\"] },\n  {\n    id: \"ativos\",\n    label: \"Ativos\",\n    stages: [\"acompanhamento\", \"retencao\", \"churn\"],\n  },\n];\n\nconst healthConfig: Record<\n  HealthScore,\n  {\n    label: string;\n    icon: ReactNode;\n    badgeClass: string;\n    textClass: string;\n    tooltip: string;\n  }\n> = {\n  good: {\n    label: \"Saudável\",\n    icon: <Heart className=\"h-3.5 w-3.5 fill-current\" />,\n    badgeClass: \"border-emerald-200 bg-emerald-50 text-emerald-700\",\n    textClass: \"text-emerald-700\",\n    tooltip: \"Cliente com engajamento saudável e baixo risco imediato.\",\n  },\n  warning: {\n    label: \"Atenção\",\n    icon: <AlertTriangle className=\"h-3.5 w-3.5\" />,\n    badgeClass: \"border-amber-200 bg-amber-50 text-amber-700\",\n    textClass: \"text-amber-700\",\n    tooltip: \"Sinais de queda de engajamento. Requer acompanhamento próximo.\",\n  },\n  critical: {\n    label: \"Crítico\",\n    icon: <XCircle className=\"h-3.5 w-3.5\" />,\n    badgeClass: \"border-red-200 bg-red-50 text-red-700\",\n    textClass: \"text-red-700\",\n    tooltip: \"Risco elevado de churn. Prioridade máxima de ação.\",\n  },\n};\n\nconst intelligenceCommands = [\n  { id: \"plan\", label: \"Gerar plano de follow-up\", icon: <Activity className=\"h-3.5 w-3.5\" /> },\n  { id: \"critical\", label: \"Criar atividades para críticos\", icon: <AlertTriangle className=\"h-3.5 w-3.5\" /> },\n  { id: \"messages\", label: \"Sugerir mensagens de recuperação\", icon: <MessageSquare className=\"h-3.5 w-3.5\" /> },\n  { id: \"churn\", label: \"Mapear risco de churn\", icon: <XCircle className=\"h-3.5 w-3.5\" /> },\n  { id: \"upsell\", label: \"Identificar upsell\", icon: <Sparkles className=\"h-3.5 w-3.5\" /> },\n  { id: \"summary\", label: \"Resumo executivo da carteira\", icon: <Building2 className=\"h-3.5 w-3.5\" /> },\n];\n\nfunction formatCurrency(value: number): string {\n  return new Intl.NumberFormat(\"pt-BR\", {\n    style: \"currency\",\n    currency: \"BRL\",\n    minimumFractionDigits: 0,\n  }).format(value);\n}\n\nfunction formatMRR(value: number): string {\n  return `${formatCurrency(value)}/mês`;\n}\n\nfunction getDaysSinceInteraction(dateStr?: string): number {\n  if (!dateStr) return Infinity;\n  const now = new Date();\n  const date = new Date(dateStr);\n  return Math.max(\n    0,\n    Math.floor((now.getTime() - date.getTime()) / (1000 * 60 * 60 * 24))\n  );\n}\n\nfunction getRelativeDate(dateStr?: string): string {\n  if (!dateStr) return \"sem registro\";\n  const diffDays = getDaysSinceInteraction(dateStr);\n  if (diffDays === 0) return \"hoje\";\n  if (diffDays === 1) return \"há 1 dia\";\n  if (diffDays < 7) return `há ${diffDays} dias`;\n  if (diffDays < 30) {\n    const weeks = Math.floor(diffDays / 7);\n    return weeks === 1 ? \"há 1 semana\" : `há ${weeks} semanas`;\n  }\n  const months = Math.floor(diffDays / 30);\n  return months <= 1 ? \"há 1 mês\" : `há ${months} meses`;\n}\n\nfunction getClientColumn(client: Client): SuccessColumnId {\n  if (client.stage === \"onboarding\") return \"onboarding\";\n  if (client.stage === \"implantacao\") return \"implantacao\";\n  return \"ativos\";\n}\n\nfunction getMaxStaleDays(stage: Client[\"stage\"]): number {\n  return stage === \"onboarding\" ? 5 : 30;\n}\n\nfunction getClientRiskScore(client: Client): number {\n  const daysWithoutInteraction = getDaysSinceInteraction(client.lastInteraction);\n  const maxStale = getMaxStaleDays(client.stage);\n  let score = 0;\n  if (client.healthScore === \"critical\") score += 60;\n  if (client.healthScore === \"warning\") score += 30;\n  if (client.stage === \"churn\") score += 40;\n  if (daysWithoutInteraction > maxStale) score += 25;\n  if (daysWithoutInteraction > (maxStale / 2) && daysWithoutInteraction <= maxStale) score += 12;\n  return score;\n}\n\nfunction isRiskClient(client: Client): boolean {\n  const staleDays = getDaysSinceInteraction(client.lastInteraction);\n  return client.healthScore !== \"good\" || staleDays > getMaxStaleDays(client.stage) || client.stage === \"churn\";\n}\n\nfunction getRiskReason(client: Client): string {\n  const staleDays = getDaysSinceInteraction(client.lastInteraction);\n  const maxStale = getMaxStaleDays(client.stage);\n  if (client.stage === \"churn\") return \"Cliente já em churn\";\n  if (client.healthScore === \"critical\") return \"Health score crítico\";\n  if (staleDays > maxStale) return `Sem interação há ${staleDays} dias (SLA estourado)`;\n  if (client.healthScore === \"warning\") return \"Health score em atenção\";\n  return \"Atenção recomendada\";\n}\n\nfunction getInitials(name: string): string {\n  const parts = name.trim().split(\" \").filter(Boolean);\n  if (parts.length === 0) return \"--\";\n  if (parts.length === 1) return parts[0].slice(0, 2).toUpperCase();\n  return `${parts[0][0]}${parts[parts.length - 1][0]}`.toUpperCase();\n}\n\nfunction getColumnInsight(clients: Client[]): string {\n  if (clients.length === 0) return \"Sem clientes nesta fase\";\n  const staleWeek = clients.filter(\n    (client) => getDaysSinceInteraction(client.lastInteraction) > 7\n  ).length;\n  const critical = clients.filter((client) => client.healthScore === \"critical\").length;\n\n  if (critical > 0) {\n    return `${critical} cliente${critical > 1 ? \"s\" : \"\"} em risco elevado`;\n  }\n  if (staleWeek > 0) {\n    return `${staleWeek} cliente${staleWeek > 1 ? \"s\" : \"\"} sem interação esta semana`;\n  }\n  return \"Carteira com ritmo saudável\";\n}\n\nfunction getIntelligenceSuggestions(client: Client): {\n  messages: string[];\n  nextStep: string;\n  risk: string;\n} {\n  const health = healthConfig[client.healthScore].label.toLowerCase();\n  const inactivityDays = getDaysSinceInteraction(client.lastInteraction);\n\n  const messages = [\n    `Olá ${client.contactName}, tudo bem? Gostaria de alinhar os próximos passos para mantermos os resultados de ${client.companyName}.`,\n    `Percebi que estamos há ${Number.isFinite(inactivityDays) ? inactivityDays : 0} dias sem interação. Posso te enviar um plano rápido para avançarmos nesta semana?`,\n  ];\n\n  const nextStep =\n    client.healthScore === \"critical\"\n      ? \"Criar atividade de contato prioritário hoje.\"\n      : client.healthScore === \"warning\"\n        ? \"Agendar follow-up com proposta de melhoria em até 48h.\"\n        : \"Reforçar valor percebido e mapear oportunidade de upsell.\";\n\n  const risk =\n    client.healthScore === \"critical\"\n      ? \"Risco alto de churn no ciclo atual.\"\n      : `Saúde ${health}; manter cadência para evitar degradação.`;\n\n  return { messages, nextStep, risk };\n}\n\nfunction ClientsPageContent() {\n  const { openDrawer } = useUIStore();\n  const { clients: storeClients } = useClientStore();\n  const { user, permissions, isLoading: isAuthLoading } = useAuthStore();\n  const router = useRouter();\n  const searchParams = useSearchParams();\n  const searchInputRef = useRef<HTMLInputElement>(null);\n  const hasRiskFilterParam = searchParams.get(\"filter\") === \"risk\";\n  const canExport = permissions?.canExportData ?? false;\n  const canCreateActivity = permissions?.canCreateActivity ?? false;\n  const canViewAllUnits = permissions?.canViewAllUnits ?? false;\n\n\n  const [isLoading, setIsLoading] = useState(true);\n  const [view, setView] = useState<ClientsView>(\"board\");\n  const [visiblePhase, setVisiblePhase] = useState<SuccessPhase>(\"all\");\n  const [searchInput, setSearchInput] = useState(\"\");\n  const [searchQuery, setSearchQuery] = useState(\"\");\n  const [filters, setFilters] = useState<FiltersState>(() => ({\n    health: hasRiskFilterParam ? \"critical\" : \"all\",\n    staleOnly: false,\n  }));\n  const [isFiltersOpen, setIsFiltersOpen] = useState(false);\n  const [isIntelligenceOpen, setIsIntelligenceOpen] = useState(false);\n  const [isDesktopXL, setIsDesktopXL] = useState(false);\n  const [feedback, setFeedback] = useState<FeedbackState | null>(null);\n  const [cardFeedback, setCardFeedback] = useState<CardFeedbackState | null>(null);\n  const [focusedClientId, setFocusedClientId] = useState<string | null>(null);\n  const [runningCommand, setRunningCommand] = useState<string | null>(null);\n  const [commandResult, setCommandResult] = useState<string | null>(null);\n\n  const allClients = storeClients.length > 0 ? storeClients : mockClients;\n  const scopedOwnerId = useMemo(() => user?.id ?? \"\", [user?.id]);\n\n  const scopedClients = useMemo(\n    () => {\n      if (canViewAllUnits) return allClients;\n      if (!scopedOwnerId) return [];\n      return allClients.filter((client) => client.responsibleId === scopedOwnerId);\n    },\n    [allClients, canViewAllUnits, scopedOwnerId]\n  );\n\n  // Deep linking for clientId\n  useEffect(() => {\n    const clientId = searchParams.get(\"clientId\");\n    if (clientId) {\n      const linkedClient = scopedClients.find((client) => client.id === clientId);\n\n      if (linkedClient) {\n        openDrawer(\"client-card\", { id: clientId });\n      } else {\n        window.setTimeout(() => {\n          setFeedback({\n            type: \"error\",\n            message: \"Cliente não encontrado no seu escopo atual.\",\n          });\n        }, 0);\n      }\n\n      // Remove param from URL without reload to avoid re-opening on refresh\n      const newParams = new URLSearchParams(searchParams.toString());\n      newParams.delete(\"clientId\");\n      const serialized = newParams.toString();\n      router.replace(serialized ? `/clients?${serialized}` : \"/clients\", { scroll: false });\n    }\n  }, [openDrawer, router, scopedClients, searchParams]);\n\n  useEffect(() => {\n    const timer = window.setTimeout(() => setIsLoading(false), 700);\n    return () => window.clearTimeout(timer);\n  }, []);\n\n  useEffect(() => {\n    const timer = window.setTimeout(() => {\n      setSearchQuery(searchInput.trim());\n    }, 250);\n    return () => window.clearTimeout(timer);\n  }, [searchInput]);\n\n  useEffect(() => {\n    if (typeof window === \"undefined\") return;\n    const mobileQuery = window.matchMedia(\"(max-width: 767px)\");\n    const xlQuery = window.matchMedia(\"(min-width: 1280px)\");\n\n    const syncBreakpoints = () => {\n      setIsDesktopXL(xlQuery.matches);\n      if (mobileQuery.matches) {\n        setView(\"list\");\n      }\n    };\n\n    syncBreakpoints();\n    mobileQuery.addEventListener(\"change\", syncBreakpoints);\n    xlQuery.addEventListener(\"change\", syncBreakpoints);\n\n    return () => {\n      mobileQuery.removeEventListener(\"change\", syncBreakpoints);\n      xlQuery.removeEventListener(\"change\", syncBreakpoints);\n    };\n  }, []);\n\n  useEffect(() => {\n    if (!feedback) return;\n    const timer = window.setTimeout(() => setFeedback(null), 2200);\n    return () => window.clearTimeout(timer);\n  }, [feedback]);\n\n  useEffect(() => {\n    if (!cardFeedback) return;\n    const timer = window.setTimeout(() => setCardFeedback(null), 1200);\n    return () => window.clearTimeout(timer);\n  }, [cardFeedback]);\n\n  useEffect(() => {\n    const handleKeyDown = (event: KeyboardEvent) => {\n      if ((event.metaKey || event.ctrlKey) && event.key.toLowerCase() === \"k\") {\n        event.preventDefault();\n        searchInputRef.current?.focus();\n        return;\n      }\n\n      if ((event.metaKey || event.ctrlKey) && event.key.toLowerCase() === \"i\") {\n        event.preventDefault();\n        setIsIntelligenceOpen((prev) => !prev);\n        return;\n      }\n\n      if (event.key === \"Escape\") {\n        setIsFiltersOpen(false);\n        setIsIntelligenceOpen(false);\n      }\n    };\n\n    window.addEventListener(\"keydown\", handleKeyDown);\n    return () => window.removeEventListener(\"keydown\", handleKeyDown);\n  }, []);\n\n  const panelFilterCount = useMemo(() => {\n    return (\n      (filters.health !== \"all\" ? 1 : 0) +\n      (filters.staleOnly ? 1 : 0)\n    );\n  }, [filters.health, filters.staleOnly]);\n  const hasScopedClients = scopedClients.length > 0;\n  const hasSearch = searchQuery.length > 0;\n  const hasActiveViewFilters = panelFilterCount > 0 || visiblePhase !== \"all\" || hasSearch;\n\n  const phaseScopedClients = useMemo(() => {\n    return scopedClients.filter((client) => {\n      if (visiblePhase !== \"all\" && getClientColumn(client) !== visiblePhase) {\n        return false;\n      }\n\n      if (searchQuery) {\n        const q = searchQuery.toLowerCase();\n        const companyMatch = client.companyName.toLowerCase().includes(q);\n        const contactMatch = client.contactName.toLowerCase().includes(q);\n        if (!companyMatch && !contactMatch) return false;\n      }\n\n      if (filters.health !== \"all\" && client.healthScore !== filters.health) {\n        return false;\n      }\n\n      if (\n        filters.staleOnly &&\n        getDaysSinceInteraction(client.lastInteraction) <= getMaxStaleDays(client.stage)\n      ) {\n        return false;\n      }\n\n      return true;\n    });\n  }, [scopedClients, visiblePhase, searchQuery, filters]);\n\n  const criticalCount = useMemo(\n    () => phaseScopedClients.filter((client) => client.healthScore === \"critical\").length,\n    [phaseScopedClients]\n  );\n  const healthyCount = useMemo(\n    () => phaseScopedClients.filter((client) => client.healthScore === \"good\").length,\n    [phaseScopedClients]\n  );\n  const phaseLabel = useMemo(() => {\n    if (visiblePhase === \"all\") return \"Funil completo\";\n    return (\n      columnConfig.find((column) => column.id === visiblePhase)?.label ?? \"Fase selecionada\"\n    );\n  }, [visiblePhase]);\n\n  const headerMeta = `${phaseLabel} · ${phaseScopedClients.length} cliente${phaseScopedClients.length === 1 ? \"\" : \"s\"\n    } visíveis`;\n\n  const clientsForDisplay = phaseScopedClients;\n\n  const clientsByColumn = useMemo(() => {\n    const grouped: Record<SuccessColumnId, Client[]> = {\n      onboarding: [],\n      implantacao: [],\n      ativos: [],\n    };\n\n    for (const client of clientsForDisplay) {\n      grouped[getClientColumn(client)].push(client);\n    }\n\n    for (const columnId of Object.keys(grouped) as SuccessColumnId[]) {\n      grouped[columnId].sort((a, b) => getClientRiskScore(b) - getClientRiskScore(a));\n    }\n\n    return grouped;\n  }, [clientsForDisplay]);\n\n  const riskClients = useMemo(\n    () =>\n      clientsForDisplay\n        .filter((client) => isRiskClient(client))\n        .sort((a, b) => getClientRiskScore(b) - getClientRiskScore(a)),\n    [clientsForDisplay]\n  );\n\n  const prioritizedClients = useMemo(\n    () =>\n      phaseScopedClients\n        .filter((client) => isRiskClient(client))\n        .sort((a, b) => getClientRiskScore(b) - getClientRiskScore(a))\n        .slice(0, 5),\n    [phaseScopedClients]\n  );\n\n  const visibleColumns = useMemo(() => {\n    if (visiblePhase === \"all\") return columnConfig.map((col) => col.id);\n    return [visiblePhase];\n  }, [visiblePhase]);\n\n  const showRiskColumn = useMemo(\n    () =>\n      riskClients.length > 0 && (visiblePhase === \"all\" || visiblePhase === \"ativos\"),\n    [riskClients.length, visiblePhase]\n  );\n\n  const showInsightsFillColumn = useMemo(\n    () => isDesktopXL && !isIntelligenceOpen && visibleColumns.length <= 2,\n    [isDesktopXL, isIntelligenceOpen, visibleColumns.length]\n  );\n\n  const focusedClient = useMemo(() => {\n    if (focusedClientId) {\n      const selected = allClients.find((client) => client.id === focusedClientId);\n      if (selected) return selected;\n    }\n    return prioritizedClients[0] ?? null;\n  }, [allClients, focusedClientId, prioritizedClients]);\n\n  const focusedSuggestions = useMemo(\n    () => (focusedClient ? getIntelligenceSuggestions(focusedClient) : null),\n    [focusedClient]\n  );\n\n  const setInlineCardMessage = useCallback(\n    (clientId: string, type: \"success\" | \"error\", message: string) => {\n      setCardFeedback({ clientId, type, message });\n    },\n    []\n  );\n\n  const handleCreateActivity = useCallback(\n    (client?: Pick<Client, \"id\" | \"companyName\">) => {\n      if (!canCreateActivity) {\n        setFeedback({\n          type: \"error\",\n          message: \"Você não tem permissão para criar atividades.\",\n        });\n        return;\n      }\n\n      openDrawer(\"new-activity\", client\n        ? {\n          clientId: client.id,\n          clientName: client.companyName,\n        }\n        : undefined);\n    },\n    [canCreateActivity, openDrawer]\n  );\n\n  const focusClientInIntelligence = useCallback((client: Client) => {\n    setFocusedClientId(client.id);\n    setIsIntelligenceOpen(true);\n  }, []);\n\n  const handleCopyText = useCallback(\n    async (text: string, clientId?: string) => {\n      try {\n        await navigator.clipboard.writeText(text);\n        if (clientId) {\n          setInlineCardMessage(clientId, \"success\", \"Copiado\");\n        } else {\n          setFeedback({ type: \"success\", message: \"Mensagem copiada.\" });\n        }\n      } catch {\n        if (clientId) {\n          setInlineCardMessage(clientId, \"error\", \"Falha ao copiar\");\n        } else {\n          setFeedback({ type: \"error\", message: \"Não foi possível copiar.\" });\n        }\n      }\n    },\n    [setInlineCardMessage]\n  );\n\n  const handleIntelligenceCommand = useCallback((commandId: string, label: string) => {\n    setRunningCommand(commandId);\n    setCommandResult(null);\n    window.setTimeout(() => {\n      setRunningCommand(null);\n      setCommandResult(`Menux Intelligence executou: ${label.toLowerCase()}.`);\n      setIsIntelligenceOpen(true);\n    }, 460);\n  }, []);\n\n  const exportClientsCsv = useCallback(\n    (clients: Client[], exportId: string) => {\n      if (!canExport) {\n        setFeedback({\n          type: \"error\",\n          message: \"Você não tem permissão para exportar dados.\",\n        });\n        return;\n      }\n\n      if (clients.length > 500) {\n        setFeedback({ type: \"error\", message: \"Muitos clientes para exportar. Refine os filtros.\" });\n        return;\n      }\n      const csvRows = clients.map((client) =>\n        [\n          client.companyName,\n          client.contactName,\n          client.responsibleName,\n          String(client.monthlyRevenue),\n          healthConfig[client.healthScore].label,\n          client.lastInteraction ?? \"\",\n        ]\n          .map((value) => `\"${String(value).replaceAll('\"', '\"\"')}\"`)\n          .join(\",\")\n      );\n      const csv = [\n        \"empresa,contato,responsavel,mrr,health_score,ultima_interacao\",\n        ...csvRows,\n      ].join(\"\\n\");\n      const blob = new Blob([csv], { type: \"text/csv;charset=utf-8;\" });\n      const url = URL.createObjectURL(blob);\n      const link = document.createElement(\"a\");\n      link.href = url;\n      link.download = `clientes-${exportId}.csv`;\n      link.click();\n      URL.revokeObjectURL(url);\n      setFeedback({ type: \"success\", message: \"Exportação iniciada.\" });\n    },\n    [canExport]\n  );\n\n  const handleExportColumn = useCallback(\n    (columnId: SuccessColumnId) => {\n      exportClientsCsv(clientsByColumn[columnId], columnId);\n    },\n    [clientsByColumn, exportClientsCsv]\n  );\n\n  const renderBoard = () => {\n    if (clientsForDisplay.length === 0) {\n      const emptyTitle = hasScopedClients\n        ? \"Nenhum cliente encontrado\"\n        : \"Sua carteira não possui clientes\";\n      const emptyDescription = hasScopedClients\n        ? \"Ajuste os filtros ou busque por outro termo para visualizar clientes nesta fase.\"\n        : \"Quando novos clientes forem atribuídos ao seu escopo, eles aparecerão aqui.\";\n\n      return (\n        <div className=\"premium-panel flex h-full min-h-[380px] items-center justify-center rounded-[20px] p-8 text-center\">\n          <div>\n            <p className=\"font-heading text-xl font-semibold text-zinc-900\">\n              {emptyTitle}\n            </p>\n            <p className=\"mt-2 max-w-[420px] font-body text-sm text-zinc-500\">\n              {emptyDescription}\n            </p>\n            <div className=\"mt-4 flex justify-center gap-2\">\n              <Button\n                variant=\"outline\"\n                className=\"rounded-full\"\n                disabled={!hasActiveViewFilters}\n                onClick={() => {\n                  setFilters({ health: \"all\", staleOnly: false });\n                  setVisiblePhase(\"all\");\n                  setSearchInput(\"\");\n                  setSearchQuery(\"\");\n                }}\n              >\n                Limpar filtros\n              </Button>\n              <Button\n                className=\"rounded-full bg-black text-white hover:bg-zinc-800\"\n                onClick={() => handleCreateActivity()}\n                disabled={!canCreateActivity}\n              >\n                Criar atividade\n              </Button>\n            </div>\n          </div>\n        </div>\n      );\n    }\n\n    const widthClass =\n      visibleColumns.length === 1\n        ? \"w-full max-w-[420px]\"\n        : \"w-[min(88vw,360px)] md:w-[320px] xl:w-[360px]\";\n\n    return (\n      <div className=\"premium-ambient premium-grain relative flex h-full min-h-0 min-w-0 overflow-hidden rounded-[22px] border border-zinc-200/75 bg-white/72 p-3 shadow-[var(--shadow-premium-soft)] backdrop-blur-sm md:p-4\">\n        <div className=\"flex min-h-0 min-w-0 flex-1 gap-4 overflow-x-auto pb-1 pr-1 [scroll-snap-type:x_proximity]\">\n          {visibleColumns.map((columnId) => {\n            const config = columnConfig.find((col) => col.id === columnId)!;\n            const clients = clientsByColumn[columnId];\n            const totalMRR = clients.reduce((acc, client) => acc + client.monthlyRevenue, 0);\n            return (\n              <SuccessBoardColumn\n                key={columnId}\n                widthClass={widthClass}\n                title={config.label}\n                count={clients.length}\n                mrrTotal={totalMRR}\n                insight={getColumnInsight(clients)}\n                clients={clients}\n                onOpenClient={(client) => openDrawer(\"client-card\", { id: client.id })}\n                onCreateActivity={handleCreateActivity}\n                onFocusClient={focusClientInIntelligence}\n                onCopyMessage={handleCopyText}\n                cardFeedback={cardFeedback}\n                canExport={canExport}\n                canCreateActivity={canCreateActivity}\n                onExport={() => handleExportColumn(columnId)}\n                onSuggestPlan={() =>\n                  handleIntelligenceCommand(\"plan-column\", `Plano de ação para ${config.label}`)\n                }\n                onViewAll={() => {\n                  setVisiblePhase(columnId);\n                  setView(\"list\");\n                }}\n                onViewFilters={() => setIsFiltersOpen(true)}\n              />\n            );\n          })}\n\n          {showRiskColumn ? (\n            <SuccessBoardColumn\n              widthClass={widthClass}\n              title=\"Risco\"\n              count={riskClients.length}\n              mrrTotal={riskClients.reduce((acc, client) => acc + client.monthlyRevenue, 0)}\n              insight=\"Clientes com risco de churn ou inatividade elevada\"\n              clients={riskClients}\n              onOpenClient={(client) => openDrawer(\"client-card\", { id: client.id })}\n              onCreateActivity={handleCreateActivity}\n              onFocusClient={focusClientInIntelligence}\n              onCopyMessage={handleCopyText}\n              cardFeedback={cardFeedback}\n              canExport={canExport}\n              canCreateActivity={canCreateActivity}\n              onExport={() => exportClientsCsv(riskClients, \"risk\")}\n              onSuggestPlan={() =>\n                handleIntelligenceCommand(\"plan-risk\", \"Plano de ataque para clientes em risco\")\n              }\n              onViewAll={() => {\n                setVisiblePhase(\"ativos\");\n                setView(\"list\");\n              }}\n              onViewFilters={() => setIsFiltersOpen(true)}\n            />\n          ) : null}\n\n          {showInsightsFillColumn ? (\n            <BoardInsightsColumn\n              widthClass={widthClass}\n              prioritizedClients={prioritizedClients}\n              onFocusClient={focusClientInIntelligence}\n            />\n          ) : null}\n        </div>\n      </div>\n    );\n  };\n\n  const renderList = () => {\n    if (clientsForDisplay.length === 0) {\n      const emptyTitle = hasScopedClients\n        ? \"Nenhum cliente para listar\"\n        : \"Sua carteira não possui clientes\";\n      const emptyDescription = hasScopedClients\n        ? \"Tente ajustar filtros ou busque por outro termo.\"\n        : \"Quando novos clientes forem atribuídos ao seu escopo, eles aparecerão nesta lista.\";\n      return (\n        <div className=\"premium-panel flex h-full min-h-[380px] items-center justify-center rounded-[20px] p-8 text-center\">\n          <div>\n            <p className=\"font-heading text-xl font-semibold text-zinc-900\">\n              {emptyTitle}\n            </p>\n            <p className=\"mt-2 font-body text-sm text-zinc-500\">\n              {emptyDescription}\n            </p>\n            <div className=\"mt-4 flex justify-center gap-2\">\n              <Button\n                variant=\"outline\"\n                className=\"rounded-full\"\n                disabled={!hasActiveViewFilters}\n                onClick={() => {\n                  setFilters({ health: \"all\", staleOnly: false });\n                  setVisiblePhase(\"all\");\n                  setSearchInput(\"\");\n                  setSearchQuery(\"\");\n                }}\n              >\n                Limpar filtros\n              </Button>\n              <Button\n                className=\"rounded-full bg-black text-white hover:bg-zinc-800\"\n                onClick={() => handleCreateActivity()}\n                disabled={!canCreateActivity}\n              >\n                Criar atividade\n              </Button>\n            </div>\n          </div>\n        </div>\n      );\n    }\n\n    return (\n      <div className=\"premium-ambient min-h-0 h-full overflow-y-auto rounded-[22px] border border-zinc-200/75 bg-white/72 p-3 shadow-[var(--shadow-premium-soft)] backdrop-blur-sm md:p-4\">\n        <div className=\"space-y-4\">\n          {visibleColumns.map((columnId) => {\n            const config = columnConfig.find((col) => col.id === columnId)!;\n            const clients = clientsByColumn[columnId];\n            const totalMRR = clients.reduce((acc, client) => acc + client.monthlyRevenue, 0);\n            return (\n              <section key={columnId} className=\"rounded-[18px] border border-zinc-200/80 bg-white p-3 shadow-[0_8px_18px_-14px_rgba(15,23,42,0.35)]\">\n                <div className=\"mb-3 flex items-center justify-between border-b border-zinc-200/70 pb-2\">\n                  <div className=\"flex items-center gap-2\">\n                    <h3 className=\"font-heading text-base font-semibold text-zinc-900\">\n                      {config.label}\n                    </h3>\n                    <Badge className=\"rounded-full bg-zinc-100 px-2 py-0.5 text-xs text-zinc-600\">\n                      {clients.length}\n                    </Badge>\n                  </div>\n                  <p className=\"font-body text-xs text-zinc-500\">\n                    MRR {formatCurrency(totalMRR)}\n                  </p>\n                </div>\n                <div className=\"grid gap-3 lg:grid-cols-2\">\n                  {clients.length > 0 ? (\n                    clients.map((client) => (\n                      <ClientCardPremium\n                        key={`${columnId}-${client.id}`}\n                        client={client}\n                        onOpenClient={() => openDrawer(\"client-card\", { id: client.id })}\n                        onCreateActivity={() => handleCreateActivity(client)}\n                        onFocusClient={() => focusClientInIntelligence(client)}\n                        onCopyMessage={handleCopyText}\n                        feedback={cardFeedback}\n                        canCreateActivity={canCreateActivity}\n                      />\n                    ))\n                  ) : (\n                    <div className=\"rounded-[14px] border border-dashed border-zinc-200 bg-zinc-50 p-4\">\n                      <p className=\"font-body text-sm text-zinc-500\">\n                        Sem clientes nesta fase.\n                      </p>\n                    </div>\n                  )}\n                </div>\n              </section>\n            );\n          })}\n\n          {showRiskColumn ? (\n            <section className=\"rounded-[18px] border border-zinc-200/80 bg-white p-3 shadow-[0_8px_18px_-14px_rgba(15,23,42,0.35)]\">\n              <div className=\"mb-3 flex items-center justify-between border-b border-zinc-200/70 pb-2\">\n                <div className=\"flex items-center gap-2\">\n                  <h3 className=\"font-heading text-base font-semibold text-zinc-900\">Risco</h3>\n                  <Badge className=\"rounded-full bg-red-50 px-2 py-0.5 text-xs text-red-700\">\n                    {riskClients.length}\n                  </Badge>\n                </div>\n                <p className=\"font-body text-xs text-zinc-500\">Clientes prioritários</p>\n              </div>\n              <div className=\"grid gap-3 lg:grid-cols-2\">\n                {riskClients.map((client) => (\n                  <ClientCardPremium\n                    key={`risk-${client.id}`}\n                    client={client}\n                    onOpenClient={() => openDrawer(\"client-card\", { id: client.id })}\n                    onCreateActivity={() => handleCreateActivity(client)}\n                    onFocusClient={() => focusClientInIntelligence(client)}\n                    onCopyMessage={handleCopyText}\n                    feedback={cardFeedback}\n                    customRiskReason={getRiskReason(client)}\n                    canCreateActivity={canCreateActivity}\n                  />\n                ))}\n              </div>\n            </section>\n          ) : null}\n        </div>\n      </div>\n    );\n  };\n\n  if (isLoading || isAuthLoading) {\n    return <ClientsPageSkeleton />;\n  }\n\n  return (\n    <TooltipProvider>\n      <motion.div\n        initial={{ opacity: 0, y: 6 }}\n        animate={{ opacity: 1, y: 0 }}\n        transition={{ duration: 0.18, ease: [0.25, 0.46, 0.45, 0.94] }}\n        className=\"flex h-[calc(100dvh-2rem)] min-h-0 w-full max-w-full flex-col gap-4\"\n      >\n        <motion.div\n          initial={{ opacity: 0, y: 6 }}\n          animate={{ opacity: 1, y: 0 }}\n          transition={{ duration: 0.16, delay: 0.03, ease: \"easeOut\" }}\n          className=\"shrink-0\"\n        >\n          <ModuleCommandHeader\n            title=\"Clientes\"\n            description=\"Funil de sucesso e saúde.\"\n            meta={headerMeta}\n            actions={\n              <div className=\"flex w-full flex-wrap items-center gap-2 xl:justify-end\">\n                <div className=\"inline-flex h-9 items-center rounded-full border border-zinc-200/85 bg-zinc-50/90 p-1\">\n                  <button\n                    type=\"button\"\n                    onClick={() => setView(\"board\")}\n                    className={cn(\n                      \"inline-flex h-7 items-center gap-1 rounded-full px-3 text-xs font-medium transition-colors duration-120\",\n                      view === \"board\"\n                        ? \"bg-white text-zinc-900 shadow-sm\"\n                        : \"text-zinc-500 hover:text-zinc-900\"\n                    )}\n                  >\n                    <LayoutGrid className=\"h-3.5 w-3.5\" />\n                    Board\n                  </button>\n                  <button\n                    type=\"button\"\n                    onClick={() => setView(\"list\")}\n                    className={cn(\n                      \"inline-flex h-7 items-center gap-1 rounded-full px-3 text-xs font-medium transition-colors duration-120\",\n                      view === \"list\"\n                        ? \"bg-white text-zinc-900 shadow-sm\"\n                        : \"text-zinc-500 hover:text-zinc-900\"\n                    )}\n                  >\n                    <List className=\"h-3.5 w-3.5\" />\n                    Lista\n                  </button>\n                </div>\n                <Button\n                  variant=\"outline\"\n                  size=\"sm\"\n                  className={cn(\n                    \"h-9 rounded-full\",\n                    isIntelligenceOpen && \"border-brand/30 bg-brand/5 text-brand\"\n                  )}\n                  onClick={() => setIsIntelligenceOpen((prev) => !prev)}\n                >\n                  <Bot className=\"h-3.5 w-3.5\" />\n                  Intelligence\n                </Button>\n\n                <DropdownMenu>\n                  <DropdownMenuTrigger asChild>\n                    <Button variant=\"outline\" size=\"sm\" className=\"h-9 rounded-full\">\n                      <Plus className=\"h-3.5 w-3.5\" />\n                      Nova ação\n                    </Button>\n                  </DropdownMenuTrigger>\n                  <DropdownMenuContent align=\"end\" className=\"w-56 rounded-[14px]\">\n                    <DropdownMenuItem\n                      onClick={() => handleCreateActivity()}\n                      disabled={!canCreateActivity}\n                    >\n                      <Activity className=\"mr-2 h-4 w-4\" />\n                      Criar atividade\n                    </DropdownMenuItem>\n                    <DropdownMenuSeparator />\n                    <DropdownMenuItem\n                      onClick={() =>\n                        handleIntelligenceCommand(\n                          \"exec-plan\",\n                          \"Plano diário para a carteira de clientes\"\n                        )\n                      }\n                    >\n                      <Sparkles className=\"mr-2 h-4 w-4 text-brand\" />\n                      Intelligence: Plano do dia\n                    </DropdownMenuItem>\n                  </DropdownMenuContent>\n                </DropdownMenu>\n\n              </div>\n            }\n          >\n            <div className=\"space-y-2\">\n              {feedback ? (\n                <InlineFeedback\n                  type={feedback.type}\n                  message={feedback.message}\n                  compact\n                  onClose={() => setFeedback(null)}\n                />\n              ) : null}\n              <div className=\"flex w-full min-w-0 flex-wrap items-center gap-2 lg:justify-end\">\n              <div className=\"relative min-w-[220px] flex-1 lg:max-w-[360px]\">\n                <Search className=\"pointer-events-none absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-zinc-400\" />\n                <Input\n                  ref={searchInputRef}\n                  value={searchInput}\n                  onChange={(event) => setSearchInput(event.target.value)}\n                  placeholder=\"Buscar por empresa ou contato\"\n                  className=\"h-9 rounded-full border-zinc-200 bg-white pl-9 pr-8 text-sm transition-[box-shadow,border-color] duration-140 focus:border-zinc-300 focus:shadow-[0_0_0_3px_rgba(148,163,184,0.15)]\"\n                />\n                {searchInput ? (\n                  <button\n                    type=\"button\"\n                    onClick={() => {\n                      setSearchInput(\"\");\n                      setSearchQuery(\"\");\n                    }}\n                    className=\"absolute right-2 top-1/2 -translate-y-1/2 rounded-full p-1 text-zinc-400 transition-colors hover:text-zinc-600\"\n                  >\n                    <XCircle className=\"h-4 w-4\" />\n                  </button>\n                ) : null}\n              </div>\n\n              <Popover open={isFiltersOpen} onOpenChange={setIsFiltersOpen}>\n                <PopoverTrigger asChild>\n                  <Button variant=\"outline\" size=\"sm\" className=\"h-9 relative rounded-full\">\n                    <Filter className=\"h-3.5 w-3.5\" />\n                    {panelFilterCount > 0 ? (\n                      <>\n                        Filtros\n                        <span className=\"absolute -top-1 -right-1 flex h-4 w-4 items-center justify-center rounded-full bg-brand text-[10px] font-bold text-white shadow-[0_0_0_2px_#fff]\">\n                          {panelFilterCount}\n                        </span>\n                      </>\n                    ) : (\n                      \"Filtros\"\n                    )}\n                  </Button>\n                </PopoverTrigger>\n                <PopoverContent\n                  align=\"end\"\n                  className=\"w-[min(92vw,360px)] rounded-[16px] border-zinc-200 bg-white p-3\"\n                >\n                  <div className=\"space-y-3\">\n                    <div>\n                      <p className=\"mb-2 text-xs font-semibold uppercase tracking-[0.08em] text-zinc-500\">\n                        Health Score\n                      </p>\n                      <div className=\"flex flex-wrap gap-2\">\n                        <FilterOptionButton\n                          label=\"Todos\"\n                          active={filters.health === \"all\"}\n                          onClick={() => setFilters((prev) => ({ ...prev, health: \"all\" }))}\n                        />\n                        <FilterOptionButton\n                          label=\"Saudável\"\n                          active={filters.health === \"good\"}\n                          onClick={() => setFilters((prev) => ({ ...prev, health: \"good\" }))}\n                        />\n                        <FilterOptionButton\n                          label=\"Atenção\"\n                          active={filters.health === \"warning\"}\n                          onClick={() =>\n                            setFilters((prev) => ({ ...prev, health: \"warning\" }))\n                          }\n                        />\n                        <FilterOptionButton\n                          label=\"Crítico\"\n                          active={filters.health === \"critical\"}\n                          onClick={() =>\n                            setFilters((prev) => ({ ...prev, health: \"critical\" }))\n                          }\n                        />\n                      </div>\n                    </div>\n\n                    <button\n                      type=\"button\"\n                      onClick={() =>\n                        setFilters((prev) => ({ ...prev, staleOnly: !prev.staleOnly }))\n                      }\n                      className={cn(\n                        \"flex w-full items-center justify-between rounded-[12px] border px-3 py-2 text-sm transition-colors\",\n                        filters.staleOnly\n                          ? \"border-amber-200 bg-amber-50 text-amber-700\"\n                          : \"border-zinc-200 text-zinc-600 hover:bg-zinc-50\"\n                      )}\n                    >\n                      <span>Exibir apenas inativos (SLA)</span>\n                      {filters.staleOnly ? <Check className=\"h-4 w-4\" /> : null}\n                    </button>\n\n                    <div className=\"flex items-center justify-between border-t border-zinc-200 pt-2\">\n                      <Button\n                        variant=\"ghost\"\n                        size=\"sm\"\n                        className=\"rounded-full\"\n                        onClick={() =>\n                          setFilters({\n                            health: \"all\",\n                            staleOnly: false,\n                          })\n                        }\n                      >\n                        Limpar\n                      </Button>\n                      <Button\n                        size=\"sm\"\n                        className=\"rounded-full bg-zinc-900 text-white hover:bg-zinc-800\"\n                        onClick={() => setIsFiltersOpen(false)}\n                      >\n                        Fechar\n                      </Button>\n                    </div>\n                  </div>\n                </PopoverContent>\n              </Popover>\n            </div>\n            </div>\n          </ModuleCommandHeader>\n        </motion.div>\n\n        <motion.div\n          initial={{ opacity: 0, y: 6 }}\n          animate={{ opacity: 1, y: 0 }}\n          transition={{ duration: 0.16, delay: 0.06, ease: \"easeOut\" }}\n          className=\"flex min-h-0 flex-1 gap-4\"\n        >\n          <div className=\"min-h-0 min-w-0 flex-1\">{view === \"board\" ? renderBoard() : renderList()}</div>\n\n          <aside\n            className={cn(\n              \"hidden xl:block transition-[width,opacity] duration-[220ms] ease-out\",\n              isIntelligenceOpen\n                ? \"w-[360px] opacity-100\"\n                : \"pointer-events-none w-0 opacity-0\"\n            )}\n          >\n            <IntelligenceRail\n              criticalCount={criticalCount}\n              warningCount={phaseScopedClients.filter((client) => client.healthScore === \"warning\").length}\n              healthyCount={healthyCount}\n              prioritizedClients={prioritizedClients}\n              focusedClient={focusedClient}\n              commandResult={commandResult}\n              runningCommand={runningCommand}\n              onRunCommand={handleIntelligenceCommand}\n              onFocusClient={focusClientInIntelligence}\n              onCopyText={handleCopyText}\n              focusedSuggestions={focusedSuggestions}\n            />\n          </aside>\n        </motion.div>\n\n        {!isDesktopXL ? (\n          <>\n            <div\n              onClick={() => setIsIntelligenceOpen(false)}\n              className={cn(\n                \"fixed inset-0 z-40 bg-black/25 transition-opacity duration-200 xl:hidden\",\n                isIntelligenceOpen ? \"opacity-100\" : \"pointer-events-none opacity-0\"\n              )}\n            />\n            <aside\n              className={cn(\n                \"fixed right-0 top-0 z-50 h-full w-[min(92vw,360px)] p-2 transition-transform duration-[220ms] ease-out xl:hidden\",\n                isIntelligenceOpen ? \"translate-x-0\" : \"translate-x-full\"\n              )}\n            >\n              <IntelligenceRail\n                criticalCount={criticalCount}\n                warningCount={phaseScopedClients.filter((client) => client.healthScore === \"warning\").length}\n                healthyCount={healthyCount}\n                prioritizedClients={prioritizedClients}\n                focusedClient={focusedClient}\n                commandResult={commandResult}\n                runningCommand={runningCommand}\n                onRunCommand={handleIntelligenceCommand}\n                onFocusClient={focusClientInIntelligence}\n                onCopyText={handleCopyText}\n                focusedSuggestions={focusedSuggestions}\n                onClose={() => setIsIntelligenceOpen(false)}\n              />\n            </aside>\n          </>\n        ) : null}\n      </motion.div>\n    </TooltipProvider>\n  );\n}\n\nexport default function ClientsPage() {\n  return (\n    <Suspense fallback={<ClientsPageSkeleton />}>\n      <ClientsPageContent />\n    </Suspense>\n  );\n}\n\nfunction FilterOptionButton({\n  label,\n  active,\n  onClick,\n}: {\n  label: string;\n  active: boolean;\n  onClick: () => void;\n}) {\n  return (\n    <button\n      type=\"button\"\n      onClick={onClick}\n      className={cn(\n        \"rounded-full border px-3 py-1.5 text-xs font-medium transition-colors duration-120\",\n        active\n          ? \"border-zinc-900 bg-zinc-900 text-white\"\n          : \"border-zinc-200 bg-white text-zinc-600 hover:border-zinc-300 hover:text-zinc-900\"\n      )}\n    >\n      {label}\n    </button>\n  );\n}\n\nfunction SuccessBoardColumn({\n  title,\n  count,\n  mrrTotal,\n  insight,\n  clients,\n  widthClass,\n  onOpenClient,\n  onCreateActivity,\n  onFocusClient,\n  onCopyMessage,\n  cardFeedback,\n  canExport,\n  canCreateActivity,\n  onExport,\n  onSuggestPlan,\n  onViewAll,\n  onViewFilters,\n}: {\n  title: string;\n  count: number;\n  mrrTotal: number;\n  insight: string;\n  clients: Client[];\n  widthClass: string;\n  onOpenClient: (client: Client) => void;\n  onCreateActivity: (client?: Pick<Client, \"id\" | \"companyName\">) => void;\n  onFocusClient: (client: Client) => void;\n  onCopyMessage: (text: string, clientId: string) => Promise<void>;\n  cardFeedback: CardFeedbackState | null;\n  canExport: boolean;\n  canCreateActivity: boolean;\n  onExport: () => void;\n  onSuggestPlan: () => void;\n  onViewAll: () => void;\n  onViewFilters: () => void;\n}) {\n  const [hasScrolled, setHasScrolled] = useState(false);\n\n  return (\n    <section\n      className={cn(\n        \"flex h-full min-h-0 shrink-0 snap-start flex-col overflow-hidden rounded-[20px] border border-zinc-200/70 bg-white/88 shadow-[0_18px_32px_-24px_rgba(15,23,42,0.5)]\",\n        widthClass\n      )}\n    >\n      <div\n        className={cn(\n          \"sticky top-0 z-10 border-b border-zinc-200/80 bg-white/95 px-3.5 py-3 transition-shadow duration-120\",\n          hasScrolled && \"shadow-[0_8px_16px_-14px_rgba(15,23,42,0.5)]\"\n        )}\n      >\n        <div className=\"flex items-start justify-between gap-2\">\n          <div>\n            <div className=\"flex items-center gap-2\">\n              <h3 className=\"font-heading text-[15px] font-semibold text-zinc-900\">{title}</h3>\n              <Badge className=\"rounded-full bg-zinc-100 px-2 py-0.5 text-xs text-zinc-600\">\n                {count}\n              </Badge>\n            </div>\n            <p className=\"mt-1 text-xs text-zinc-500\">MRR {formatCurrency(mrrTotal)}</p>\n          </div>\n\n          <DropdownMenu>\n            <DropdownMenuTrigger asChild>\n              <Button variant=\"ghost\" size=\"icon\" className=\"h-8 w-8 rounded-full text-zinc-500\">\n                <MoreHorizontal className=\"h-4 w-4\" />\n              </Button>\n            </DropdownMenuTrigger>\n            <DropdownMenuContent align=\"end\" className=\"w-52 rounded-[14px]\">\n              <DropdownMenuItem onClick={onViewAll}>Ver todos</DropdownMenuItem>\n              {canExport ? (\n                <DropdownMenuItem onClick={onExport}>Exportar lista</DropdownMenuItem>\n              ) : null}\n              <DropdownMenuSeparator />\n              <DropdownMenuItem onClick={onSuggestPlan}>\n                <Sparkles className=\"mr-2 h-4 w-4 text-brand\" />\n                Intelligence: Sugerir plano\n              </DropdownMenuItem>\n            </DropdownMenuContent>\n          </DropdownMenu>\n        </div>\n        <p className=\"mt-2 text-xs text-zinc-500\">{insight}</p>\n      </div>\n\n      <div\n        onScroll={(event) => setHasScrolled(event.currentTarget.scrollTop > 8)}\n        className=\"min-h-0 flex-1 overflow-y-auto px-3 py-3\"\n      >\n        {clients.length === 0 ? (\n          <div className=\"rounded-[14px] border border-dashed border-zinc-200 bg-zinc-50/70 p-3\">\n            <p className=\"text-sm font-medium text-zinc-700\">Sem clientes nesta fase</p>\n            <p className=\"mt-1 text-xs text-zinc-500\">\n              Revise os filtros ativos ou crie uma atividade para reengajar essa fase.\n            </p>\n            <div className=\"mt-3 flex gap-2\">\n              <Button\n                size=\"sm\"\n                className=\"h-8 rounded-full bg-black px-3 text-xs text-white hover:bg-zinc-800\"\n                onClick={() => onCreateActivity()}\n                disabled={!canCreateActivity}\n              >\n                Criar atividade\n              </Button>\n              <Button\n                variant=\"outline\"\n                size=\"sm\"\n                className=\"h-8 rounded-full px-3 text-xs\"\n                onClick={onViewFilters}\n              >\n                Ver filtros ativos\n              </Button>\n            </div>\n          </div>\n        ) : (\n          <div className=\"space-y-3\">\n            {clients.map((client) => (\n              <ClientCardPremium\n                key={client.id}\n                client={client}\n                onOpenClient={() => onOpenClient(client)}\n                onCreateActivity={() => onCreateActivity(client)}\n                onFocusClient={() => onFocusClient(client)}\n                onCopyMessage={onCopyMessage}\n                feedback={cardFeedback}\n                canCreateActivity={canCreateActivity}\n                customRiskReason={isRiskClient(client) ? getRiskReason(client) : undefined}\n              />\n            ))}\n          </div>\n        )}\n      </div>\n    </section>\n  );\n}\n\nfunction ClientCardPremium({\n  client,\n  onOpenClient,\n  onCreateActivity,\n  onFocusClient,\n  onCopyMessage,\n  feedback,\n  canCreateActivity,\n  customRiskReason,\n}: {\n  client: Client;\n  onOpenClient: () => void;\n  onCreateActivity: () => void;\n  onFocusClient: () => void;\n  onCopyMessage: (text: string, clientId: string) => Promise<void>;\n  feedback: CardFeedbackState | null;\n  canCreateActivity: boolean;\n  customRiskReason?: string;\n}) {\n  const health = healthConfig[client.healthScore];\n  const suggestions = getIntelligenceSuggestions(client);\n  const daysWithoutInteraction = getDaysSinceInteraction(client.lastInteraction);\n\n  return (\n    <Card className=\"premium-lift relative overflow-hidden rounded-[16px] border-zinc-200/85 bg-white shadow-[0_10px_20px_-18px_rgba(15,23,42,0.6)]\">\n      <CardContent className=\"flex h-[212px] flex-col p-3.5\">\n        <div className=\"flex items-start justify-between gap-2\">\n          <div className=\"min-w-0\">\n            <button\n              type=\"button\"\n              onClick={onOpenClient}\n              title={client.companyName}\n              className=\"block max-w-full truncate text-left font-heading text-[17px] font-semibold leading-tight text-zinc-900 hover:text-brand\"\n            >\n              {client.companyName}\n            </button>\n            <p title={client.contactName} className=\"truncate text-sm text-zinc-500\">\n              {client.contactName}\n            </p>\n          </div>\n\n          <DropdownMenu>\n            <DropdownMenuTrigger asChild>\n              <Button variant=\"ghost\" size=\"icon\" className=\"h-7 w-7 rounded-full text-zinc-500\">\n                <MoreHorizontal className=\"h-4 w-4\" />\n              </Button>\n            </DropdownMenuTrigger>\n            <DropdownMenuContent align=\"end\" className=\"w-44 rounded-[14px]\">\n              <DropdownMenuItem onClick={onOpenClient}>Ver cliente</DropdownMenuItem>\n              <DropdownMenuItem onClick={onCreateActivity} disabled={!canCreateActivity}>\n                Criar atividade\n              </DropdownMenuItem>\n              <DropdownMenuItem onClick={onFocusClient}>\n                Atualizar insights\n              </DropdownMenuItem>\n            </DropdownMenuContent>\n          </DropdownMenu>\n        </div>\n\n        <div className=\"mt-3 flex items-center justify-between\">\n          <p className=\"text-[28px] font-semibold leading-none text-zinc-950\">\n            {formatMRR(client.monthlyRevenue)}\n          </p>\n          <Tooltip>\n            <TooltipTrigger asChild>\n              <span\n                className={cn(\n                  \"inline-flex items-center gap-1 rounded-full border px-2.5 py-1 text-xs font-medium\",\n                  health.badgeClass\n                )}\n              >\n                {health.icon}\n                {health.label}\n              </span>\n            </TooltipTrigger>\n            <TooltipContent side=\"top\" className=\"max-w-[220px] bg-zinc-900 text-zinc-50\">\n              {health.tooltip}\n            </TooltipContent>\n          </Tooltip>\n        </div>\n\n        <div className=\"mt-2 flex items-center justify-between border-t border-zinc-100 pt-2\">\n          <div className=\"flex min-w-0 items-center gap-2\">\n            <Avatar size=\"sm\">\n              <AvatarFallback className=\"bg-zinc-100 text-zinc-600\">\n                {getInitials(client.responsibleName)}\n              </AvatarFallback>\n            </Avatar>\n            <span className=\"truncate text-xs text-zinc-600\">{client.responsibleName}</span>\n          </div>\n          <span className=\"inline-flex items-center gap-1 text-xs text-zinc-500\">\n            {daysWithoutInteraction > 30 ? (\n              <span className=\"h-1.5 w-1.5 rounded-full bg-red-500\" />\n            ) : daysWithoutInteraction > 14 ? (\n              <span className=\"h-1.5 w-1.5 rounded-full bg-amber-500\" />\n            ) : null}\n            <Clock className=\"h-3 w-3\" />\n            {getRelativeDate(client.lastInteraction)}\n          </span>\n        </div>\n\n        <div className=\"mt-3 flex items-center gap-2\">\n          <Button\n            variant=\"outline\"\n            size=\"sm\"\n            className=\"h-8 rounded-full px-2.5 text-xs\"\n            onClick={onOpenClient}\n          >\n            Ver cliente\n          </Button>\n          <Button\n            variant=\"outline\"\n            size=\"sm\"\n            className=\"h-8 rounded-full px-2.5 text-xs\"\n            onClick={onCreateActivity}\n            disabled={!canCreateActivity}\n          >\n            Criar atividade\n          </Button>\n          <Popover>\n            <PopoverTrigger asChild>\n              <Button\n                variant=\"outline\"\n                size=\"sm\"\n                className=\"h-8 rounded-full px-2.5 text-xs\"\n                onClick={onFocusClient}\n              >\n                <Sparkles className=\"mr-1 h-3.5 w-3.5\" />\n                Mensagem\n              </Button>\n            </PopoverTrigger>\n            <PopoverContent align=\"end\" className=\"w-[320px] rounded-[14px] border-zinc-200 bg-white p-3\">\n              <p className=\"text-xs font-semibold uppercase tracking-[0.08em] text-zinc-500\">\n                Menux Intelligence\n              </p>\n              <div className=\"mt-2 space-y-2\">\n                {suggestions.messages.map((message, index) => (\n                  <div key={`${client.id}-${index}`} className=\"rounded-[12px] border border-zinc-200 bg-zinc-50 p-2.5\">\n                    <p className=\"text-xs text-zinc-700\">{message}</p>\n                    <Button\n                      variant=\"outline\"\n                      size=\"sm\"\n                      className=\"mt-2 h-7 rounded-full px-2.5 text-[11px]\"\n                      onClick={() => void onCopyMessage(message, client.id)}\n                    >\n                      <Copy className=\"mr-1 h-3 w-3\" />\n                      Copiar\n                    </Button>\n                  </div>\n                ))}\n              </div>\n              <div className=\"mt-2 rounded-[12px] border border-zinc-200 bg-white p-2.5\">\n                <p className=\"text-xs font-medium text-zinc-700\">\n                  Próximo passo: {suggestions.nextStep}\n                </p>\n                <p className=\"mt-1 text-xs text-zinc-500\">\n                  Risco se ignorar: {customRiskReason ?? suggestions.risk}\n                </p>\n              </div>\n            </PopoverContent>\n          </Popover>\n        </div>\n\n        {feedback?.clientId === client.id ? (\n          <span\n            className={cn(\n              \"absolute right-3 top-3 rounded-full px-2 py-0.5 text-[10px] font-semibold\",\n              feedback.type === \"success\"\n                ? \"bg-emerald-100 text-emerald-700\"\n                : \"bg-red-100 text-red-700\"\n            )}\n          >\n            {feedback.message}\n          </span>\n        ) : null}\n      </CardContent>\n    </Card>\n  );\n}\n\nfunction BoardInsightsColumn({\n  widthClass,\n  prioritizedClients,\n  onFocusClient,\n}: {\n  widthClass: string;\n  prioritizedClients: Client[];\n  onFocusClient: (client: Client) => void;\n}) {\n  return (\n    <section\n      className={cn(\n        \"flex h-full min-h-0 shrink-0 snap-start flex-col overflow-hidden rounded-[20px] border border-zinc-200/80 bg-zinc-50/92\",\n        widthClass\n      )}\n    >\n      <div className=\"border-b border-zinc-200/75 px-3.5 py-3\">\n        <h3 className=\"font-heading text-[15px] font-semibold text-zinc-900\">Insights</h3>\n        <p className=\"mt-1 text-xs text-zinc-500\">\n          Recomendações rápidas do Menux Intelligence para ocupar o espaço útil.\n        </p>\n      </div>\n      <div className=\"min-h-0 flex-1 space-y-2 overflow-y-auto px-3 py-3\">\n        {prioritizedClients.length > 0 ? (\n          prioritizedClients.map((client) => (\n            <button\n              key={client.id}\n              onClick={() => onFocusClient(client)}\n              className=\"w-full rounded-[12px] border border-zinc-200 bg-white p-2.5 text-left transition-colors hover:bg-zinc-50\"\n            >\n              <p className=\"truncate text-sm font-medium text-zinc-900\">{client.companyName}</p>\n              <p className=\"mt-1 text-xs text-zinc-500\">{getRiskReason(client)}</p>\n            </button>\n          ))\n        ) : (\n          <div className=\"rounded-[12px] border border-dashed border-zinc-200 bg-white p-3 text-sm text-zinc-500\">\n            Sem recomendações de risco no momento.\n          </div>\n        )}\n      </div>\n    </section>\n  );\n}\n\nfunction IntelligenceRail({\n  criticalCount,\n  warningCount,\n  healthyCount,\n  prioritizedClients,\n  focusedClient,\n  focusedSuggestions,\n  runningCommand,\n  commandResult,\n  onRunCommand,\n  onFocusClient,\n  onCopyText,\n  onClose,\n}: {\n  criticalCount: number;\n  warningCount: number;\n  healthyCount: number;\n  prioritizedClients: Client[];\n  focusedClient: Client | null;\n  focusedSuggestions: { messages: string[]; nextStep: string; risk: string } | null;\n  runningCommand: string | null;\n  commandResult: string | null;\n  onRunCommand: (commandId: string, label: string) => void;\n  onFocusClient: (client: Client) => void;\n  onCopyText: (text: string) => Promise<void>;\n  onClose?: () => void;\n}) {\n  return (\n    <div className=\"flex h-full min-h-0 flex-col overflow-hidden rounded-[20px] border border-slate-700/60 bg-[linear-gradient(145deg,#0b1220_0%,#0d1a33_56%,#15345e_100%)] text-slate-100 shadow-[0_34px_52px_-36px_rgba(15,23,42,0.9)]\">\n      <div className=\"border-b border-white/10 px-4 py-3\">\n        <div className=\"flex items-start justify-between gap-2\">\n          <div>\n            <h3 className=\"font-heading text-lg font-semibold\">Menux Intelligence</h3>\n            <p className=\"mt-0.5 text-xs text-cyan-100/80\">Online · camada de execução ativa</p>\n          </div>\n          {onClose ? (\n            <Button\n              variant=\"ghost\"\n              size=\"icon\"\n              className=\"h-8 w-8 rounded-full text-slate-300 hover:bg-white/10 hover:text-white\"\n              onClick={onClose}\n            >\n              <ChevronRight className=\"h-4 w-4\" />\n            </Button>\n          ) : null}\n        </div>\n        <Button\n          className=\"mt-3 h-8 w-full rounded-full border border-white/15 bg-white/10 text-xs text-slate-100 hover:bg-white/15\"\n          onClick={() => onRunCommand(\"day-plan\", \"Plano do dia\")}\n        >\n          <Bot className=\"mr-1.5 h-3.5 w-3.5\" />\n          Gerar plano do dia\n        </Button>\n      </div>\n\n      <div className=\"min-h-0 flex-1 space-y-3 overflow-y-auto p-4\">\n        <section className=\"rounded-[14px] border border-white/10 bg-white/5 p-3\">\n          <p className=\"text-xs font-semibold uppercase tracking-[0.08em] text-slate-300\">\n            Diagnóstico da saúde\n          </p>\n          <div className=\"mt-2 grid grid-cols-3 gap-2\">\n            <div className=\"rounded-[10px] border border-red-300/25 bg-red-400/10 p-2\">\n              <p className=\"text-[11px] text-red-100/90\">Críticos</p>\n              <p className=\"text-lg font-semibold text-red-100\">{criticalCount}</p>\n            </div>\n            <div className=\"rounded-[10px] border border-amber-300/25 bg-amber-400/10 p-2\">\n              <p className=\"text-[11px] text-amber-100/90\">Em risco</p>\n              <p className=\"text-lg font-semibold text-amber-100\">{warningCount}</p>\n            </div>\n            <div className=\"rounded-[10px] border border-emerald-300/25 bg-emerald-400/10 p-2\">\n              <p className=\"text-[11px] text-emerald-100/90\">Saudáveis</p>\n              <p className=\"text-lg font-semibold text-emerald-100\">{healthyCount}</p>\n            </div>\n          </div>\n        </section>\n\n        <section className=\"rounded-[14px] border border-white/10 bg-white/5 p-3\">\n          <p className=\"text-xs font-semibold uppercase tracking-[0.08em] text-slate-300\">\n            Ações rápidas\n          </p>\n          <div className=\"mt-2 grid gap-2 sm:grid-cols-2\">\n            {intelligenceCommands.map((command) => (\n              <button\n                key={command.id}\n                onClick={() => onRunCommand(command.id, command.label)}\n                disabled={runningCommand !== null}\n                className={cn(\n                  \"flex min-h-[36px] items-center gap-1.5 rounded-[10px] border px-2.5 py-2 text-left text-xs transition-colors duration-120\",\n                  \"border-white/15 bg-white/5 text-slate-100 hover:bg-white/10 disabled:cursor-not-allowed disabled:opacity-65\"\n                )}\n              >\n                {runningCommand === command.id ? (\n                  <span className=\"h-3 w-3 animate-spin rounded-full border border-cyan-200 border-t-transparent\" />\n                ) : (\n                  command.icon\n                )}\n                <span>{command.label}</span>\n              </button>\n            ))}\n          </div>\n          {commandResult ? (\n            <p className=\"mt-2 rounded-[10px] border border-cyan-300/30 bg-cyan-500/10 px-2.5 py-2 text-xs text-cyan-100\">\n              {commandResult}\n            </p>\n          ) : null}\n        </section>\n\n        <section className=\"rounded-[14px] border border-white/10 bg-white/5 p-3\">\n          <p className=\"text-xs font-semibold uppercase tracking-[0.08em] text-slate-300\">\n            Clientes prioritários\n          </p>\n          <div className=\"mt-2 space-y-2\">\n            {prioritizedClients.length > 0 ? (\n              prioritizedClients.map((client) => (\n                <button\n                  key={client.id}\n                  onClick={() => onFocusClient(client)}\n                  className=\"w-full rounded-[10px] border border-white/10 bg-white/5 px-2.5 py-2 text-left transition-colors hover:bg-white/10\"\n                >\n                  <p className=\"truncate text-sm font-medium text-slate-50\">{client.companyName}</p>\n                  <p className=\"mt-0.5 text-xs text-slate-300\">{getRiskReason(client)}</p>\n                </button>\n              ))\n            ) : (\n              <p className=\"rounded-[10px] border border-white/10 bg-white/5 px-2.5 py-2 text-xs text-slate-300\">\n                Sem clientes críticos no momento.\n              </p>\n            )}\n          </div>\n        </section>\n\n        <section className=\"rounded-[14px] border border-white/10 bg-white/5 p-3\">\n          <p className=\"text-xs font-semibold uppercase tracking-[0.08em] text-slate-300\">\n            Mensagens prontas\n          </p>\n          {focusedClient && focusedSuggestions ? (\n            <div className=\"mt-2 space-y-2\">\n              <p className=\"text-xs text-slate-300\">\n                Cliente selecionado:{\" \"}\n                <span className=\"font-medium text-slate-100\">{focusedClient.companyName}</span>\n              </p>\n              {focusedSuggestions.messages.slice(0, 2).map((message, index) => (\n                <div key={`${focusedClient.id}-suggestion-${index}`} className=\"rounded-[10px] border border-white/10 bg-white/5 p-2.5\">\n                  <p className=\"text-xs text-slate-200\">{message}</p>\n                  <Button\n                    size=\"sm\"\n                    variant=\"outline\"\n                    className=\"mt-2 h-7 rounded-full border-white/20 bg-white/5 px-2.5 text-[11px] text-slate-100 hover:bg-white/10\"\n                    onClick={() => void onCopyText(message)}\n                  >\n                    <Copy className=\"mr-1 h-3 w-3\" />\n                    Copiar\n                  </Button>\n                </div>\n              ))}\n            </div>\n          ) : (\n            <p className=\"mt-2 rounded-[10px] border border-white/10 bg-white/5 px-2.5 py-2 text-xs text-slate-300\">\n              Selecione um cliente para gerar mensagens.\n            </p>\n          )}\n        </section>\n      </div>\n    </div>\n  );\n}\n\nfunction ClientsPageSkeleton() {\n  return (\n    <div className=\"flex h-[calc(100dvh-2rem)] min-h-0 w-full max-w-full flex-col gap-4\">\n      <div className=\"shrink-0 rounded-[20px] border border-zinc-200/80 bg-zinc-50/85 px-5 py-4\">\n        <Skeleton className=\"h-8 w-36\" />\n        <Skeleton className=\"mt-2 h-4 w-56\" />\n        <div className=\"mt-4 flex flex-wrap gap-2\">\n          <Skeleton className=\"h-9 w-32 rounded-full\" />\n          <Skeleton className=\"h-9 w-32 rounded-full\" />\n          <Skeleton className=\"h-9 w-32 rounded-full\" />\n          <Skeleton className=\"h-9 w-64 rounded-full\" />\n        </div>\n      </div>\n      <div className=\"flex min-h-0 flex-1 gap-4\">\n        <div className=\"min-h-0 min-w-0 flex-1 rounded-[20px] border border-zinc-200/80 bg-white/75 p-3\">\n          <div className=\"flex h-full gap-3 overflow-hidden\">\n            {Array.from({ length: 3 }).map((_, index) => (\n              <div key={index} className=\"w-[320px] shrink-0 rounded-[18px] border border-zinc-200 bg-zinc-50/70 p-3\">\n                <Skeleton className=\"h-6 w-32\" />\n                <Skeleton className=\"mt-2 h-4 w-40\" />\n                <div className=\"mt-3 space-y-2\">\n                  {Array.from({ length: 3 }).map((__, cardIndex) => (\n                    <Skeleton key={cardIndex} className=\"h-[172px] rounded-[16px]\" />\n                  ))}\n                </div>\n              </div>\n            ))}\n          </div>\n        </div>\n        <div className=\"hidden w-[360px] xl:block\">\n          <div className=\"h-full rounded-[20px] border border-zinc-200/80 bg-zinc-50/75 p-3\">\n            <Skeleton className=\"h-8 w-40\" />\n            <Skeleton className=\"mt-3 h-24 rounded-[14px]\" />\n            <Skeleton className=\"mt-3 h-24 rounded-[14px]\" />\n            <Skeleton className=\"mt-3 h-24 rounded-[14px]\" />\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":"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"}
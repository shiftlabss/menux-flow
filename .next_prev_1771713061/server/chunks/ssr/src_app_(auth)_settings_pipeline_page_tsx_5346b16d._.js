module.exports=[91094,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(50944),e=a.i(15618),f=a.i(70106);let g=(0,f.default)("ellipsis-vertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]),h=(0,f.default)("grip-vertical",[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]]);var i=a.i(81560);let j=(0,f.default)("square-pen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);var k=a.i(73570),l=a.i(99570),m=a.i(22024),n=a.i(91119),o=a.i(86304),p=a.i(55376),q=a.i(35732),r=a.i(86192),s=a.i(74589),t=a.i(95245),u=a.i(59501),v=a.i(56757),w=a.i(14574),x=a.i(66718),y=a.i(29246),z=a.i(70430);let A=v.z.object({name:v.z.string().min(1,"Nome é obrigatório").max(50,"Nome deve ter no máximo 50 caracteres"),description:v.z.string().max(200,"Descrição deve ter no máximo 200 caracteres").optional()});function B({open:a,onOpenChange:d,pipeline:e}){let{pipelines:f,addPipeline:g,updatePipeline:h}=(0,s.usePipelineStore)(),i=!!e,[j,k]=(0,c.useState)(null),[n,o]=(0,c.useState)(null),{register:p,handleSubmit:q,reset:r,formState:{errors:v,isSubmitting:B}}=(0,t.useForm)({resolver:(0,u.zodResolver)(A),defaultValues:{name:e?.name||"",description:e?.description||""}});(0,c.useEffect)(()=>{(0,c.startTransition)(()=>{k(null),o(null)}),e?r({name:e.name,description:e.description||""}):r({name:"",description:""})},[e,r]);let C=()=>{B||(r(),k(null),o(null),d(!1))};return(0,b.jsx)(w.Dialog,{open:a,onOpenChange:C,children:(0,b.jsx)(w.DialogContent,{className:"rounded-[20px] sm:max-w-[500px]",children:(0,b.jsxs)("form",{onSubmit:q(a=>{(k(null),o(null),f.some(b=>b.name.toLowerCase()===a.name.toLowerCase()&&b.id!==e?.id))?k("Já existe um funil com este nome. Escolha outro nome."):e?.isDefault&&a.name!==e.name?k('O funil padrão "Leads" não pode ter seu nome alterado.'):(i&&e?(h(e.id,{name:a.name,description:a.description||""}),o({type:"success",message:`O funil "${a.name}" foi atualizado com sucesso.`})):(g({name:a.name,description:a.description||"",isDefault:!1,cardCount:0,stages:[]}),o({type:"success",message:`O funil "${a.name}" foi criado. Agora adicione etapas a ele.`})),setTimeout(()=>d(!1),1200))}),children:[(0,b.jsxs)(w.DialogHeader,{children:[(0,b.jsx)(w.DialogTitle,{className:"font-heading text-xl",children:i?"Editar Funil":"Novo Funil"}),(0,b.jsx)(w.DialogDescription,{className:"font-body text-sm",children:i?"Altere o nome e descrição do funil.":"Crie um novo funil para organizar seu pipeline de vendas."})]}),n&&(0,b.jsx)("div",{className:"pt-4 pb-0",children:(0,b.jsx)(m.InlineFeedback,{type:n.type,message:n.message,compact:!0,onClose:()=>o(null)})}),(0,b.jsxs)("div",{className:"space-y-4 py-6",children:[(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsxs)(z.Label,{htmlFor:"name",className:"font-body text-sm font-medium",children:["Nome do Funil ",(0,b.jsx)("span",{className:"text-status-danger",children:"*"})]}),(0,b.jsx)(x.Input,{id:"name",...p("name",{onChange:()=>k(null)}),placeholder:"Ex: Leads, Indicação, Parcerias...",disabled:e?.isDefault,className:"rounded-[15px]",maxLength:50}),v.name&&(0,b.jsx)("p",{className:"font-body text-xs text-status-danger",children:v.name.message}),j&&(0,b.jsx)("p",{className:"font-body text-xs text-status-danger",children:j}),e?.isDefault&&(0,b.jsx)("p",{className:"font-body text-xs text-zinc-500",children:'O funil padrão "Leads" não pode ter seu nome alterado.'}),(0,b.jsx)("p",{className:"font-body text-xs text-zinc-400",children:"Máximo de 50 caracteres"})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(z.Label,{htmlFor:"description",className:"font-body text-sm font-medium",children:"Descrição (opcional)"}),(0,b.jsx)(y.Textarea,{id:"description",...p("description"),placeholder:"Descreva o propósito deste funil...",className:"rounded-[15px] resize-none",rows:3,maxLength:200}),v.description&&(0,b.jsx)("p",{className:"font-body text-xs text-status-danger",children:v.description.message}),(0,b.jsx)("p",{className:"font-body text-xs text-zinc-400",children:"Máximo de 200 caracteres"})]})]}),(0,b.jsxs)(w.DialogFooter,{children:[(0,b.jsx)(l.Button,{type:"button",variant:"outline",onClick:C,disabled:B,className:"rounded-full",children:"Cancelar"}),(0,b.jsx)(l.Button,{type:"submit",disabled:B,className:"rounded-full bg-black text-white hover:bg-zinc-800",children:B?"Salvando...":i?"Salvar Alterações":"Criar Funil"})]})]})})})}let C=(0,f.default)("pen",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]]);var D=a.i(33508),E=a.i(33441);a.s([],78807),a.i(78807);var F=a.i(702);let G=(0,c.createContext)(null);var H=a.i(46271),I=a.i(74290),J=a.i(55761),K=a.i(32562);let L=(0,c.forwardRef)(function({children:a,as:d="ul",axis:e="y",onReorder:f,values:g,...h},i){let j=(0,I.useConstant)(()=>H.motion[d]),k=[],l=(0,c.useRef)(!1),m=(0,c.useRef)(null);(0,F.invariant)(!!g,"Reorder.Group must be provided a values prop","reorder-values"),(0,c.useEffect)(()=>{l.current=!1});let n={overflowAnchor:"none",...h.style};return(0,b.jsx)(j,{...h,style:n,ref:a=>{m.current=a,"function"==typeof i?i(a):i&&(i.current=a)},ignoreStrict:!0,children:(0,b.jsx)(G.Provider,{value:{axis:e,groupRef:m,registerItem:(a,b)=>{let c=k.findIndex(b=>a===b.value);-1!==c?k[c].layout=b[e]:k.push({value:a,layout:b[e]}),k.sort(N)},updateOrder:(a,b,c)=>{if(l.current)return;let d=function(a,b,c,d){if(!d)return a;let e=a.findIndex(a=>a.value===b);if(-1===e)return a;let f=d>0?1:-1,g=a[e+f];if(!g)return a;let h=a[e],i=g.layout,j=(0,J.mixNumber)(i.min,i.max,.5);return 1===f&&h.layout.max+c>j||-1===f&&h.layout.min+c<j?(0,K.moveItem)(a,e,e+f):a}(k,a,b,c);k!==d&&(l.current=!0,f(d.map(M).filter(a=>-1!==g.indexOf(a))))}},children:a})})});function M(a){return a.value}function N(a,b){return a.layout.min-b.layout.min}var O=a.i(98852),P=a.i(21520),Q=a.i(68203),R=a.i(22647),S=a.i(1703);function T(a,b){let c=(0,P.useMotionValue)(b()),d=()=>c.set(b());return d(),(0,S.useIsomorphicLayoutEffect)(()=>{let b=()=>R.frame.preRender(d,!1,!0),c=a.map(a=>a.on("change",b));return()=>{c.forEach(a=>a()),(0,R.cancelFrame)(d)}}),c}var U=a.i(36083);function V(a,b){let c=(0,I.useConstant)(()=>[]);return T(a,()=>{c.length=0;let d=a.length;for(let b=0;b<d;b++)c[b]=a[b].get();return b(c)})}let W=new Set(["auto","scroll"]),X=new WeakMap,Y=new WeakMap,Z=null;function $(a,b){let c=a?.parentElement;for(;c;){if(function(a,b){let c=getComputedStyle(a),d="x"===b?c.overflowX:c.overflowY,e=a===document.body||a===document.documentElement;return W.has(d)||e}(c,b))return c;c=c.parentElement}return null}function _(a,b=0){return(0,O.isMotionValue)(a)?a:(0,P.useMotionValue)(b)}let aa=(0,c.forwardRef)(function({children:a,style:d={},value:e,as:f="li",onDrag:g,onDragEnd:h,layout:i=!0,...j},k){let l=(0,I.useConstant)(()=>H.motion[f]),m=(0,c.useContext)(G),n={x:_(d.x),y:_(d.y)},o=function a(b,c,d,e){if("function"==typeof b){let a;return U.collectMotionValues.current=[],b(),a=T(U.collectMotionValues.current,b),U.collectMotionValues.current=void 0,a}if(void 0!==d&&!Array.isArray(d)&&"function"!=typeof c){var f=b,g=c,h=d,i=e;let j=(0,I.useConstant)(()=>Object.keys(h)),k=(0,I.useConstant)(()=>({}));for(let b of j)k[b]=a(f,g,h[b],i);return k}let j="function"==typeof c?c:function(...a){let b=!Array.isArray(a[0]),c=b?0:-1,d=a[0+c],e=a[1+c],f=a[2+c],g=a[3+c],h=(0,Q.interpolate)(e,f,g);return b?h(d):h}(c,d,e),k=Array.isArray(b)?V(b,j):V([b],([a])=>j(a)),l=Array.isArray(b)?void 0:b.accelerate;return l&&!l.isTransformed&&"function"!=typeof c&&Array.isArray(d)&&e?.clamp!==!1&&(k.accelerate={...l,times:c,keyframes:d,isTransformed:!0,...e?.ease?{ease:e.ease}:{}}),k}([n.x,n.y],([a,b])=>a||b?1:"unset");(0,F.invariant)(!!m,"Reorder.Item must be a child of Reorder.Group","reorder-item-child");let{axis:p,registerItem:q,updateOrder:r,groupRef:s}=m;return(0,b.jsx)(l,{drag:p,...j,dragSnapToOrigin:!0,style:{...d,x:n.x,y:n.y,zIndex:o},layout:i,onDrag:(a,b)=>{let{velocity:c,point:d}=b;r(e,n[p].get(),c[p]),function(a,b,c,d){if(!a)return;Z=a;let e=$(a,c);if(!e)return;let{amount:f,edge:g}=function(a,b,c){let d=b.getBoundingClientRect(),e="x"===c?Math.max(0,d.left):Math.max(0,d.top),f="x"===c?Math.min(window.innerWidth,d.right):Math.min(window.innerHeight,d.bottom),g=a-e,h=f-a;if(g<50){let a=1-g/50;return{amount:-25*a*a,edge:"start"}}if(h<50){let a=1-h/50;return{amount:25*a*a,edge:"end"}}return{amount:0,edge:null}}(b-("x"===c?window.scrollX:window.scrollY),e,c);if(null===g){Y.delete(e),X.delete(e);return}let h=Y.get(e),i=e===document.body||e===document.documentElement;if(h!==g){if(!("start"===g&&d<0||"end"===g&&d>0))return;Y.set(e,g);let a="x"===c?e.scrollWidth-(i?window.innerWidth:e.clientWidth):e.scrollHeight-(i?window.innerHeight:e.clientHeight);X.set(e,a)}if(f>0){let a=X.get(e);if(("x"===c?i?window.scrollX:e.scrollLeft:i?window.scrollY:e.scrollTop)>=a)return}"x"===c?i?window.scrollBy({left:f}):e.scrollLeft+=f:i?window.scrollBy({top:f}):e.scrollTop+=f}(s.current,d[p],p,c[p]),g&&g(a,b)},onDragEnd:(a,b)=>{if(Z){let a=$(Z,"y");a&&(Y.delete(a),X.delete(a));let b=$(Z,"x");b&&b!==a&&(Y.delete(b),X.delete(b)),Z=null}h&&h(a,b)},onLayoutMeasure:a=>{q(e,a)},ref:k,ignoreStrict:!0,children:a})});a.s(["Group",()=>L,"Item",()=>aa],49560);var ab=a.i(49560),ab=ab;function ac({pipeline:a}){let{addStage:d,updateStage:f,deleteStage:g,reorderStages:j}=(0,s.usePipelineStore)(),[k,n]=(0,c.useState)(null),[p,q]=(0,c.useState)(""),[t,u]=(0,c.useState)(null),[v,w]=(0,c.useState)(!1),[y,z]=(0,c.useState)(""),[A,B]=(0,c.useState)(null),[F,G]=(0,c.useState)(null),[H,I]=(0,c.useState)(null),J=a.stages.length<10;(0,c.useEffect)(()=>{if(!H)return;let a=setTimeout(()=>I(null),2e3);return()=>clearTimeout(a)},[H]);let K=()=>{k&&p.trim()?p.length>30?B("O nome da etapa deve ter no máximo 30 caracteres."):(f(a.id,k,{name:p.trim()}),I("Etapa atualizada"),n(null),q(""),B(null)):B("Nome da etapa é obrigatório.")},L=()=>{n(null),q(""),B(null)},M=()=>{y.trim()?y.length>30?G("O nome da etapa deve ter no máximo 30 caracteres."):(d(a.id,{id:`stage-${Date.now()}`,name:y.trim(),slaHours:48}),z(""),w(!1),G(null)):G("Digite um nome para a etapa.")};return(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("h3",{className:"font-heading text-lg font-semibold text-black",children:["Etapas (",a.stages.length,"/10)"]}),(0,b.jsxs)(l.Button,{size:"sm",onClick:()=>{w(!0),G(null)},disabled:!J||v,className:"rounded-full font-body text-xs",children:[(0,b.jsx)(e.Plus,{className:"mr-1 h-3.5 w-3.5"}),"Adicionar Etapa"]})]}),H&&(0,b.jsx)(m.InlineFeedback,{type:"success",message:H,compact:!0,onClose:()=>I(null)}),a.stages.length>0?(0,b.jsx)(ab.Group,{axis:"y",values:a.stages,onReorder:b=>{j(a.id,b)},className:"space-y-2",children:a.stages.map(a=>(0,b.jsx)(ab.Item,{value:a,children:(0,b.jsxs)("div",{className:"flex items-center gap-3 rounded-[15px] border border-zinc-200 bg-white p-3 transition-colors hover:bg-zinc-50",children:[(0,b.jsx)(h,{className:"h-4 w-4 shrink-0 cursor-grab text-zinc-400 active:cursor-grabbing"}),(0,b.jsx)("div",{className:"flex-1",children:k===a.id?(0,b.jsxs)("div",{children:[(0,b.jsx)(x.Input,{value:p,onChange:a=>{q(a.target.value),B(null)},onKeyDown:a=>{"Enter"===a.key&&K(),"Escape"===a.key&&L()},placeholder:"Nome da etapa",className:"h-8 rounded-[10px] font-body text-sm",maxLength:30,autoFocus:!0}),A&&(0,b.jsx)("p",{className:"mt-1 font-body text-xs text-status-danger",children:A})]}):(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)("span",{className:"font-body text-sm font-medium text-black",children:a.name}),(0,b.jsxs)(o.Badge,{variant:"secondary",className:"rounded-[10px] font-body text-[10px]",children:[a.slaHours,"h SLA"]})]})}),(0,b.jsx)("div",{className:"flex items-center gap-1 shrink-0",children:k===a.id?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(l.Button,{size:"icon",variant:"ghost",onClick:K,className:"h-7 w-7 text-status-success hover:bg-status-success/10",children:(0,b.jsx)(E.Check,{className:"h-3.5 w-3.5"})}),(0,b.jsx)(l.Button,{size:"icon",variant:"ghost",onClick:L,className:"h-7 w-7 text-zinc-500 hover:bg-zinc-100",children:(0,b.jsx)(D.X,{className:"h-3.5 w-3.5"})})]}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(l.Button,{size:"icon",variant:"ghost",onClick:()=>{n(a.id),q(a.name),B(null)},className:"h-7 w-7 text-zinc-500 hover:bg-zinc-100",children:(0,b.jsx)(C,{className:"h-3.5 w-3.5"})}),(0,b.jsx)(l.Button,{size:"icon",variant:"ghost",onClick:()=>u(a),className:"h-7 w-7 text-status-danger hover:bg-status-danger/10",children:(0,b.jsx)(i.Trash2,{className:"h-3.5 w-3.5"})})]})})]})},a.id))}):(0,b.jsx)("div",{className:"rounded-[15px] border-2 border-dashed border-zinc-200 p-8 text-center",children:(0,b.jsx)("p",{className:"font-body text-sm text-zinc-500",children:"Nenhuma etapa criada. Adicione a primeira etapa para este funil."})}),v&&(0,b.jsxs)("div",{className:"space-y-1",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3 rounded-[15px] border-2 border-brand bg-brand/5 p-3",children:[(0,b.jsx)(x.Input,{value:y,onChange:a=>{z(a.target.value),G(null)},onKeyDown:a=>{"Enter"===a.key&&M(),"Escape"===a.key&&(w(!1),z(""),G(null))},placeholder:"Nome da nova etapa (máx. 30 caracteres)",className:"h-8 rounded-[10px] font-body text-sm",maxLength:30,autoFocus:!0}),(0,b.jsxs)("div",{className:"flex items-center gap-1 shrink-0",children:[(0,b.jsx)(l.Button,{size:"icon",variant:"ghost",onClick:M,className:"h-7 w-7 text-status-success hover:bg-status-success/10",children:(0,b.jsx)(E.Check,{className:"h-3.5 w-3.5"})}),(0,b.jsx)(l.Button,{size:"icon",variant:"ghost",onClick:()=>{w(!1),z(""),G(null)},className:"h-7 w-7 text-zinc-500 hover:bg-zinc-100",children:(0,b.jsx)(D.X,{className:"h-3.5 w-3.5"})})]})]}),F&&(0,b.jsx)("p",{className:"px-3 font-body text-xs text-status-danger",children:F})]}),!J&&(0,b.jsx)("p",{className:"font-body text-xs text-zinc-500",children:"Limite máximo de 10 etapas atingido."}),(0,b.jsx)(r.AlertDialog,{open:null!==t,onOpenChange:()=>u(null),children:(0,b.jsxs)(r.AlertDialogContent,{className:"rounded-[20px]",children:[(0,b.jsxs)(r.AlertDialogHeader,{children:[(0,b.jsxs)(r.AlertDialogTitle,{className:"font-heading text-xl",children:['Excluir etapa "',t?.name,'"?']}),(0,b.jsx)(r.AlertDialogDescription,{className:"font-body text-sm text-zinc-600",children:"Esta ação não pode ser desfeita. Todos os cards nesta etapa precisam ser movidos antes."})]}),(0,b.jsxs)(r.AlertDialogFooter,{children:[(0,b.jsx)(r.AlertDialogCancel,{className:"rounded-full",children:"Cancelar"}),(0,b.jsx)(r.AlertDialogAction,{onClick:()=>{t&&(g(a.id,t.id),u(null))},className:"rounded-full bg-status-danger text-white hover:bg-status-danger/90",children:"Sim, excluir"})]})]})})]})}var ad=a.i(79584);function ae(){let a=(0,d.useRouter)(),{pipelines:f,deletePipeline:t}=(0,s.usePipelineStore)(),[u,v]=(0,c.useState)(!1),[w,x]=(0,c.useState)(null),[y,z]=(0,c.useState)(null),[A,C]=(0,c.useState)(null),[D,E]=(0,c.useState)(null),F=f.length<5,G=f.filter(a=>a.isDefault).length,H=f.reduce((a,b)=>a+b.stages.length,0);return(0,b.jsxs)("div",{className:"flex gap-8",children:[(0,b.jsx)(ad.SettingsSecondaryNav,{activeKey:"pipeline"}),(0,b.jsxs)("div",{className:"min-w-0 flex-1 space-y-6",children:[(0,b.jsx)(p.ModuleCommandHeader,{title:"Gerenciar Funis",description:"Configure os funis e etapas do seu pipeline de vendas.",className:"premium-panel",meta:`Se\xe7\xe3o ativa: Pipeline \xb7 ${f.length} funis ativos`,chips:[{id:"default-funnel",label:`${G} padr\xe3o`,tone:G>0?"success":"warning",onClick:()=>{let a=f.find(a=>a.isDefault);if(a){C(a.id),E({type:"success",message:`Funil padr\xe3o "${a.name}" selecionado.`});return}E({type:"error",message:"Nenhum funil padrão configurado no momento."})}},{id:"stage-count",label:`${H} etapas`,tone:"info",onClick:()=>{E({type:"success",message:"Resumo de etapas exibido no painel de funis."})}}],actions:(0,b.jsx)("div",{className:"flex w-full flex-wrap items-center justify-end gap-2",children:(0,b.jsxs)(l.Button,{onClick:()=>v(!0),disabled:!F,className:"h-9 rounded-full bg-black font-heading text-sm text-white hover:bg-zinc-800",children:[(0,b.jsx)(e.Plus,{className:"mr-1.5 h-3.5 w-3.5"}),"Novo Funil"]})}),children:(0,b.jsxs)("div",{className:"flex w-full flex-wrap items-center justify-between gap-2",children:[(0,b.jsx)("div",{className:"text-xs text-zinc-500",children:A?"Gerenciando etapas do funil selecionado":"Selecione um funil para abrir o gerenciador de etapas"}),(0,b.jsxs)("div",{className:"flex flex-wrap items-center gap-2",children:[(0,b.jsx)(l.Button,{variant:"outline",size:"sm",className:"h-8 rounded-full",onClick:()=>a.push("/pipes"),children:"Ver pipeline"}),(0,b.jsx)(l.Button,{variant:"outline",size:"sm",className:"h-8 rounded-full",onClick:()=>C(a=>a?null:f[0]?.id??null),children:A?"Recolher etapas":"Expandir primeiro funil"})]})]})}),D&&(0,b.jsx)(m.InlineFeedback,{type:D.type,message:D.message,onClose:()=>E(null)}),!F&&(0,b.jsx)(n.Card,{className:"border-status-warning bg-status-warning/5",children:(0,b.jsxs)(n.CardContent,{className:"flex items-center gap-3 pt-6",children:[(0,b.jsx)(k.AlertTriangle,{className:"h-5 w-5 text-status-warning"}),(0,b.jsxs)("p",{className:"font-body text-sm text-zinc-700",children:["Você atingiu o limite de ",(0,b.jsx)("strong",{children:"5 funis"}),". Exclua um funil existente para criar um novo."]})]})}),(0,b.jsx)("div",{className:"space-y-4",children:f.map(a=>(0,b.jsxs)(n.Card,{className:"rounded-[15px]",children:[(0,b.jsx)(n.CardHeader,{children:(0,b.jsxs)("div",{className:"flex items-start justify-between",children:[(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)(n.CardTitle,{className:"font-heading text-xl",children:a.name}),a.isDefault&&(0,b.jsx)(o.Badge,{variant:"secondary",className:"rounded-[10px] font-body text-xs",children:"Padrão"}),(0,b.jsxs)(o.Badge,{variant:"outline",className:"rounded-[10px] font-body text-xs",children:[a.stages.length," etapas"]}),(0,b.jsxs)(o.Badge,{variant:"outline",className:"rounded-[10px] font-body text-xs",children:[a.cardCount," cards"]})]}),a.description&&(0,b.jsx)(n.CardDescription,{className:"mt-1 font-body text-sm",children:a.description})]}),(0,b.jsxs)(q.DropdownMenu,{children:[(0,b.jsx)(q.DropdownMenuTrigger,{asChild:!0,children:(0,b.jsx)(l.Button,{variant:"ghost",size:"icon",className:"h-8 w-8 shrink-0",children:(0,b.jsx)(g,{className:"h-4 w-4"})})}),(0,b.jsxs)(q.DropdownMenuContent,{align:"end",className:"rounded-[15px]",children:[(0,b.jsxs)(q.DropdownMenuItem,{onClick:()=>x(a),children:[(0,b.jsx)(j,{className:"mr-2 h-4 w-4"}),"Editar"]}),(0,b.jsxs)(q.DropdownMenuItem,{onClick:()=>C(A===a.id?null:a.id),children:[(0,b.jsx)(h,{className:"mr-2 h-4 w-4"}),"Gerenciar Etapas"]}),(0,b.jsx)(q.DropdownMenuSeparator,{}),(0,b.jsxs)(q.DropdownMenuItem,{onClick:()=>z(a),disabled:a.isDefault,className:"text-status-danger focus:text-status-danger",children:[(0,b.jsx)(i.Trash2,{className:"mr-2 h-4 w-4"}),a.isDefault?"Não pode excluir padrão":"Excluir"]})]})]})]})}),A===a.id&&(0,b.jsx)(n.CardContent,{className:"border-t border-zinc-100 pt-6",children:(0,b.jsx)(ac,{pipeline:a})})]},a.id))}),0===f.length&&(0,b.jsx)(n.Card,{className:"rounded-[15px]",children:(0,b.jsx)(n.CardContent,{className:"flex flex-col items-center justify-center py-12",children:(0,b.jsx)("p",{className:"font-body text-sm text-zinc-500",children:"Nenhum funil configurado. Crie o primeiro funil para começar."})})}),(0,b.jsx)(B,{open:u||null!==w,onOpenChange:a=>{a||(v(!1),x(null))},pipeline:w}),(0,b.jsx)(r.AlertDialog,{open:null!==y,onOpenChange:()=>z(null),children:(0,b.jsxs)(r.AlertDialogContent,{className:"max-w-[calc(100%-2rem)] rounded-[20px] sm:max-w-lg",children:[(0,b.jsxs)(r.AlertDialogHeader,{children:[(0,b.jsxs)(r.AlertDialogTitle,{className:"font-heading text-xl",children:['Excluir funil "',y?.name,'"?']}),(0,b.jsx)(r.AlertDialogDescription,{className:"font-body text-sm text-zinc-600",children:y&&y.cardCount>0?(0,b.jsxs)(b.Fragment,{children:["Não é possível excluir este funil porque existem"," ",(0,b.jsxs)("strong",{children:[y.cardCount," cards"]})," associados a ele.",(0,b.jsx)("br",{}),(0,b.jsx)("br",{}),"Mova ou exclua todos os cards antes de continuar."]}):(0,b.jsx)(b.Fragment,{children:"Esta ação não pode ser desfeita. Todas as etapas deste funil serão removidas permanentemente."})})]}),(0,b.jsxs)(r.AlertDialogFooter,{children:[(0,b.jsx)(r.AlertDialogCancel,{className:"rounded-full",children:"Cancelar"}),y&&0===y.cardCount&&(0,b.jsx)(r.AlertDialogAction,{onClick:()=>{if(y){if(y.cardCount>0){E({type:"error",message:`N\xe3o \xe9 poss\xedvel excluir. Existem ${y.cardCount} cards neste funil.`}),z(null);return}t(y.id),E({type:"success",message:`Funil exclu\xeddo. O funil "${y.name}" foi removido.`}),setTimeout(()=>E(null),3e3),z(null)}},className:"rounded-full bg-status-danger text-white hover:bg-status-danger/90",children:"Sim, excluir"})]})]})})]})]})}a.s(["default",()=>ae],91094)}];

//# sourceMappingURL=src_app_%28auth%29_settings_pipeline_page_tsx_5346b16d._.js.map
module.exports=[73771,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(50944),e=a.i(90669),f=a.i(73570),g=a.i(32860),h=a.i(82434),i=a.i(33441),j=a.i(90166),k=a.i(8406),l=a.i(50429),m=a.i(83077),n=a.i(24669),o=a.i(33508),p=a.i(46271),q=a.i(45113),r=a.i(57008),s=a.i(55376),t=a.i(30455),u=a.i(66206),v=a.i(22024),w=a.i(99570),x=a.i(86304),y=a.i(33140),z=a.i(85259);let A={revenue:{label:"Receita",icon:(0,b.jsx)(j.DollarSign,{className:"h-4 w-4"}),formatter:a=>{var b;return b=a,new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL",minimumFractionDigits:0}).format(b)},chipClass:"bg-emerald-50 text-emerald-700 border-emerald-200"},opportunities:{label:"Oportunidades",icon:(0,b.jsx)(l.Target,{className:"h-4 w-4"}),formatter:a=>Math.round(a).toLocaleString("pt-BR"),chipClass:"bg-blue-50 text-blue-700 border-blue-200"},conversion:{label:"Conversão",icon:(0,b.jsx)(n.TrendingUp,{className:"h-4 w-4"}),formatter:a=>`${a.toFixed(1).replace(".",",")}%`,chipClass:"bg-violet-50 text-violet-700 border-violet-200"},activities:{label:"Atividades",icon:(0,b.jsx)(e.Activity,{className:"h-4 w-4"}),formatter:a=>Math.round(a).toLocaleString("pt-BR"),chipClass:"bg-amber-50 text-amber-700 border-amber-200"}},B={weekly:"Semana",monthly:"Mês",quarterly:"Trimestre",yearly:"Ano"},C={monthly:"Mensal",quarterly:"Trimestral"};function D(a){return a.target?a.current/a.target*100:0}function E(a){let b=D(a);return b>=100?"achieved":b<60?"risk":"pace"}let F={risk:{label:"Em risco",badgeClass:"border-red-200 bg-red-50 text-red-700",progressClass:"bg-red-400",textClass:"text-red-700",ctaLabel:"Ver plano"},pace:{label:"No ritmo",badgeClass:"border-blue-200 bg-blue-50 text-blue-700",progressClass:"bg-blue-500",textClass:"text-blue-700",ctaLabel:"Criar ações"},achieved:{label:"Batida",badgeClass:"border-emerald-200 bg-emerald-50 text-emerald-700",progressClass:"bg-emerald-500",textClass:"text-emerald-700",ctaLabel:"Ver detalhes"}};function G(){let a=(0,d.useRouter)(),{goals:e}=(0,r.useGoalStore)(),{user:g}=(0,u.useAuthStore)(),{openDrawer:h}=(0,t.useUIStore)(),[i,j]=(0,c.useState)(!0),[n,y]=(0,c.useState)(!1),[C,F]=(0,c.useState)("yearly"),[G,L]=(0,c.useState)("all"),[M,Q]=(0,c.useState)("all"),[R,S]=(0,c.useState)(!0),[T,U]=(0,c.useState)(new Set),[V,W]=(0,c.useState)({}),[X]=(0,c.useState)(null),[Y,Z]=(0,c.useState)(!1),[$,_]=(0,c.useState)(!1),[aa,ab]=(0,c.useState)(!1),[ac,ad]=(0,c.useState)(null),[ae,af]=(0,c.useState)(null),[ag,ah]=(0,c.useState)(null),[ai,aj]=(0,c.useState)(!1),ak=(0,c.useRef)(null),al=(0,c.useRef)(null);(0,c.useRef)(!1),(0,c.useEffect)(()=>{let a=window.setTimeout(()=>j(!1),720);return()=>window.clearTimeout(a)},[]),(0,c.useEffect)(()=>{},[]),(0,c.useEffect)(()=>{if(!ac)return;let a=window.setTimeout(()=>ad(null),2200);return()=>window.clearTimeout(a)},[ac]),(0,c.useEffect)(()=>{if(!ag||"plan"===ag.type)return;let a=window.setTimeout(()=>ah(null),2500);return()=>window.clearTimeout(a)},[ag]),(0,c.useEffect)(()=>()=>{ak.current&&window.clearTimeout(ak.current),al.current&&window.clearTimeout(al.current)},[]);let am=(0,c.useMemo)(()=>{let a=g?.id;return a&&e.some(b=>b.userId===a)?a:e.find(a=>a.userId)?.userId??a??"user-5"},[e,g?.id]),an=(0,c.useMemo)(()=>e.filter(a=>!a.userId||a.userId===am),[e,am]),ao=(0,c.useMemo)(()=>"yearly"===C?an:"monthly"===C?an.filter(a=>"monthly"===a.period):an.filter(a=>"quarterly"===a.period),[an,C]),ap=(0,c.useMemo)(()=>{let a=ao.filter(a=>"risk"===E(a)).length,b=ao.filter(a=>"achieved"===E(a)).length,c=ao.filter(a=>"pace"===E(a)).length;return{active:ao.length,risk:a,achieved:b,pace:c}},[ao]),aq=(0,c.useMemo)(()=>{let a=ao.length>0?Math.round(ao.reduce((a,b)=>a+Math.min(100,Math.round(D(b))),0)/ao.length):0,b=Math.max(0,a-("yearly"===C?3:"quarterly"===C?4:6));return{current:a,previous:b,delta:a-b}},[ao,C]),ar=(0,c.useMemo)(()=>ao.filter(a=>{if("all"!==M&&a.type!==M)return!1;let b=E(a);return"all"===G||b===G}),[ao,M,G]),as=(0,c.useMemo)(()=>{let a={risk:[],pace:[],achieved:[]};for(let b of ar)a[E(b)].push(b);for(let b of Object.keys(a))a[b].sort((a,b)=>D(a)-D(b));return a},[ar]),at=(0,c.useMemo)(()=>{let a=[];return"all"!==M&&a.push({id:"type",label:`Tipo: ${A[M].label}`,onClear:()=>Q("all")}),a},[M]),au=(0,c.useCallback)((a,b)=>{W(c=>({...c,[a]:b})),window.setTimeout(()=>{W(b=>{let c={...b};return delete c[a],c})},1200)},[]),av=(0,c.useCallback)(a=>{a!==C&&(F(a),y(!0),ab(!0),ak.current&&window.clearTimeout(ak.current),al.current&&window.clearTimeout(al.current),ak.current=window.setTimeout(()=>{y(!1)},260),al.current=window.setTimeout(()=>{ab(!1)},1200))},[C]),aw=(0,c.useCallback)(()=>{L("all"),Q("all")},[]),ax=(0,c.useCallback)(a=>{U(b=>{let c=new Set(b);return c.has(a)?c.delete(a):c.add(a),c})},[]),ay=(0,c.useCallback)((a,b,c)=>{af(a),window.setTimeout(()=>{if(c?.(),af(null),"export-summary"===a){let a=`Resumo de Performance - ${new Date().toLocaleDateString()}
Status Geral:
- Metas Ativas: ${ap.active}
- Metas Batidas: ${ap.achieved}
- Metas em Risco: ${ap.risk}`;navigator.clipboard.writeText(a).catch(()=>{}),ah({type:"success",text:"Resumo copiado para sua área de transferência."});return}if("speech"===a)return void ah({type:"info",title:"Foco do dia",text:'"Estou numa fase decisiva. Hoje vou priorizar as ações com maior impacto de conversão e encerrar o dia com o funil limpo, sem pendências críticas."'});if("weekly-plan"===a||"risk-plan"===a||"daily-actions"===a){let b="";"weekly-plan"===a&&(b="Plano da Semana: focar oportunidades antigas e prospectos quentes."),"risk-plan"===a&&(b="Plano de Risco: auditar pipeline e ativar campanha relâmpago urgente."),"daily-actions"===a&&(b="Atividades Diárias: 10 calls, 5 cold emails, reativar conversões frias."),ah({type:"plan",title:"Ações sugeridas",text:b,action:{label:"Aplicar como tarefeas",onClick:()=>{h("new-activity",{initialNote:b}),ah(null),au("intel",{type:"success",message:"Ações criadas"})}}});return}ah({type:"info",text:b})},700)},[ap,h,au]);if(i)return(0,b.jsx)(O,{});let az=ao.length>0;return(0,b.jsx)(z.TooltipProvider,{children:(0,b.jsxs)(p.motion.div,{initial:{opacity:0,y:6},animate:{opacity:1,y:0},transition:{duration:.18,ease:[.25,.46,.45,.94]},className:"flex h-[calc(100dvh-2rem)] min-h-0 w-full max-w-full flex-col gap-4",children:[ac?(0,b.jsx)(v.InlineFeedback,{type:ac.type,message:ac.message,compact:!0,onClose:()=>ad(null)}):null,(0,b.jsx)(p.motion.div,{initial:{opacity:0,y:6},animate:{opacity:1,y:0},transition:{duration:.16,delay:.02,ease:"easeOut"},className:"shrink-0",children:(0,b.jsx)(s.ModuleCommandHeader,{title:"Minhas metas",description:"Performance pessoal e gamificação",meta:`Per\xedodo: ${B[C]}`,chips:[{id:"goals-active",label:`Ativas (${ap.active})`,tone:"all"===G?"info":"neutral",onClick:()=>L("all")},{id:"goals-achieved",label:`Batidas (${ap.achieved})`,tone:"achieved"===G?"success":"neutral",onClick:()=>L(a=>"achieved"===a?"all":"achieved")},{id:"goals-risk",label:`Em risco (${ap.risk})`,tone:"risk"===G?"danger":"neutral",onClick:()=>L(a=>"risk"===a?"all":"risk")}],actions:(0,b.jsx)("div",{className:"flex w-full min-w-0 flex-wrap items-center gap-2 xl:justify-end",children:(0,b.jsx)("div",{className:"inline-flex h-9 items-center rounded-full border border-zinc-200 bg-zinc-50/90 p-1",children:Object.keys(B).map(a=>(0,b.jsx)("button",{type:"button",onClick:()=>av(a),className:(0,q.cn)("h-7 rounded-full px-3 text-xs font-medium transition-colors duration-120",C===a?"bg-white text-zinc-900 shadow-sm":"text-zinc-500 hover:text-zinc-900"),children:B[a]},a))})}),children:(0,b.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,b.jsxs)("div",{className:(0,q.cn)("flex flex-wrap items-center gap-2 transition-colors duration-200",aa&&"rounded-[12px] bg-zinc-100/60 p-1"),children:[(0,b.jsx)("span",{className:"text-xs font-medium text-zinc-500",children:"Tipo:"}),Object.keys(A).map(a=>(0,b.jsxs)("button",{type:"button",onClick:()=>Q(b=>b===a?"all":a),className:(0,q.cn)("inline-flex h-8 items-center gap-1.5 rounded-full border px-3 text-xs font-medium transition-colors duration-120",M===a?"border-zinc-300 bg-white text-zinc-900":"border-zinc-200 bg-white/90 text-zinc-600 hover:bg-zinc-50"),children:[A[a].icon,A[a].label]},a))]}),(0,b.jsx)("div",{className:"flex flex-wrap items-center gap-2",children:at.length>0?(0,b.jsx)(w.Button,{variant:"ghost",size:"sm",onClick:aw,className:"h-9 rounded-full text-xs text-zinc-500 hover:text-zinc-900",children:"Limpar filtros"}):null}),at.length>0?(0,b.jsx)("div",{className:"flex flex-wrap items-center gap-2",children:at.map(a=>(0,b.jsxs)("button",{type:"button",onClick:a.onClear,className:"inline-flex h-7 items-center gap-1 rounded-full border border-zinc-200 bg-white px-2.5 text-[11px] font-medium text-zinc-600 transition-colors duration-120 hover:bg-zinc-50",children:[a.label,(0,b.jsx)(o.X,{className:"h-3 w-3 text-zinc-400"})]},a.id))}):null]})})}),(0,b.jsx)(p.motion.div,{initial:{opacity:0,y:6},animate:{opacity:1,y:0},transition:{duration:.16,delay:.05,ease:"easeOut"},className:"flex-1",children:(0,b.jsxs)("div",{className:"grid h-full grid-cols-1 gap-6 lg:grid-cols-[1fr_320px]",children:[(0,b.jsx)("div",{className:"min-h-0 min-w-0 overflow-y-auto pb-8",children:az?n?(0,b.jsx)(P,{}):(0,b.jsxs)(p.motion.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.16,ease:"easeOut"},className:"space-y-4 pb-4",children:[(0,b.jsx)("section",{className:"grid grid-cols-1 gap-3 md:grid-cols-2 xl:grid-cols-4",children:ai?(0,b.jsx)(N,{message:"Falha ao carregar indicadores de metas.",onRetry:()=>aj(!1)}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(H,{icon:(0,b.jsx)(l.Target,{className:"h-5 w-5 text-zinc-700"}),label:"Metas ativas",value:`${ap.active}`,subtext:"no período selecionado",trend:`${ap.active} metas em acompanhamento`,miniVisual:(0,b.jsxs)("div",{className:"mt-1 flex gap-1.5",children:[(0,b.jsx)("span",{className:"h-2 w-8 rounded-full bg-zinc-300/80"}),(0,b.jsx)("span",{className:"h-2 w-8 rounded-full bg-zinc-200/80"}),(0,b.jsx)("span",{className:"h-2 w-8 rounded-full bg-zinc-400/80"})]})}),(0,b.jsx)(H,{icon:(0,b.jsx)(m.Trophy,{className:"h-5 w-5 text-emerald-700"}),label:"Metas batidas",value:`${ap.achieved}`,subtext:"taxa de sucesso do período",trend:ap.active>0?`${Math.round(ap.achieved/ap.active*100)}% de sucesso`:"Sem metas no período",miniVisual:(0,b.jsx)("div",{className:"w-full",children:(0,b.jsx)("div",{className:"h-2 w-full overflow-hidden rounded-full bg-zinc-100",children:(0,b.jsx)("div",{className:"h-full rounded-full bg-emerald-400 transition-[width] duration-200",style:{width:ap.active>0?`${Math.round(ap.achieved/ap.active*100)}%`:"0%"}})})})}),(0,b.jsx)(H,{icon:(0,b.jsx)(f.AlertTriangle,{className:"h-5 w-5 text-red-700"}),label:"Metas em risco",value:`${ap.risk}`,subtext:"atenção imediata",trend:ap.risk>0?"Prioridade de execução":"Sem alertas críticos",miniVisual:(0,b.jsx)(x.Badge,{className:(0,q.cn)("rounded-full px-2 py-0.5 text-[10px]",ap.risk>0?"border border-red-200 bg-red-50 text-red-700":"border border-emerald-200 bg-emerald-50 text-emerald-700"),children:ap.risk>0?"Atenção":"Tudo em dia"})}),(0,b.jsx)(H,{icon:(0,b.jsx)(k.Sparkles,{className:"h-5 w-5 text-blue-700"}),label:"Score pessoal",value:`${aq.current}`,subtext:"média da minha execução",trend:aq.delta>=0?`+${aq.delta} vs per\xedodo anterior`:`${aq.delta} vs per\xedodo anterior`,miniVisual:(0,b.jsx)("div",{className:"flex h-8 items-end gap-1",children:[.42,.48,.44,.52,.56,.63].map((a,c)=>(0,b.jsx)("span",{className:"w-1.5 rounded bg-blue-300/80",style:{height:`${100*a}%`}},c))})})]})}),(0,b.jsxs)("section",{className:"space-y-4",children:[(0,b.jsx)(I,{title:"Em risco",description:"Metas que precisam de ação imediata.",goals:as.risk,emptyLabel:"Nenhuma meta em risco no período.",renderGoal:c=>(0,b.jsx)(J,{goal:c,expanded:T.has(c.id),isRunningAction:X===c.id,inlineFeedback:V[c.id],onTogglePlan:()=>ax(c.id),onPrimaryAction:()=>{let a=E(c);"risk"===a?ax(c.id):"pace"===a?h("new-activity",{initialNote:`Plano de a\xe7\xe3o para acelerar a meta: ${c.title}`}):au(c.id,{type:"info",message:"Meta batida: detalhes exibidos."})},onCreateActivities:()=>h("new-activity",{initialNote:`A\xe7\xe3o para recuperar meta em risco: ${c.title}`}),onOpenActivities:()=>a.push(`/activities?source=goals&goal=${encodeURIComponent(c.title)}&status=${E(c)}`)},c.id)}),(0,b.jsx)(I,{title:"No ritmo",description:"Metas com execução saudável, focadas em aceleração.",goals:as.pace,emptyLabel:"Sem metas em ritmo no filtro selecionado.",renderGoal:c=>(0,b.jsx)(J,{goal:c,expanded:T.has(c.id),isRunningAction:X===c.id,inlineFeedback:V[c.id],onTogglePlan:()=>ax(c.id),onPrimaryAction:()=>h("new-activity",{initialNote:`A\xe7\xe3o para acelerar meta: ${c.title}`}),onCreateActivities:()=>h("new-activity",{initialNote:`Nova atividade para meta: ${c.title}`}),onOpenActivities:()=>a.push(`/activities?source=goals&goal=${encodeURIComponent(c.title)}&status=${E(c)}`)},c.id)}),(0,b.jsxs)("section",{className:"rounded-[20px] border border-zinc-200/80 bg-white/82 p-3 shadow-[0_16px_32px_-28px_rgba(15,23,42,0.45)] md:p-4",children:[(0,b.jsxs)("div",{className:"mb-3 flex flex-wrap items-center justify-between gap-2",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h3",{className:"font-heading text-base font-semibold text-zinc-900",children:"Batidas"}),(0,b.jsx)("p",{className:"text-xs text-zinc-500",children:"Metas concluídas no período. Seção colapsável para manter foco."})]}),(0,b.jsx)(w.Button,{variant:"outline",size:"sm",className:"h-8 rounded-full",onClick:()=>S(a=>!a),children:R?"Expandir":"Recolher"})]}),R?(0,b.jsx)("div",{className:"rounded-[14px] border border-zinc-200 bg-zinc-50/80 p-3 text-xs text-zinc-600",children:"Seção recolhida para reduzir ruído visual."}):as.achieved.length>0?(0,b.jsx)("div",{className:"grid grid-cols-1 gap-3 md:grid-cols-2 xl:grid-cols-3",children:as.achieved.map(c=>(0,b.jsx)(J,{goal:c,expanded:T.has(c.id),isRunningAction:X===c.id,inlineFeedback:V[c.id],onTogglePlan:()=>ax(c.id),onPrimaryAction:()=>{au(c.id,{type:"success",message:"Relatório da meta batida pronto (feature em dev)."})},onCreateActivities:()=>h("new-activity",{initialNote:`Manter ritmo da meta batida: ${c.title}`}),onOpenActivities:()=>a.push(`/activities?source=goals&goal=${encodeURIComponent(c.title)}&status=${E(c)}`)},c.id))}):(0,b.jsx)("div",{className:"rounded-[14px] border border-dashed border-zinc-200 bg-zinc-50/80 p-4 text-sm text-zinc-500",children:"Sem metas batidas no filtro atual."})]})]})]},`${C}-${G}-${M}`):(0,b.jsxs)("div",{className:"flex flex-col items-center justify-center rounded-[24px] border border-dashed border-zinc-200 bg-zinc-50/50 py-20 text-center",children:[(0,b.jsx)("div",{className:"mb-4 rounded-full bg-white p-4 shadow-sm ring-1 ring-zinc-100",children:(0,b.jsx)(l.Target,{className:"h-8 w-8 text-zinc-300"})}),(0,b.jsx)("h3",{className:"font-heading text-lg font-semibold text-zinc-900",children:"Nenhuma meta atribuída"}),(0,b.jsx)("p",{className:"mt-2 max-w-sm text-sm text-zinc-500",children:"Você não possui metas definidas para este período. Entre em contato com seu gestor para alinhar seus objetivos."})]})}),(0,b.jsx)("div",{className:"hidden h-full min-w-0 lg:block",children:(0,b.jsx)(K,{activeCount:ap.active,riskCount:ap.risk,paceCount:ap.pace,achievedCount:ap.achieved,runningAction:ae,result:ag,onClose:()=>{},onRunAction:ay,onFilterRisk:()=>L("risk"),onFilterOpportunities:()=>Q("opportunities"),onFilterConversion:()=>Q("conversion"),onFilterActivities:()=>Q("activities"),onOpenActivities:()=>a.push("/activities?source=goals&focus=metas"),onGenerateSummary:()=>ad({type:"success",message:"Resumo de coaching gerado."})})})]})}),$?null:(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("div",{onClick:()=>Z(!1),className:(0,q.cn)("fixed inset-0 z-40 bg-black/25 transition-opacity duration-200 xl:hidden",Y?"opacity-100":"pointer-events-none opacity-0")}),(0,b.jsx)("aside",{className:(0,q.cn)("fixed right-0 top-0 z-50 h-full w-[min(92vw,360px)] p-2 transition-transform duration-220 ease-out xl:hidden",Y?"translate-x-0":"translate-x-full"),children:(0,b.jsx)(K,{activeCount:ap.active,riskCount:ap.risk,paceCount:ap.pace,achievedCount:ap.achieved,runningAction:ae,result:ag,onClose:()=>Z(!1),onRunAction:ay,onFilterRisk:()=>{L("risk"),Z(!1)},onFilterOpportunities:()=>{Q("opportunities"),Z(!1)},onFilterConversion:()=>{Q("conversion"),Z(!1)},onFilterActivities:()=>{Q("activities"),Z(!1)},onOpenActivities:()=>{Z(!1),a.push("/activities?source=goals&focus=metas")},onGenerateSummary:()=>{ad({type:"success",message:"Resumo de coaching gerado."}),Z(!1)}})})]})]})})}function H({icon:a,label:c,value:d,subtext:e,trend:f,miniVisual:g}){return(0,b.jsx)("article",{className:"premium-lift h-[154px] rounded-[18px] border border-zinc-200/80 bg-white p-3.5 shadow-[0_14px_28px_-24px_rgba(15,23,42,0.5)]",children:(0,b.jsxs)("div",{className:"flex h-full flex-col",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2 text-zinc-600",children:[(0,b.jsx)("span",{className:"inline-flex h-8 w-8 items-center justify-center rounded-[10px] bg-zinc-100",children:a}),(0,b.jsx)("span",{className:"text-xs font-medium uppercase tracking-[0.08em]",children:c})]}),(0,b.jsxs)("div",{className:"mt-3",children:[(0,b.jsx)("p",{className:"font-heading text-[30px] font-semibold leading-none text-zinc-900",children:d}),(0,b.jsx)("p",{className:"mt-1 truncate text-xs text-zinc-500",children:e})]}),(0,b.jsxs)("div",{className:"mt-auto flex items-end justify-between gap-2",children:[(0,b.jsx)("span",{className:"truncate rounded-full bg-zinc-100 px-2 py-0.5 text-[11px] text-zinc-600",children:f}),(0,b.jsx)("div",{className:"min-w-[72px]",children:g})]})]})})}function I({title:a,description:d,goals:e,emptyLabel:f,renderGoal:g}){return(0,b.jsxs)("section",{className:"rounded-[20px] border border-zinc-200/80 bg-white/82 p-3 shadow-[0_16px_32px_-28px_rgba(15,23,42,0.45)] md:p-4",children:[(0,b.jsxs)("div",{className:"mb-3",children:[(0,b.jsx)("h3",{className:"font-heading text-base font-semibold text-zinc-900",children:a}),(0,b.jsx)("p",{className:"text-xs text-zinc-500",children:d})]}),e.length>0?(0,b.jsx)("div",{className:"grid grid-cols-1 gap-3 md:grid-cols-2 xl:grid-cols-3",children:e.map(a=>(0,b.jsx)(c.Fragment,{children:g(a)},a.id))}):(0,b.jsx)("div",{className:"rounded-[14px] border border-dashed border-zinc-200 bg-zinc-50/80 p-4 text-sm text-zinc-500",children:f})]})}function J({goal:a,expanded:c,isRunningAction:d,inlineFeedback:e,onTogglePlan:f,onPrimaryAction:j,onCreateActivities:k,onOpenActivities:l}){let m,n=E(a),o=F[n],r=A[a.type],s=Math.min(100,Math.max(0,Math.round(D(a)))),t=(m=Math.min(100,Math.round(D(a))),"risk"===n?{why:`Meta em ${m}% do objetivo. Cad\xeancia atual n\xe3o sustenta fechamento do per\xedodo.`,actions:["Aumentar volume de atividades críticas nos próximos 3 dias.","Repriorizar carteira com foco nos itens de maior potencial.","Executar follow-up diário até recuperar ritmo da meta."]}:"pace"===n?{why:`Meta em ${m}% e evolu\xe7\xe3o consistente. Pr\xf3ximas a\xe7\xf5es aumentam margem de seguran\xe7a.`,actions:["Consolidar oportunidades em estágio avançado nesta semana.","Criar checkpoints diários para manter taxa de execução.","Antecipar bloqueios operacionais no próprio funil."]}:{why:`Meta j\xe1 batida com ${m}%. O foco agora \xe9 proteger resultado e abrir upside.`,actions:["Garantir manutenção de performance com rotina leve de acompanhamento.","Duplicar práticas que geraram resultado para outras metas.","Mapear oportunidade de meta stretch para o próximo ciclo."]});return(0,b.jsxs)("article",{className:"premium-lift overflow-hidden rounded-[16px] border border-zinc-200/85 bg-white shadow-[0_12px_22px_-18px_rgba(15,23,42,0.48)]",children:[(0,b.jsxs)("div",{className:"p-3.5",children:[(0,b.jsx)("div",{className:"flex items-start justify-between gap-2",children:(0,b.jsxs)("div",{className:"min-w-0",children:[(0,b.jsxs)("div",{className:"mb-2 flex flex-wrap items-center gap-1.5",children:[(0,b.jsx)(x.Badge,{className:(0,q.cn)("rounded-full border px-2 py-0 text-[10px]",r.chipClass),children:A[a.type].label}),(0,b.jsx)(x.Badge,{className:"rounded-full border border-zinc-200 bg-zinc-50 px-2 py-0 text-[10px] text-zinc-600",children:C[a.period]})]}),(0,b.jsx)("h4",{className:"truncate text-sm font-semibold text-zinc-900",children:a.title})]})}),(0,b.jsxs)("div",{className:"mt-3",children:[(0,b.jsxs)("div",{className:"flex items-baseline gap-1",children:[(0,b.jsx)("span",{className:"font-heading text-[30px] font-semibold leading-none text-zinc-900",children:A[a.type].formatter(a.current)}),(0,b.jsxs)("span",{className:"text-sm text-zinc-500",children:["/ ",A[a.type].formatter(a.target)]})]}),(0,b.jsxs)("p",{className:(0,q.cn)("mt-1 text-sm font-semibold",o.textClass),children:[s,"%"]})]}),(0,b.jsx)("div",{className:"mt-3 h-2 w-full overflow-hidden rounded-full bg-zinc-100",children:(0,b.jsx)(p.motion.div,{initial:{width:0},animate:{width:`${s}%`},transition:{duration:.24,ease:"easeOut"},className:(0,q.cn)("h-full rounded-full",o.progressClass)})}),(0,b.jsxs)("div",{className:"mt-3 flex flex-wrap items-center justify-between gap-2",children:[(0,b.jsx)(x.Badge,{className:(0,q.cn)("rounded-full border px-2 py-0.5 text-[11px]",o.badgeClass),children:o.label}),(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsxs)(w.Button,{size:"sm",className:(0,q.cn)("h-8 rounded-full px-4 text-xs font-medium shadow-sm transition-transform active:scale-95","risk"===n?"bg-red-600 text-white hover:bg-red-700":"bg-zinc-900 text-white hover:bg-zinc-800"),onClick:j,disabled:d,children:[o.ctaLabel,(0,b.jsx)(g.ArrowRight,{className:"ml-1.5 h-3 w-3"})]}),(0,b.jsxs)(w.Button,{size:"sm",className:"menux-intelligence-btn-soft h-8 rounded-full px-3 text-xs text-slate-100",onClick:f,children:[(0,b.jsx)(h.Bot,{className:"h-3.5 w-3.5"}),"Plano"]})]})]})]}),c?(0,b.jsxs)(p.motion.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.18,ease:"easeOut"},className:"border-t border-zinc-200 bg-zinc-50/70 px-3.5 py-3",children:[(0,b.jsx)("p",{className:"text-xs font-semibold uppercase tracking-[0.08em] text-zinc-500",children:"Plano da Menux Intelligence"}),(0,b.jsx)("p",{className:"mt-1 text-xs text-zinc-600",children:t.why}),(0,b.jsx)("ul",{className:"mt-3 space-y-1.5 text-xs text-zinc-600",children:t.actions.map((a,c)=>(0,b.jsxs)("li",{className:"flex items-start gap-1.5",children:[(0,b.jsx)(i.Check,{className:"mt-0.5 h-3.5 w-3.5 text-zinc-500"}),(0,b.jsx)("span",{children:a})]},c))}),(0,b.jsxs)("div",{className:"mt-3 flex flex-wrap items-center gap-2",children:[(0,b.jsxs)(w.Button,{size:"sm",className:"h-7 rounded-full bg-zinc-900 px-3 text-[11px] text-white hover:bg-zinc-800",onClick:k,disabled:d,children:[d?(0,b.jsx)("span",{className:"mr-1 h-3 w-3 animate-spin rounded-full border border-white border-t-transparent"}):null,"Criar ações"]}),(0,b.jsx)(w.Button,{size:"sm",variant:"outline",className:"h-7 rounded-full px-3 text-[11px]",onClick:l,children:"Ir para atividades"})]})]}):null,e?(0,b.jsx)("div",{className:"border-t border-zinc-200 bg-white px-3.5 py-2",children:(0,b.jsx)("span",{className:(0,q.cn)("inline-flex rounded-full px-2 py-0.5 text-[11px] font-medium","success"===e.type&&"bg-emerald-100 text-emerald-700","error"===e.type&&"bg-red-100 text-red-700","info"===e.type&&"bg-blue-100 text-blue-700"),children:e.message})}):null]})}function K({activeCount:a,riskCount:c,paceCount:d,achievedCount:e,runningAction:f,result:g,onRunAction:i,onClose:j,onFilterRisk:k,onFilterOpportunities:l,onFilterConversion:m,onFilterActivities:n,onOpenActivities:p,onGenerateSummary:q}){return(0,b.jsxs)("div",{className:"menux-intelligence-theme flex h-full min-h-0 flex-col overflow-hidden rounded-[20px] border border-slate-700/70 bg-[linear-gradient(145deg,#020817_0%,#03132b_56%,#0a2340_100%)] text-slate-100 shadow-[0_34px_52px_-36px_rgba(15,23,42,0.92)]",children:[(0,b.jsxs)("div",{className:"border-b border-white/10 px-4 py-3",children:[(0,b.jsxs)("div",{className:"flex items-start justify-between gap-2",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h3",{className:"font-heading text-lg font-semibold",children:"Menux Intelligence"}),(0,b.jsx)("p",{className:"mt-0.5 text-xs text-cyan-100/80",children:"Coach de performance pessoal"})]}),j?(0,b.jsx)(w.Button,{variant:"ghost",size:"icon",className:"h-8 w-8 rounded-full text-slate-300 hover:bg-white/10 hover:text-white",onClick:j,"aria-label":"Fechar Menux Intelligence",children:(0,b.jsx)(o.X,{className:"h-4 w-4"})}):null]}),(0,b.jsxs)(w.Button,{className:"mt-3 h-8 w-full rounded-full border border-white/15 bg-white/10 text-xs text-slate-100 hover:bg-white/15",onClick:()=>i("weekly-plan","Plano semanal gerado.",k),disabled:"weekly-plan"===f,children:["weekly-plan"===f?(0,b.jsx)("span",{className:"mr-2 h-3 w-3 animate-spin rounded-full border border-cyan-100 border-t-transparent"}):(0,b.jsx)(h.Bot,{className:"mr-1.5 h-3.5 w-3.5"}),"Gerar plano semanal"]})]}),(0,b.jsxs)("div",{className:"min-h-0 flex-1 space-y-3 overflow-y-auto p-4",children:[(0,b.jsxs)("section",{className:"rounded-[14px] border border-white/10 bg-white/5 p-3",children:[(0,b.jsx)("p",{className:"text-xs font-semibold uppercase tracking-[0.08em] text-slate-300",children:"Diagnóstico do período"}),(0,b.jsxs)("div",{className:"mt-2 space-y-2 text-xs text-slate-200",children:[(0,b.jsxs)("div",{className:"rounded-[10px] border border-white/10 bg-white/5 p-2.5",children:[(0,b.jsx)("p",{className:"text-slate-300",children:"Metas ativas"}),(0,b.jsx)("p",{className:"mt-1 font-medium text-slate-50",children:a})]}),(0,b.jsxs)("div",{className:"rounded-[10px] border border-white/10 bg-white/5 p-2.5",children:[(0,b.jsx)("p",{className:"text-slate-300",children:"Metas em risco"}),(0,b.jsx)("p",{className:"mt-1 font-medium text-slate-50",children:c})]}),(0,b.jsxs)("div",{className:"rounded-[10px] border border-white/10 bg-white/5 p-2.5",children:[(0,b.jsx)("p",{className:"text-slate-300",children:"Alavanca mais rápida"}),(0,b.jsx)("p",{className:"mt-1 font-medium text-slate-50",children:d>c?"Manter cadência de execução":"Recuperar metas críticas"})]})]})]}),(0,b.jsxs)("section",{className:"rounded-[14px] border border-white/10 bg-white/5 p-3",children:[(0,b.jsx)("p",{className:"text-xs font-semibold uppercase tracking-[0.08em] text-slate-300",children:"Recomendações por perfil"}),(0,b.jsxs)("div",{className:"mt-2 space-y-2",children:[(0,b.jsx)(L,{label:"SDR: foco em oportunidades criadas",actionLabel:"Aplicar filtro",loading:"sdr"===f,onClick:()=>i("sdr","Filtro aplicado: oportunidades.",l)}),(0,b.jsx)(L,{label:"Closer: foco em conversão e fechamento",actionLabel:"Aplicar filtro",loading:"closer"===f,onClick:()=>i("closer","Filtro aplicado: conversão.",m)}),(0,b.jsx)(L,{label:"CS: foco em atividades e saúde da carteira",actionLabel:"Aplicar filtro",loading:"cs"===f,onClick:()=>i("cs","Filtro aplicado: atividades.",n)})]})]}),(0,b.jsxs)("section",{className:"rounded-[14px] border border-white/10 bg-white/5 p-3",children:[(0,b.jsx)("p",{className:"text-xs font-semibold uppercase tracking-[0.08em] text-slate-300",children:"Comandos rápidos"}),(0,b.jsxs)("div",{className:"mt-2 space-y-2",children:[(0,b.jsx)(M,{label:"Gerar plano para metas em risco",loading:"risk-plan"===f,onClick:()=>i("risk-plan","Plano para metas em risco gerado.",k)}),(0,b.jsx)(M,{label:"Sugerir atividades diárias",loading:"daily-actions"===f,onClick:()=>i("daily-actions","Sugestões de atividades geradas.",p)}),(0,b.jsx)(M,{label:"Exportar resumo de performance",loading:"export-summary"===f,onClick:()=>i("export-summary","Resumo exportado.",q)}),(0,b.jsx)(M,{label:"Gerar mensagem de foco do dia",loading:"speech"===f,onClick:()=>i("speech","Mensagem de foco gerada.")})]})]}),(0,b.jsxs)("div",{className:"rounded-[12px] border border-white/10 bg-white/5 p-3 text-xs text-slate-200",children:[(0,b.jsx)("p",{className:"font-medium text-slate-50",children:"Resumo rápido"}),(0,b.jsxs)("p",{className:"mt-1",children:["Batidas: ",e," · Em risco: ",c," · No ritmo: ",d]})]}),g?(0,b.jsxs)("div",{className:"rounded-[12px] border border-cyan-300/30 bg-cyan-500/10 p-3 text-xs text-cyan-100",children:[g.title?(0,b.jsx)("p",{className:"mb-1 font-semibold text-white",children:g.title}):null,(0,b.jsx)("p",{className:"whitespace-pre-wrap leading-relaxed",children:g.text}),g.action?(0,b.jsx)(w.Button,{variant:"outline",size:"sm",className:"mt-3 h-8 w-full rounded-full border-cyan-500/30 bg-cyan-500/20 text-cyan-50 hover:bg-cyan-500/30 hover:text-white",onClick:g.action.onClick,children:g.action.label}):null]}):null]})]})}function L({label:a,actionLabel:c,onClick:d,loading:e}){return(0,b.jsxs)("div",{className:"rounded-[10px] border border-white/10 bg-white/5 p-2.5",children:[(0,b.jsx)("p",{className:"text-xs text-slate-200",children:a}),(0,b.jsxs)(w.Button,{size:"sm",variant:"outline",className:"mt-2 h-7 rounded-full border-white/20 bg-white/5 px-2.5 text-[11px] text-slate-100 hover:bg-white/10",onClick:d,disabled:e,children:[e?(0,b.jsx)("span",{className:"mr-1 h-3 w-3 animate-spin rounded-full border border-cyan-100 border-t-transparent"}):null,c]})]})}function M({label:a,onClick:c,loading:d}){return(0,b.jsxs)("button",{type:"button",onClick:c,disabled:d,className:"flex w-full items-center justify-between rounded-[10px] border border-white/10 bg-white/5 px-3 py-2 text-left text-xs text-slate-100 transition-colors duration-120 hover:bg-white/10 disabled:cursor-not-allowed disabled:opacity-70",children:[(0,b.jsx)("span",{children:a}),d?(0,b.jsx)("span",{className:"h-3 w-3 animate-spin rounded-full border border-cyan-100 border-t-transparent"}):(0,b.jsx)(k.Sparkles,{className:"h-3.5 w-3.5 text-cyan-200"})]})}function N({message:a,onRetry:c}){return(0,b.jsx)("div",{className:"rounded-[14px] border border-red-200 bg-red-50/85 p-3 text-sm text-red-700",children:(0,b.jsxs)("div",{className:"flex items-center justify-between gap-2",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)(f.AlertTriangle,{className:"h-4 w-4"}),(0,b.jsx)("span",{children:a})]}),(0,b.jsx)(w.Button,{variant:"outline",size:"sm",className:"h-7 rounded-full border-red-200 bg-white text-red-700 hover:bg-red-50",onClick:c,children:"Tentar novamente"})]})})}function O(){return(0,b.jsxs)("div",{className:"flex h-[calc(100dvh-2rem)] min-h-0 w-full max-w-full flex-col gap-4",children:[(0,b.jsxs)("div",{className:"shrink-0 rounded-[20px] border border-zinc-200/80 bg-zinc-50/85 px-5 py-4",children:[(0,b.jsx)(y.Skeleton,{className:"h-8 w-32"}),(0,b.jsx)(y.Skeleton,{className:"mt-2 h-4 w-64"}),(0,b.jsxs)("div",{className:"mt-4 flex flex-wrap gap-2",children:[(0,b.jsx)(y.Skeleton,{className:"h-9 w-48 rounded-full"}),(0,b.jsx)(y.Skeleton,{className:"h-9 w-36 rounded-full"}),(0,b.jsx)(y.Skeleton,{className:"h-9 w-44 rounded-full"})]})]}),(0,b.jsx)(P,{})]})}function P(){return(0,b.jsxs)("div",{className:"flex min-h-0 flex-1 gap-4",children:[(0,b.jsxs)("div",{className:"min-h-0 min-w-0 flex-1 space-y-4",children:[(0,b.jsx)("div",{className:"grid grid-cols-1 gap-3 md:grid-cols-2 xl:grid-cols-4",children:Array.from({length:4}).map((a,c)=>(0,b.jsx)(y.Skeleton,{className:"h-[154px] rounded-[18px]"},c))}),(0,b.jsx)(y.Skeleton,{className:"h-[280px] rounded-[20px]"}),(0,b.jsx)(y.Skeleton,{className:"h-[280px] rounded-[20px]"}),(0,b.jsx)(y.Skeleton,{className:"h-[280px] rounded-[20px]"}),(0,b.jsx)(y.Skeleton,{className:"h-[320px] rounded-[20px]"})]}),(0,b.jsx)("div",{className:"hidden w-[360px] xl:block",children:(0,b.jsx)(y.Skeleton,{className:"h-full rounded-[20px]"})})]})}a.s(["default",()=>G])}];

//# sourceMappingURL=src_app_%28auth%29_goals_page_tsx_20652209._.js.map
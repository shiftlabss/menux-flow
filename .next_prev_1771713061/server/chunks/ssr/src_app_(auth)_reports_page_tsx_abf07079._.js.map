{"version":3,"sources":["../../../../src/app/%28auth%29/reports/page.tsx"],"sourcesContent":["\"use client\";\n\nimport {\n  useCallback,\n  useEffect,\n  useMemo,\n  useRef,\n  useState,\n  type ReactNode,\n} from \"react\";\nimport {\n  Activity,\n  BarChart3,\n  Bot,\n  Check,\n  ChevronLeft,\n  Clock3,\n  Copy,\n  DollarSign,\n  FileDown,\n  FileText,\n  FileSpreadsheet,\n  Filter,\n  Heart,\n  History,\n  Search,\n  Sparkles,\n  Star,\n  Users,\n  X,\n} from \"lucide-react\";\nimport { motion } from \"framer-motion\";\nimport { cn } from \"@/lib/cn\";\nimport { exportToCSV, exportToExcel, exportToPDF } from \"@/lib/export\";\nimport { ModuleCommandHeader } from \"@/components/shared/module-command-header\";\nimport { InlineFeedback } from \"@/components/ui/inline-feedback\";\nimport { Button } from \"@/components/ui/button\";\nimport { Badge } from \"@/components/ui/badge\";\nimport { Input } from \"@/components/ui/input\";\nimport { Skeleton } from \"@/components/ui/skeleton\";\nimport {\n  Popover,\n  PopoverContent,\n  PopoverTrigger,\n} from \"@/components/ui/popover\";\nimport {\n  Select,\n  SelectContent,\n  SelectItem,\n  SelectTrigger,\n  SelectValue,\n} from \"@/components/ui/select\";\nimport {\n  Tooltip,\n  TooltipContent,\n  TooltipProvider,\n  TooltipTrigger,\n} from \"@/components/ui/tooltip\";\n\ntype ReportCategory = \"Vendas\" | \"Operacional\" | \"Financeiro\" | \"CS\";\ntype CategoryFilter = \"Todos\" | ReportCategory;\ntype StatusFilter = \"all\" | \"favorites\" | \"recent\";\ntype MobileStep = \"configure\" | \"visualize\";\ntype FeedbackType = \"success\" | \"error\" | \"info\";\n\ninterface ReportDefinition {\n  id: string;\n  title: string;\n  description: string;\n  category: ReportCategory;\n  tags: string[];\n  icon: ReactNode;\n}\n\ninterface BuilderFilters {\n  period: string;\n  pipeline: string;\n  owner: string;\n  status: string;\n  segment: string;\n}\n\ninterface HistoryEntry {\n  reportId: string;\n  generatedAt: string;\n}\n\ninterface ReportKpi {\n  id: string;\n  label: string;\n  value: string;\n  subtext: string;\n  tone: \"neutral\" | \"info\" | \"warning\" | \"success\";\n}\n\ninterface ReportChartPoint {\n  label: string;\n  value: number;\n}\n\ninterface ReportTableData {\n  columns: string[];\n  rows: Array<{ label: string; values: string[] }>;\n}\n\ninterface ReportRecommendation {\n  id: string;\n  label: string;\n  patch: Partial<BuilderFilters>;\n  result: string;\n}\n\ninterface ReportTemplate {\n  chartTitle: string;\n  chart: ReportChartPoint[];\n  kpis: ReportKpi[];\n  table: ReportTableData;\n  sentence: string;\n  findings: string[];\n  anomalies: string[];\n  questions: string[];\n  recommendations: ReportRecommendation[];\n}\n\ninterface FeedbackState {\n  type: FeedbackType;\n  message: string;\n}\n\nconst HISTORY_TIMESTAMPS = [\n  \"16/02/2026 08:40\",\n  \"16/02/2026 09:15\",\n  \"16/02/2026 10:05\",\n  \"16/02/2026 11:20\",\n  \"16/02/2026 13:10\",\n  \"16/02/2026 14:45\",\n];\n\nconst REPORTS: ReportDefinition[] = [\n  {\n    id: \"pipeline-performance\",\n    title: \"Pipeline Performance\",\n    description: \"Conversão por etapa, velocidade do funil e gargalos de avanço.\",\n    category: \"Vendas\",\n    tags: [\"conversão\", \"velocidade\", \"gargalos\"],\n    icon: <BarChart3 className=\"h-5 w-5\" />,\n  },\n  {\n    id: \"conversion-by-seller\",\n    title: \"Conversão por vendedor\",\n    description: \"Comparativo de conversão, receita e ritmo de fechamento por pessoa.\",\n    category: \"Vendas\",\n    tags: [\"ranking\", \"receita\", \"fechamento\"],\n    icon: <Users className=\"h-5 w-5\" />,\n  },\n  {\n    id: \"activities-by-type\",\n    title: \"Atividades por tipo\",\n    description: \"Distribuição das atividades e impacto no SLA operacional.\",\n    category: \"Operacional\",\n    tags: [\"cadência\", \"SLA\", \"execução\"],\n    icon: <Activity className=\"h-5 w-5\" />,\n  },\n  {\n    id: \"monthly-revenue\",\n    title: \"Receita mensal\",\n    description: \"Meta versus realizado e variações da curva de receita.\",\n    category: \"Financeiro\",\n    tags: [\"meta\", \"realizado\", \"variação\"],\n    icon: <DollarSign className=\"h-5 w-5\" />,\n  },\n  {\n    id: \"health-score-overview\",\n    title: \"Health score overview\",\n    description: \"Saúde da carteira por faixa e tendência de risco.\",\n    category: \"CS\",\n    tags: [\"saúde\", \"churn\", \"risco\"],\n    icon: <Heart className=\"h-5 w-5\" />,\n  },\n  {\n    id: \"sla-compliance\",\n    title: \"SLA compliance\",\n    description: \"Cumprimento de SLA por etapa, responsável e exceções.\",\n    category: \"Operacional\",\n    tags: [\"SLA\", \"estouro\", \"responsável\"],\n    icon: <Clock3 className=\"h-5 w-5\" />,\n  },\n];\n\nconst REPORT_TEMPLATES: Record<string, ReportTemplate> = {\n  \"pipeline-performance\": {\n    chartTitle: \"Funil e velocidade por etapa\",\n    chart: [\n      { label: \"Lead-In\", value: 72 },\n      { label: \"Contato\", value: 58 },\n      { label: \"Reunião\", value: 64 },\n      { label: \"Proposta\", value: 45 },\n      { label: \"Negociação\", value: 38 },\n      { label: \"Fechamento\", value: 21 },\n    ],\n    kpis: [\n      { id: \"kpi-1\", label: \"Conversão média\", value: \"31%\", subtext: \"pipeline total\", tone: \"info\" },\n      { id: \"kpi-2\", label: \"Tempo médio\", value: \"17 dias\", subtext: \"lead até fechamento\", tone: \"warning\" },\n      { id: \"kpi-3\", label: \"Em risco\", value: \"12\", subtext: \"oportunidades estagnadas\", tone: \"warning\" },\n    ],\n    table: {\n      columns: [\"Etapa\", \"Qtd\", \"Valor\", \"Conversão\"],\n      rows: [\n        { label: \"Lead-In\", values: [\"72\", \"R$ 880.000\", \"100%\"] },\n        { label: \"Contato Feito\", values: [\"58\", \"R$ 740.000\", \"80%\"] },\n        { label: \"Reunião Agendada\", values: [\"64\", \"R$ 690.000\", \"74%\"] },\n        { label: \"Proposta Enviada\", values: [\"45\", \"R$ 430.000\", \"52%\"] },\n        { label: \"Negociação\", values: [\"38\", \"R$ 320.000\", \"44%\"] },\n        { label: \"Fechamento\", values: [\"21\", \"R$ 205.000\", \"31%\"] },\n      ],\n    },\n    sentence: \"O relatório indica queda de avanço entre proposta e negociação.\",\n    findings: [\n      \"Maior gargalo está na transição de proposta para negociação.\",\n      \"Leads quentes estão acumulando 6+ dias sem próxima ação.\",\n      \"3 responsáveis concentram 68% do volume em risco.\",\n    ],\n    anomalies: [\n      \"Volume alto em reunião sem reflexo proporcional em proposta.\",\n      \"Taxa de avanço caiu 9 pontos na última semana.\",\n    ],\n    questions: [\n      \"Quais propostas estão sem follow-up há mais de 4 dias?\",\n      \"Quais segmentos convertem melhor em menos de 7 dias?\",\n      \"Onde vale redistribuir carteira para aumentar fechamento?\",\n    ],\n    recommendations: [\n      {\n        id: \"pipeline-proposal\",\n        label: \"Ver apenas etapa Proposta\",\n        patch: { status: \"Proposta\" },\n        result: \"Filtro aplicado: etapa Proposta.\",\n      },\n      {\n        id: \"pipeline-owner\",\n        label: \"Filtrar por responsável Ana Souza\",\n        patch: { owner: \"Ana Souza\" },\n        result: \"Filtro aplicado: responsável Ana Souza.\",\n      },\n      {\n        id: \"pipeline-risk\",\n        label: \"Mostrar oportunidades em risco\",\n        patch: { status: \"Em risco\" },\n        result: \"Filtro aplicado: oportunidades em risco.\",\n      },\n    ],\n  },\n  \"conversion-by-seller\": {\n    chartTitle: \"Conversão e receita por vendedor\",\n    chart: [\n      { label: \"Ana\", value: 38 },\n      { label: \"Carlos\", value: 31 },\n      { label: \"Fernanda\", value: 29 },\n      { label: \"Pedro\", value: 27 },\n      { label: \"Julia\", value: 24 },\n    ],\n    kpis: [\n      { id: \"kpi-1\", label: \"Conversão líder\", value: \"38%\", subtext: \"Ana Souza\", tone: \"success\" },\n      { id: \"kpi-2\", label: \"Média do time\", value: \"29%\", subtext: \"últimos 30 dias\", tone: \"info\" },\n      { id: \"kpi-3\", label: \"Gap de receita\", value: \"R$ 84k\", subtext: \"top 1 vs top 5\", tone: \"warning\" },\n    ],\n    table: {\n      columns: [\"Vendedor\", \"Conversão\", \"Receita\", \"Velocidade\"],\n      rows: [\n        { label: \"Ana Souza\", values: [\"38%\", \"R$ 420.000\", \"12 dias\"] },\n        { label: \"Carlos Lima\", values: [\"31%\", \"R$ 360.000\", \"15 dias\"] },\n        { label: \"Fernanda Reis\", values: [\"29%\", \"R$ 315.000\", \"16 dias\"] },\n        { label: \"Pedro Alves\", values: [\"27%\", \"R$ 288.000\", \"17 dias\"] },\n        { label: \"Julia Mendes\", values: [\"24%\", \"R$ 236.000\", \"19 dias\"] },\n      ],\n    },\n    sentence: \"A variação de conversão entre os vendedores está ampliando o gap de receita.\",\n    findings: [\n      \"Top 2 vendedores concentram 56% da receita fechada.\",\n      \"Closers com velocidade acima de 16 dias perdem taxa de conversão.\",\n      \"Equipe com melhor sequência de follow-up converte 11 pontos a mais.\",\n    ],\n    anomalies: [\n      \"Carlos manteve volume alto, mas caiu 5 pontos de conversão.\",\n      \"Julia subiu receita sem aumento proporcional de oportunidades.\",\n    ],\n    questions: [\n      \"Quais negociações travam acima de 14 dias?\",\n      \"Quem precisa de coaching em proposta e fechamento?\",\n      \"Como replicar rotina do top performer no restante do time?\",\n    ],\n    recommendations: [\n      {\n        id: \"conversion-owner\",\n        label: \"Filtrar por responsável Carlos Lima\",\n        patch: { owner: \"Carlos Lima\" },\n        result: \"Filtro aplicado: responsável Carlos Lima.\",\n      },\n      {\n        id: \"conversion-segment\",\n        label: \"Ver segmento Enterprise\",\n        patch: { segment: \"Enterprise\" },\n        result: \"Filtro aplicado: segmento Enterprise.\",\n      },\n      {\n        id: \"conversion-status\",\n        label: \"Mostrar apenas negociação\",\n        patch: { status: \"Negociação\" },\n        result: \"Filtro aplicado: status Negociação.\",\n      },\n    ],\n  },\n  \"activities-by-type\": {\n    chartTitle: \"Distribuição por tipo de atividade\",\n    chart: [\n      { label: \"Ligação\", value: 142 },\n      { label: \"Reunião\", value: 86 },\n      { label: \"E-mail\", value: 118 },\n      { label: \"Follow-up\", value: 96 },\n      { label: \"WhatsApp\", value: 74 },\n    ],\n    kpis: [\n      { id: \"kpi-1\", label: \"Atividades totais\", value: \"516\", subtext: \"últimos 30 dias\", tone: \"info\" },\n      { id: \"kpi-2\", label: \"SLA no prazo\", value: \"87%\", subtext: \"execução operacional\", tone: \"success\" },\n      { id: \"kpi-3\", label: \"SLAs estourados\", value: \"14\", subtext: \"requer ação imediata\", tone: \"warning\" },\n    ],\n    table: {\n      columns: [\"Tipo\", \"Executadas\", \"Pendentes\", \"SLA estourado\"],\n      rows: [\n        { label: \"Ligação\", values: [\"142\", \"18\", \"4\"] },\n        { label: \"Reunião\", values: [\"86\", \"9\", \"2\"] },\n        { label: \"E-mail\", values: [\"118\", \"14\", \"3\"] },\n        { label: \"Follow-up\", values: [\"96\", \"11\", \"4\"] },\n        { label: \"WhatsApp\", values: [\"74\", \"7\", \"1\"] },\n      ],\n    },\n    sentence: \"A operação mantém volume alto, mas o SLA estourado se concentra em follow-ups.\",\n    findings: [\n      \"Follow-up concentra 29% dos atrasos operacionais.\",\n      \"Ligação tem maior volume e menor taxa de cancelamento.\",\n      \"Equipe de manhã executa 18% mais atividades no prazo.\",\n    ],\n    anomalies: [\n      \"Pico de pendências às sextas após 16h.\",\n      \"Reuniões canceladas subiram 22% na semana.\",\n    ],\n    questions: [\n      \"Quais responsáveis acumulam mais follow-ups estourados?\",\n      \"Como redistribuir agenda para reduzir gargalo do fim do dia?\",\n      \"Quais tipos puxam mais conversão real no funil?\",\n    ],\n    recommendations: [\n      {\n        id: \"activities-sla\",\n        label: \"Mostrar apenas SLAs estourados\",\n        patch: { status: \"SLA estourado\" },\n        result: \"Filtro aplicado: apenas SLAs estourados.\",\n      },\n      {\n        id: \"activities-owner\",\n        label: \"Filtrar responsável Fernanda Reis\",\n        patch: { owner: \"Fernanda Reis\" },\n        result: \"Filtro aplicado: responsável Fernanda Reis.\",\n      },\n      {\n        id: \"activities-segment\",\n        label: \"Filtrar segmento SMB\",\n        patch: { segment: \"SMB\" },\n        result: \"Filtro aplicado: segmento SMB.\",\n      },\n    ],\n  },\n  \"monthly-revenue\": {\n    chartTitle: \"Receita mensal x meta\",\n    chart: [\n      { label: \"Set\", value: 185 },\n      { label: \"Out\", value: 210 },\n      { label: \"Nov\", value: 198 },\n      { label: \"Dez\", value: 265 },\n      { label: \"Jan\", value: 240 },\n      { label: \"Fev\", value: 215 },\n    ],\n    kpis: [\n      { id: \"kpi-1\", label: \"Receita atual\", value: \"R$ 215k\", subtext: \"mês corrente\", tone: \"info\" },\n      { id: \"kpi-2\", label: \"Atingimento\", value: \"72%\", subtext: \"meta mensal\", tone: \"warning\" },\n      { id: \"kpi-3\", label: \"Variação mês\", value: \"-10%\", subtext: \"vs mês anterior\", tone: \"warning\" },\n    ],\n    table: {\n      columns: [\"Mês\", \"Receita\", \"Meta\", \"Atingimento\"],\n      rows: [\n        { label: \"Setembro\", values: [\"R$ 185.000\", \"R$ 200.000\", \"93%\"] },\n        { label: \"Outubro\", values: [\"R$ 210.000\", \"R$ 220.000\", \"95%\"] },\n        { label: \"Novembro\", values: [\"R$ 198.000\", \"R$ 250.000\", \"79%\"] },\n        { label: \"Dezembro\", values: [\"R$ 265.000\", \"R$ 280.000\", \"95%\"] },\n        { label: \"Janeiro\", values: [\"R$ 240.000\", \"R$ 300.000\", \"80%\"] },\n        { label: \"Fevereiro\", values: [\"R$ 215.000\", \"R$ 300.000\", \"72%\"] },\n      ],\n    },\n    sentence: \"A receita segue abaixo da meta no mês atual, com desaceleração na última quinzena.\",\n    findings: [\n      \"Atingimento atual está 8 pontos abaixo do ritmo necessário.\",\n      \"Receita enterprise caiu enquanto SMB manteve volume estável.\",\n      \"Conversão de propostas acima de R$ 20k reduziu no período.\",\n    ],\n    anomalies: [\n      \"Queda abrupta de fechamento após dia 10.\",\n      \"Ticket médio caiu 14% em contas novas.\",\n    ],\n    questions: [\n      \"Quais negociações podem fechar até sexta-feira?\",\n      \"Onde ajustar desconto para manter margem e fechar mais rápido?\",\n      \"Como proteger receita recorrente do próximo mês?\",\n    ],\n    recommendations: [\n      {\n        id: \"revenue-segment\",\n        label: \"Filtrar segmento Enterprise\",\n        patch: { segment: \"Enterprise\" },\n        result: \"Filtro aplicado: segmento Enterprise.\",\n      },\n      {\n        id: \"revenue-status\",\n        label: \"Ver apenas propostas abertas\",\n        patch: { status: \"Proposta\" },\n        result: \"Filtro aplicado: propostas abertas.\",\n      },\n      {\n        id: \"revenue-owner\",\n        label: \"Filtrar responsável Pedro Alves\",\n        patch: { owner: \"Pedro Alves\" },\n        result: \"Filtro aplicado: responsável Pedro Alves.\",\n      },\n    ],\n  },\n  \"health-score-overview\": {\n    chartTitle: \"Distribuição de health score\",\n    chart: [\n      { label: \"Saudável\", value: 42 },\n      { label: \"Atenção\", value: 15 },\n      { label: \"Crítico\", value: 7 },\n      { label: \"Churn\", value: 1 },\n    ],\n    kpis: [\n      { id: \"kpi-1\", label: \"Saudáveis\", value: \"42\", subtext: \"65% da carteira\", tone: \"success\" },\n      { id: \"kpi-2\", label: \"Em atenção\", value: \"15\", subtext: \"23% da carteira\", tone: \"warning\" },\n      { id: \"kpi-3\", label: \"Críticos\", value: \"7\", subtext: \"prioridade de retenção\", tone: \"warning\" },\n    ],\n    table: {\n      columns: [\"Categoria\", \"Clientes\", \"% da carteira\", \"Tendência\"],\n      rows: [\n        { label: \"Saudável\", values: [\"42\", \"65%\", \"+5%\"] },\n        { label: \"Atenção\", values: [\"15\", \"23%\", \"-2%\"] },\n        { label: \"Crítico\", values: [\"7\", \"11%\", \"-1%\"] },\n        { label: \"Churn\", values: [\"1\", \"1%\", \"0%\"] },\n      ],\n    },\n    sentence: \"A carteira está saudável, porém os clientes críticos exigem plano de retenção imediato.\",\n    findings: [\n      \"Clientes em atenção reduziram em comparação à semana anterior.\",\n      \"Grupo crítico concentra contas com 20+ dias sem interação.\",\n      \"Equipe CS com menor carga tem melhor recuperação de health score.\",\n    ],\n    anomalies: [\n      \"Dois clientes premium migraram de saudável para atenção em 3 dias.\",\n      \"Conta crítica sem atividade registrada na semana.\",\n    ],\n    questions: [\n      \"Quais clientes críticos estão sem contato recente?\",\n      \"Quais ações reduziram churn no último trimestre?\",\n      \"Que responsáveis precisam de plano de retenção imediato?\",\n    ],\n    recommendations: [\n      {\n        id: \"health-critical\",\n        label: \"Mostrar apenas clientes críticos\",\n        patch: { status: \"Crítico\" },\n        result: \"Filtro aplicado: clientes críticos.\",\n      },\n      {\n        id: \"health-owner\",\n        label: \"Filtrar responsável Julia Mendes\",\n        patch: { owner: \"Julia Mendes\" },\n        result: \"Filtro aplicado: responsável Julia Mendes.\",\n      },\n      {\n        id: \"health-segment\",\n        label: \"Filtrar segmento Mid-Market\",\n        patch: { segment: \"Mid-Market\" },\n        result: \"Filtro aplicado: segmento Mid-Market.\",\n      },\n    ],\n  },\n  \"sla-compliance\": {\n    chartTitle: \"Compliance de SLA por etapa\",\n    chart: [\n      { label: \"Lead-In\", value: 83 },\n      { label: \"Contato\", value: 88 },\n      { label: \"Reunião\", value: 80 },\n      { label: \"Proposta\", value: 71 },\n      { label: \"Negociação\", value: 67 },\n      { label: \"Fechamento\", value: 100 },\n    ],\n    kpis: [\n      { id: \"kpi-1\", label: \"SLA no prazo\", value: \"81%\", subtext: \"média do funil\", tone: \"success\" },\n      { id: \"kpi-2\", label: \"Próximo do limite\", value: \"11%\", subtext: \"itens em risco\", tone: \"warning\" },\n      { id: \"kpi-3\", label: \"Estourados\", value: \"8%\", subtext: \"prioridade operacional\", tone: \"warning\" },\n    ],\n    table: {\n      columns: [\"Etapa\", \"No prazo\", \"Em risco\", \"Estourado\"],\n      rows: [\n        { label: \"Lead-In\", values: [\"83%\", \"9%\", \"8%\"] },\n        { label: \"Contato Feito\", values: [\"88%\", \"7%\", \"5%\"] },\n        { label: \"Reunião Agendada\", values: [\"80%\", \"10%\", \"10%\"] },\n        { label: \"Proposta Enviada\", values: [\"71%\", \"15%\", \"14%\"] },\n        { label: \"Negociação\", values: [\"67%\", \"19%\", \"14%\"] },\n        { label: \"Fechamento\", values: [\"100%\", \"0%\", \"0%\"] },\n      ],\n    },\n    sentence: \"As etapas de proposta e negociação concentram maior risco de estouro de SLA.\",\n    findings: [\n      \"Negociação acumula mais itens próximos do limite.\",\n      \"Fechamento mantém compliance total, sem exceções.\",\n      \"Equipe com menor backlog mantém SLA 12 pontos acima da média.\",\n    ],\n    anomalies: [\n      \"Aumento de estouro em proposta nas últimas 48h.\",\n      \"SLA de negociação caiu 6 pontos na semana.\",\n    ],\n    questions: [\n      \"Quais responsáveis concentram maior risco operacional?\",\n      \"Quais etapas precisam de reforço de cadência?\",\n      \"Como reduzir backlog sem sacrificar conversão?\",\n    ],\n    recommendations: [\n      {\n        id: \"sla-breached\",\n        label: \"Mostrar apenas SLAs estourados\",\n        patch: { status: \"SLA estourado\" },\n        result: \"Filtro aplicado: SLAs estourados.\",\n      },\n      {\n        id: \"sla-owner\",\n        label: \"Filtrar responsável Carlos Lima\",\n        patch: { owner: \"Carlos Lima\" },\n        result: \"Filtro aplicado: responsável Carlos Lima.\",\n      },\n      {\n        id: \"sla-stage\",\n        label: \"Ver etapa Proposta\",\n        patch: { status: \"Proposta\" },\n        result: \"Filtro aplicado: etapa Proposta.\",\n      },\n    ],\n  },\n};\n\nconst categoryChipStyle: Record<ReportCategory, string> = {\n  Vendas: \"border-blue-200 bg-blue-50 text-blue-700\",\n  Operacional: \"border-zinc-200 bg-zinc-100 text-zinc-700\",\n  Financeiro: \"border-emerald-200 bg-emerald-50 text-emerald-700\",\n  CS: \"border-violet-200 bg-violet-50 text-violet-700\",\n};\n\nconst kpiToneClass: Record<ReportKpi[\"tone\"], string> = {\n  neutral: \"border-zinc-200 bg-zinc-50 text-zinc-700\",\n  info: \"border-blue-200 bg-blue-50 text-blue-700\",\n  warning: \"border-amber-200 bg-amber-50 text-amber-700\",\n  success: \"border-emerald-200 bg-emerald-50 text-emerald-700\",\n};\n\nfunction getReportById(reportId: string | null) {\n  return REPORTS.find((report) => report.id === reportId) ?? null;\n}\n\nfunction buildExportRows(template: ReportTemplate) {\n  return template.table.rows.map((row) => {\n    const rowData: Record<string, string> = {\n      [template.table.columns[0]]: row.label,\n    };\n    row.values.forEach((value, index) => {\n      rowData[template.table.columns[index + 1]] = value;\n    });\n    return rowData;\n  });\n}\n\nfunction buildSummaryText(\n  report: ReportDefinition,\n  template: ReportTemplate,\n  filters: BuilderFilters\n) {\n  return [\n    `Relatório: ${report.title}`,\n    `Período: ${filters.period}`,\n    `Funil: ${filters.pipeline}`,\n    `Responsável: ${filters.owner}`,\n    `Status: ${filters.status}`,\n    `Segmento: ${filters.segment}`,\n    `Resumo: ${template.sentence}`,\n  ].join(\"\\n\");\n}\n\nexport default function ReportsPage() {\n  const [isLoading, setIsLoading] = useState(true);\n  const [searchInput, setSearchInput] = useState(\"\");\n  const [searchQuery, setSearchQuery] = useState(\"\");\n  const [categoryFilter, setCategoryFilter] = useState<CategoryFilter>(\"Todos\");\n  const [statusFilter, setStatusFilter] = useState<StatusFilter>(\"all\");\n  const [selectedReportId, setSelectedReportId] = useState<string | null>(null);\n  const [favoriteReportIds, setFavoriteReportIds] = useState<Set<string>>(\n    () => new Set([\"pipeline-performance\", \"monthly-revenue\"])\n  );\n  const [history, setHistory] = useState<HistoryEntry[]>([]);\n  const [builderFilters, setBuilderFilters] = useState<BuilderFilters>({\n    period: \"Últimos 30 dias\",\n    pipeline: \"Leads\",\n    owner: \"Todos\",\n    status: \"Todos\",\n    segment: \"Todos\",\n  });\n  const [isGenerating, setIsGenerating] = useState(false);\n  const [generatedReportId, setGeneratedReportId] = useState<string | null>(null);\n  const [generatedCycle, setGeneratedCycle] = useState(0);\n  const [pageFeedback, setPageFeedback] = useState<FeedbackState | null>(null);\n  const [exportFeedback, setExportFeedback] = useState<FeedbackState | null>(null);\n  const [exportLoading, setExportLoading] = useState<\"csv\" | \"pdf\" | \"excel\" | \"copy\" | null>(null);\n  const [runningRecommendationId, setRunningRecommendationId] = useState<string | null>(null);\n  const [recommendationResult, setRecommendationResult] = useState<string | null>(null);\n  const [isIntelligenceOpen, setIsIntelligenceOpen] = useState(false);\n  const [runningIntelCommand, setRunningIntelCommand] = useState<string | null>(null);\n  const [intelCommandResult, setIntelCommandResult] = useState<string | null>(null);\n  const [isLibraryOpen, setIsLibraryOpen] = useState(false);\n  const [mobileStep, setMobileStep] = useState<MobileStep>(\"configure\");\n  const [isDesktopLibrary, setIsDesktopLibrary] = useState(false);\n  const [isDesktopXL, setIsDesktopXL] = useState(false);\n  const [isMobile, setIsMobile] = useState(false);\n  const [libraryError, setLibraryError] = useState(false);\n  const [builderError, setBuilderError] = useState(false);\n  const [highlightCardId, setHighlightCardId] = useState<string | null>(null);\n\n  const autoOpenRailRef = useRef(false);\n\n  useEffect(() => {\n    const timer = window.setTimeout(() => setIsLoading(false), 720);\n    return () => window.clearTimeout(timer);\n  }, []);\n\n  useEffect(() => {\n    const timer = window.setTimeout(() => setSearchQuery(searchInput.trim()), 250);\n    return () => window.clearTimeout(timer);\n  }, [searchInput]);\n\n  useEffect(() => {\n    if (typeof window === \"undefined\") return;\n    const desktopQuery = window.matchMedia(\"(min-width: 1024px)\");\n    const xlQuery = window.matchMedia(\"(min-width: 1280px)\");\n    const mobileQuery = window.matchMedia(\"(max-width: 767px)\");\n\n    const syncMedia = () => {\n      setIsDesktopLibrary(desktopQuery.matches);\n      setIsDesktopXL(xlQuery.matches);\n      setIsMobile(mobileQuery.matches);\n\n      if (desktopQuery.matches) {\n        setIsLibraryOpen(false);\n      }\n\n      if (mobileQuery.matches) {\n        setMobileStep(\"configure\");\n      }\n\n      if (xlQuery.matches && !autoOpenRailRef.current) {\n        setIsIntelligenceOpen(true);\n        autoOpenRailRef.current = true;\n      }\n\n      if (!xlQuery.matches) {\n        setIsIntelligenceOpen(false);\n      }\n    };\n\n    syncMedia();\n    desktopQuery.addEventListener(\"change\", syncMedia);\n    xlQuery.addEventListener(\"change\", syncMedia);\n    mobileQuery.addEventListener(\"change\", syncMedia);\n\n    return () => {\n      desktopQuery.removeEventListener(\"change\", syncMedia);\n      xlQuery.removeEventListener(\"change\", syncMedia);\n      mobileQuery.removeEventListener(\"change\", syncMedia);\n    };\n  }, []);\n\n  useEffect(() => {\n    if (!pageFeedback) return;\n    const timer = window.setTimeout(() => setPageFeedback(null), 2200);\n    return () => window.clearTimeout(timer);\n  }, [pageFeedback]);\n\n  useEffect(() => {\n    if (!exportFeedback) return;\n    const timer = window.setTimeout(() => setExportFeedback(null), 2200);\n    return () => window.clearTimeout(timer);\n  }, [exportFeedback]);\n\n  useEffect(() => {\n    if (!recommendationResult) return;\n    const timer = window.setTimeout(() => setRecommendationResult(null), 1200);\n    return () => window.clearTimeout(timer);\n  }, [recommendationResult]);\n\n  useEffect(() => {\n    if (!intelCommandResult) return;\n    const timer = window.setTimeout(() => setIntelCommandResult(null), 1200);\n    return () => window.clearTimeout(timer);\n  }, [intelCommandResult]);\n\n  useEffect(() => {\n    if (!highlightCardId) return;\n    const timer = window.setTimeout(() => setHighlightCardId(null), 1200);\n    return () => window.clearTimeout(timer);\n  }, [highlightCardId]);\n\n  const selectedReport = useMemo(\n    () => getReportById(selectedReportId),\n    [selectedReportId]\n  );\n\n  const selectedTemplate = useMemo(\n    () => (selectedReportId ? REPORT_TEMPLATES[selectedReportId] : null),\n    [selectedReportId]\n  );\n\n  const uniqueRecentIds = useMemo(() => {\n    const ids: string[] = [];\n    for (const item of history) {\n      if (!ids.includes(item.reportId)) ids.push(item.reportId);\n      if (ids.length === 6) break;\n    }\n    return ids;\n  }, [history]);\n\n  const recentReports = useMemo(\n    () =>\n      uniqueRecentIds\n        .map((id) => REPORTS.find((report) => report.id === id))\n        .filter((report): report is ReportDefinition => Boolean(report)),\n    [uniqueRecentIds]\n  );\n\n  const filteredReports = useMemo(() => {\n    return REPORTS.filter((report) => {\n      if (categoryFilter !== \"Todos\" && report.category !== categoryFilter) return false;\n      if (statusFilter === \"favorites\" && !favoriteReportIds.has(report.id)) return false;\n      if (statusFilter === \"recent\" && !uniqueRecentIds.includes(report.id)) return false;\n      if (searchQuery) {\n        const q = searchQuery.toLowerCase();\n        const inTitle = report.title.toLowerCase().includes(q);\n        const inDescription = report.description.toLowerCase().includes(q);\n        const inTags = report.tags.some((tag) => tag.toLowerCase().includes(q));\n        if (!inTitle && !inDescription && !inTags) return false;\n      }\n      return true;\n    });\n  }, [categoryFilter, favoriteReportIds, searchQuery, statusFilter, uniqueRecentIds]);\n\n  const historyEntries = useMemo(() => {\n    return history\n      .map((entry) => {\n        const report = REPORTS.find((item) => item.id === entry.reportId);\n        if (!report) return null;\n        return {\n          ...entry,\n          title: report.title,\n        };\n      })\n      .filter((entry): entry is HistoryEntry & { title: string } => Boolean(entry));\n  }, [history]);\n\n  const hasDataForCurrentFilters = useMemo(() => {\n    if (!selectedReportId) return true;\n    if (selectedReportId === \"monthly-revenue\" && builderFilters.segment === \"Inativo\") {\n      return false;\n    }\n    if (selectedReportId === \"sla-compliance\" && builderFilters.status === \"Sem dados\") {\n      return false;\n    }\n    return true;\n  }, [builderFilters.segment, builderFilters.status, selectedReportId]);\n\n  const activeFilterChips = useMemo(() => {\n    const chips: Array<{ id: string; label: string; onClear?: () => void }> = [];\n    if (categoryFilter !== \"Todos\") {\n      chips.push({\n        id: \"category\",\n        label: `Categoria: ${categoryFilter}`,\n        onClear: () => setCategoryFilter(\"Todos\"),\n      });\n    }\n    if (statusFilter === \"favorites\") {\n      chips.push({\n        id: \"status-favorites\",\n        label: \"Favoritos\",\n        onClear: () => setStatusFilter(\"all\"),\n      });\n    }\n    if (statusFilter === \"recent\") {\n      chips.push({\n        id: \"status-recent\",\n        label: \"Recentes\",\n        onClear: () => setStatusFilter(\"all\"),\n      });\n    }\n    if (searchQuery) {\n      chips.push({\n        id: \"search\",\n        label: `Busca: ${searchQuery}`,\n        onClear: () => {\n          setSearchInput(\"\");\n          setSearchQuery(\"\");\n        },\n      });\n    }\n    return chips;\n  }, [categoryFilter, searchQuery, statusFilter]);\n\n  const selectReport = useCallback((reportId: string) => {\n    setSelectedReportId(reportId);\n    setHighlightCardId(reportId);\n    if (isMobile) setMobileStep(\"configure\");\n    if (!isDesktopLibrary) setIsLibraryOpen(false);\n  }, [isDesktopLibrary, isMobile]);\n\n  const toggleFavorite = useCallback((reportId: string) => {\n    setFavoriteReportIds((prev) => {\n      const next = new Set(prev);\n      if (next.has(reportId)) next.delete(reportId);\n      else next.add(reportId);\n      return next;\n    });\n  }, []);\n\n  const generateReport = useCallback((reportId?: string) => {\n    const targetReportId = reportId ?? selectedReportId;\n    if (!targetReportId) return;\n\n    if (reportId) {\n      selectReport(reportId);\n    }\n\n    setGeneratedReportId(null);\n    setIsGenerating(true);\n    setBuilderError(false);\n\n    window.setTimeout(() => {\n      const nextIndex = (history.length + generatedCycle) % HISTORY_TIMESTAMPS.length;\n      setIsGenerating(false);\n      setGeneratedReportId(targetReportId);\n      setGeneratedCycle((current) => current + 1);\n      setHistory((prev) => [\n        { reportId: targetReportId, generatedAt: HISTORY_TIMESTAMPS[nextIndex] },\n        ...prev,\n      ]);\n      setPageFeedback({\n        type: \"success\",\n        message: \"Relatório gerado com sucesso.\",\n      });\n      if (isMobile) setMobileStep(\"visualize\");\n    }, 900);\n  }, [generatedCycle, history.length, isMobile, selectReport, selectedReportId]);\n\n  const runExport = useCallback(\n    async (type: \"csv\" | \"pdf\" | \"excel\" | \"copy\") => {\n      if (!selectedReport || !selectedTemplate) return;\n\n      setExportLoading(type);\n      window.setTimeout(async () => {\n        try {\n          if (type === \"copy\") {\n            if (typeof navigator === \"undefined\" || !navigator.clipboard) {\n              throw new Error(\"clipboard unavailable\");\n            }\n            await navigator.clipboard.writeText(\n              buildSummaryText(selectedReport, selectedTemplate, builderFilters)\n            );\n            setExportFeedback({ type: \"success\", message: \"Resumo copiado.\" });\n            setExportLoading(null);\n            return;\n          }\n\n          const rows = buildExportRows(selectedTemplate);\n          const fileName = `relatorio-${selectedReport.id}`;\n          if (type === \"csv\") exportToCSV(rows, fileName);\n          if (type === \"pdf\") exportToPDF(rows, fileName, selectedReport.title);\n          if (type === \"excel\") exportToExcel(rows, fileName);\n\n          setExportFeedback({\n            type: \"success\",\n            message: `Exportado em ${type.toUpperCase()}.`,\n          });\n        } catch {\n          setExportFeedback({\n            type: \"error\",\n            message: \"Falha ao exportar. Tente novamente.\",\n          });\n        } finally {\n          setExportLoading(null);\n        }\n      }, 180);\n    },\n    [builderFilters, selectedReport, selectedTemplate]\n  );\n\n  const applyRecommendation = useCallback((recommendation: ReportRecommendation) => {\n    setRunningRecommendationId(recommendation.id);\n    window.setTimeout(() => {\n      setBuilderFilters((current) => ({ ...current, ...recommendation.patch }));\n      setRunningRecommendationId(null);\n      setRecommendationResult(recommendation.result);\n    }, 180);\n  }, []);\n\n  const runIntelCommand = useCallback(\n    (commandId: string, result: string, callback?: () => void) => {\n      setRunningIntelCommand(commandId);\n      window.setTimeout(() => {\n        callback?.();\n        setRunningIntelCommand(null);\n        setIntelCommandResult(result);\n      }, 220);\n    },\n    []\n  );\n\n  const openQuickReport = useCallback(\n    (reportId: string) => {\n      selectReport(reportId);\n      setGeneratedReportId(null);\n    },\n    [selectReport]\n  );\n\n  const openHistoryEntry = useCallback((reportId: string) => {\n    selectReport(reportId);\n    setGeneratedReportId(reportId);\n    if (isMobile) setMobileStep(\"visualize\");\n  }, [isMobile, selectReport]);\n\n  const clearAllFilters = useCallback(() => {\n    setCategoryFilter(\"Todos\");\n    setStatusFilter(\"all\");\n    setSearchInput(\"\");\n    setSearchQuery(\"\");\n  }, []);\n\n  const openReportsLibrary = useCallback(() => {\n    clearAllFilters();\n    setSelectedReportId(null);\n    setGeneratedReportId(null);\n    setHighlightCardId(null);\n    if (!isDesktopLibrary) setIsLibraryOpen(true);\n  }, [clearAllFilters, isDesktopLibrary]);\n\n  if (isLoading) {\n    return <ReportsPageSkeleton />;\n  }\n\n  return (\n    <TooltipProvider>\n      <motion.div\n        initial={{ opacity: 0, y: 6 }}\n        animate={{ opacity: 1, y: 0 }}\n        transition={{ duration: 0.18, ease: [0.25, 0.46, 0.45, 0.94] }}\n        className=\"flex h-[calc(100dvh-2rem)] min-h-0 w-full max-w-full flex-col gap-4\"\n      >\n        {pageFeedback ? (\n          <InlineFeedback\n            type={pageFeedback.type}\n            message={pageFeedback.message}\n            compact\n            onClose={() => setPageFeedback(null)}\n          />\n        ) : null}\n\n        <motion.div\n          initial={{ opacity: 0, y: 6 }}\n          animate={{ opacity: 1, y: 0 }}\n          transition={{ duration: 0.16, delay: 0.02, ease: \"easeOut\" }}\n          className=\"shrink-0\"\n        >\n          <ModuleCommandHeader\n            title=\"Relatórios\"\n            description=\"Gere, exporte e interprete dados do CRM\"\n            chips={activeFilterChips.map((chip) => ({\n              id: chip.id,\n              label: chip.label,\n              tone: \"info\" as const,\n              onClick: chip.onClear,\n            }))}\n            actions={\n              <div className=\"flex w-full min-w-0 flex-wrap items-center gap-2 xl:justify-end\">\n                <Popover>\n                  <PopoverTrigger asChild>\n                    <Button variant=\"outline\" size=\"sm\" className=\"h-9 rounded-full\">\n                      <History className=\"h-3.5 w-3.5\" />\n                      Histórico\n                    </Button>\n                  </PopoverTrigger>\n                  <PopoverContent align=\"end\" className=\"w-[min(92vw,340px)] rounded-[14px] border-zinc-200 bg-white p-3\">\n                    <p className=\"text-xs font-semibold uppercase tracking-[0.08em] text-zinc-500\">\n                      Últimos relatórios\n                    </p>\n                    <div className=\"mt-2 space-y-2\">\n                      {historyEntries.length > 0 ? (\n                        historyEntries.slice(0, 8).map((entry, index) => (\n                          <button\n                            key={`${entry.reportId}-${entry.generatedAt}-${index}`}\n                            type=\"button\"\n                            onClick={() => openHistoryEntry(entry.reportId)}\n                            className=\"flex w-full items-center justify-between rounded-[10px] border border-zinc-200 bg-zinc-50/80 px-2.5 py-2 text-left text-xs transition-colors hover:bg-zinc-100\"\n                          >\n                            <span className=\"truncate pr-2 text-zinc-700\">{entry.title}</span>\n                            <span className=\"text-zinc-500\">{entry.generatedAt}</span>\n                          </button>\n                        ))\n                      ) : (\n                        <div className=\"rounded-[10px] border border-dashed border-zinc-200 bg-zinc-50 p-3 text-xs text-zinc-500\">\n                          Ainda não há relatórios gerados.\n                        </div>\n                      )}\n                    </div>\n                  </PopoverContent>\n                </Popover>\n\n              </div>\n            }\n          >\n            <div className=\"flex w-full flex-col gap-2 lg:flex-row lg:items-center lg:justify-between\">\n              <div className=\"flex flex-wrap items-center gap-2\">\n                {([\"Todos\", \"Vendas\", \"Operacional\", \"Financeiro\", \"CS\"] as CategoryFilter[]).map(\n                  (category) => (\n                    <button\n                      key={category}\n                      type=\"button\"\n                      onClick={() => setCategoryFilter(category)}\n                      className={cn(\n                        \"inline-flex h-8 items-center rounded-full border px-3 text-xs font-medium transition-colors duration-120\",\n                        categoryFilter === category\n                          ? \"border-zinc-300 bg-white text-zinc-900\"\n                          : \"border-zinc-200 bg-white/90 text-zinc-600 hover:bg-zinc-50\"\n                      )}\n                    >\n                      {category}\n                    </button>\n                  )\n                )}\n\n                <span className=\"ml-1 text-xs font-medium text-zinc-500\">Status:</span>\n                <button\n                  type=\"button\"\n                  onClick={() =>\n                    setStatusFilter((current) => (current === \"favorites\" ? \"all\" : \"favorites\"))\n                  }\n                  className={cn(\n                    \"inline-flex h-8 items-center gap-1.5 rounded-full border px-3 text-xs font-medium transition-colors duration-120\",\n                    statusFilter === \"favorites\"\n                      ? \"border-amber-300 bg-amber-50 text-amber-700\"\n                      : \"border-zinc-200 bg-white/90 text-zinc-600 hover:bg-zinc-50\"\n                  )}\n                >\n                  <Star className=\"h-3.5 w-3.5\" />\n                  Favoritos\n                </button>\n                <button\n                  type=\"button\"\n                  onClick={() =>\n                    setStatusFilter((current) => (current === \"recent\" ? \"all\" : \"recent\"))\n                  }\n                  className={cn(\n                    \"inline-flex h-8 items-center gap-1.5 rounded-full border px-3 text-xs font-medium transition-colors duration-120\",\n                    statusFilter === \"recent\"\n                      ? \"border-blue-300 bg-blue-50 text-blue-700\"\n                      : \"border-zinc-200 bg-white/90 text-zinc-600 hover:bg-zinc-50\"\n                  )}\n                >\n                  <History className=\"h-3.5 w-3.5\" />\n                  Recentes\n                </button>\n              </div>\n\n              <div className=\"flex min-w-0 flex-wrap items-center gap-2 lg:justify-end\">\n                <div className=\"group relative min-w-[220px] flex-1 max-w-[360px]\">\n                  <Search className=\"pointer-events-none absolute left-2.5 top-1/2 h-3.5 w-3.5 -translate-y-1/2 text-zinc-400\" />\n                  <Input\n                    value={searchInput}\n                    onChange={(event) => setSearchInput(event.target.value)}\n                    placeholder=\"Buscar relatórios\"\n                    className=\"h-9 rounded-full pl-8 pr-8 text-sm\"\n                  />\n                  {searchInput ? (\n                    <button\n                      type=\"button\"\n                      onClick={() => {\n                        setSearchInput(\"\");\n                        setSearchQuery(\"\");\n                      }}\n                      className=\"absolute right-2.5 top-1/2 -translate-y-1/2 text-zinc-400 transition-opacity hover:text-zinc-700 sm:opacity-0 sm:group-hover:opacity-100\"\n                      aria-label=\"Limpar busca\"\n                    >\n                      <X className=\"h-3.5 w-3.5\" />\n                    </button>\n                  ) : null}\n                </div>\n\n                {!isDesktopLibrary ? (\n                  <Button\n                    variant=\"outline\"\n                    size=\"sm\"\n                    className=\"h-9 rounded-full\"\n                    onClick={() => setIsLibraryOpen(true)}\n                  >\n                    <Filter className=\"h-3.5 w-3.5\" />\n                    Biblioteca\n                  </Button>\n                ) : null}\n\n                {activeFilterChips.length > 0 ? (\n                  <Button\n                    variant=\"ghost\"\n                    size=\"sm\"\n                    className=\"h-9 rounded-full text-xs text-zinc-500 hover:text-zinc-900\"\n                    onClick={clearAllFilters}\n                  >\n                    Limpar filtros\n                  </Button>\n                ) : null}\n              </div>\n            </div>\n          </ModuleCommandHeader>\n        </motion.div>\n\n        <motion.div\n          initial={{ opacity: 0, y: 6 }}\n          animate={{ opacity: 1, y: 0 }}\n          transition={{ duration: 0.16, delay: 0.05, ease: \"easeOut\" }}\n          className=\"min-h-0 flex-1\"\n        >\n          <div\n            className={cn(\n              \"grid h-full min-h-0 gap-4\",\n              isDesktopLibrary\n                ? \"grid-cols-[minmax(320px,0.4fr)_minmax(0,0.6fr)]\"\n                : \"grid-cols-1\"\n            )}\n          >\n            {isDesktopLibrary ? (\n              <ReportsLibraryPanel\n                reports={filteredReports}\n                selectedReportId={selectedReportId}\n                favoriteReportIds={favoriteReportIds}\n                recentReports={recentReports}\n                libraryError={libraryError}\n                onRetry={() => setLibraryError(false)}\n                onSelect={selectReport}\n                onToggleFavorite={toggleFavorite}\n                onGenerate={(reportId) => generateReport(reportId)}\n                onPreview={selectReport}\n                highlightCardId={highlightCardId}\n              />\n            ) : null}\n\n            <div className=\"min-h-0 min-w-0 overflow-hidden rounded-[20px] border border-zinc-200/80 bg-white/82 shadow-[0_16px_32px_-28px_rgba(15,23,42,0.45)]\">\n              <div className=\"flex h-full min-h-0 min-w-0 gap-3 p-3\">\n                <div className=\"min-h-0 min-w-0 flex-1 overflow-y-auto pr-1\">\n                  {!selectedReport || !selectedTemplate ? (\n                    <ReportBuilderEmptyState\n                      onOpenQuickReport={openQuickReport}\n                      onOpenLibrary={openReportsLibrary}\n                    />\n                  ) : (\n                    <div className=\"space-y-3 pb-3\">\n                      {builderError ? (\n                        <SectionError\n                          message=\"Falha ao gerar visualização do relatório.\"\n                          onRetry={() => setBuilderError(false)}\n                        />\n                      ) : null}\n\n                      {isMobile ? (\n                        <div className=\"inline-flex h-9 items-center rounded-full border border-zinc-200 bg-zinc-50/90 p-1\">\n                          <button\n                            type=\"button\"\n                            onClick={() => setMobileStep(\"configure\")}\n                            className={cn(\n                              \"h-7 rounded-full px-3 text-xs font-medium transition-colors duration-120\",\n                              mobileStep === \"configure\"\n                                ? \"bg-white text-zinc-900 shadow-sm\"\n                                : \"text-zinc-500 hover:text-zinc-900\"\n                            )}\n                          >\n                            Configurar\n                          </button>\n                          <button\n                            type=\"button\"\n                            onClick={() => setMobileStep(\"visualize\")}\n                            className={cn(\n                              \"h-7 rounded-full px-3 text-xs font-medium transition-colors duration-120\",\n                              mobileStep === \"visualize\"\n                                ? \"bg-white text-zinc-900 shadow-sm\"\n                                : \"text-zinc-500 hover:text-zinc-900\"\n                            )}\n                          >\n                            Visualizar\n                          </button>\n                        </div>\n                      ) : null}\n\n                      {!isMobile || mobileStep === \"configure\" ? (\n                        <section className=\"rounded-[16px] border border-zinc-200 bg-zinc-50/80 p-3\">\n                          <div className=\"mb-2 flex items-start justify-between gap-2\">\n                            <div>\n                              <h3 className=\"font-heading text-base font-semibold text-zinc-900\">\n                                Configurações do relatório\n                              </h3>\n                              <p className=\"text-xs text-zinc-500\">{selectedReport.title}</p>\n                            </div>\n                            <Button\n                              variant=\"ghost\"\n                              size=\"icon\"\n                              className=\"h-8 w-8 rounded-full text-zinc-500\"\n                              onClick={() => setSelectedReportId(null)}\n                              aria-label=\"Fechar relatório selecionado\"\n                            >\n                              <ChevronLeft className=\"h-4 w-4\" />\n                            </Button>\n                          </div>\n                          <div className=\"grid grid-cols-1 gap-2 md:grid-cols-2 xl:grid-cols-3\">\n                            <Select\n                              value={builderFilters.period}\n                              onValueChange={(value) =>\n                                setBuilderFilters((current) => ({ ...current, period: value }))\n                              }\n                            >\n                              <SelectTrigger className=\"h-9 rounded-[12px] bg-white\">\n                                <SelectValue placeholder=\"Período\" />\n                              </SelectTrigger>\n                              <SelectContent className=\"rounded-[12px]\">\n                                <SelectItem value=\"Últimos 7 dias\">Últimos 7 dias</SelectItem>\n                                <SelectItem value=\"Últimos 30 dias\">Últimos 30 dias</SelectItem>\n                                <SelectItem value=\"Este mês\">Este mês</SelectItem>\n                                <SelectItem value=\"Trimestre atual\">Trimestre atual</SelectItem>\n                                <SelectItem value=\"Ano atual\">Ano atual</SelectItem>\n                              </SelectContent>\n                            </Select>\n                            <Select\n                              value={builderFilters.pipeline}\n                              onValueChange={(value) =>\n                                setBuilderFilters((current) => ({ ...current, pipeline: value }))\n                              }\n                            >\n                              <SelectTrigger className=\"h-9 rounded-[12px] bg-white\">\n                                <SelectValue placeholder=\"Funil\" />\n                              </SelectTrigger>\n                              <SelectContent className=\"rounded-[12px]\">\n                                <SelectItem value=\"Leads\">Leads</SelectItem>\n                                <SelectItem value=\"Enterprise\">Enterprise</SelectItem>\n                                <SelectItem value=\"Inside Sales\">Inside Sales</SelectItem>\n                              </SelectContent>\n                            </Select>\n                            <Select\n                              value={builderFilters.owner}\n                              onValueChange={(value) =>\n                                setBuilderFilters((current) => ({ ...current, owner: value }))\n                              }\n                            >\n                              <SelectTrigger className=\"h-9 rounded-[12px] bg-white\">\n                                <SelectValue placeholder=\"Responsável\" />\n                              </SelectTrigger>\n                              <SelectContent className=\"rounded-[12px]\">\n                                <SelectItem value=\"Todos\">Todos</SelectItem>\n                                <SelectItem value=\"Ana Souza\">Ana Souza</SelectItem>\n                                <SelectItem value=\"Carlos Lima\">Carlos Lima</SelectItem>\n                                <SelectItem value=\"Fernanda Reis\">Fernanda Reis</SelectItem>\n                                <SelectItem value=\"Pedro Alves\">Pedro Alves</SelectItem>\n                                <SelectItem value=\"Julia Mendes\">Julia Mendes</SelectItem>\n                              </SelectContent>\n                            </Select>\n                            <Select\n                              value={builderFilters.status}\n                              onValueChange={(value) =>\n                                setBuilderFilters((current) => ({ ...current, status: value }))\n                              }\n                            >\n                              <SelectTrigger className=\"h-9 rounded-[12px] bg-white\">\n                                <SelectValue placeholder=\"Status\" />\n                              </SelectTrigger>\n                              <SelectContent className=\"rounded-[12px]\">\n                                <SelectItem value=\"Todos\">Todos</SelectItem>\n                                <SelectItem value=\"Proposta\">Proposta</SelectItem>\n                                <SelectItem value=\"Negociação\">Negociação</SelectItem>\n                                <SelectItem value=\"Fechado\">Fechado</SelectItem>\n                                <SelectItem value=\"Em risco\">Em risco</SelectItem>\n                                <SelectItem value=\"SLA estourado\">SLA estourado</SelectItem>\n                                <SelectItem value=\"Sem dados\">Sem dados</SelectItem>\n                              </SelectContent>\n                            </Select>\n                            <Select\n                              value={builderFilters.segment}\n                              onValueChange={(value) =>\n                                setBuilderFilters((current) => ({ ...current, segment: value }))\n                              }\n                            >\n                              <SelectTrigger className=\"h-9 rounded-[12px] bg-white\">\n                                <SelectValue placeholder=\"Segmento\" />\n                              </SelectTrigger>\n                              <SelectContent className=\"rounded-[12px]\">\n                                <SelectItem value=\"Todos\">Todos</SelectItem>\n                                <SelectItem value=\"SMB\">SMB</SelectItem>\n                                <SelectItem value=\"Mid-Market\">Mid-Market</SelectItem>\n                                <SelectItem value=\"Enterprise\">Enterprise</SelectItem>\n                                <SelectItem value=\"Inativo\">Inativo</SelectItem>\n                              </SelectContent>\n                            </Select>\n                          </div>\n                          <div className=\"mt-3 flex items-center justify-between gap-2\">\n                            <div className=\"text-xs text-zinc-500\">\n                              Ajuste os filtros e gere o relatório com preview.\n                            </div>\n                            <Button\n                              className=\"h-8 rounded-full bg-zinc-900 px-3 text-xs text-white hover:bg-zinc-800\"\n                              onClick={() => generateReport()}\n                              disabled={isGenerating}\n                            >\n                              {isGenerating ? (\n                                <span className=\"mr-1 h-3 w-3 animate-spin rounded-full border border-white border-t-transparent\" />\n                              ) : (\n                                <BarChart3 className=\"mr-1 h-3.5 w-3.5\" />\n                              )}\n                              Gerar relatório\n                            </Button>\n                          </div>\n                        </section>\n                      ) : null}\n\n                      {!isMobile || mobileStep === \"visualize\" ? (\n                        <>\n                          <section className=\"rounded-[16px] border border-zinc-200 bg-zinc-50/80 p-3\">\n                            <div className=\"mb-2\">\n                              <h3 className=\"font-heading text-base font-semibold text-zinc-900\">\n                                Preview do resultado\n                              </h3>\n                              <p className=\"text-xs text-zinc-500\">\n                                Gráfico principal, KPIs e tabela de suporte.\n                              </p>\n                            </div>\n\n                            {isGenerating ? (\n                              <ReportPreviewSkeleton />\n                            ) : generatedReportId === selectedReport.id ? (\n                              hasDataForCurrentFilters ? (\n                                <motion.div\n                                  key={`${selectedReport.id}-${generatedCycle}`}\n                                  initial={{ opacity: 0 }}\n                                  animate={{ opacity: 1 }}\n                                  transition={{ duration: 0.16, ease: \"easeOut\" }}\n                                  className=\"space-y-3\"\n                                >\n                                  <div className=\"rounded-[14px] border border-zinc-200 bg-white p-3\">\n                                    <div className=\"mb-2 flex items-center justify-between\">\n                                      <h4 className=\"text-sm font-semibold text-zinc-900\">\n                                        {selectedTemplate.chartTitle}\n                                      </h4>\n                                      <span className=\"text-[11px] text-zinc-500\">\n                                        {builderFilters.period}\n                                      </span>\n                                    </div>\n                                    <div className=\"space-y-2\">\n                                      {selectedTemplate.chart.map((point) => {\n                                        const max = Math.max(\n                                          ...selectedTemplate.chart.map((item) => item.value)\n                                        );\n                                        const width = max > 0 ? (point.value / max) * 100 : 0;\n                                        return (\n                                          <div key={point.label} className=\"space-y-1\">\n                                            <div className=\"flex items-center justify-between text-xs text-zinc-600\">\n                                              <span>{point.label}</span>\n                                              <span className=\"font-medium text-zinc-900\">\n                                                {point.value}\n                                              </span>\n                                            </div>\n                                            <div className=\"h-2 w-full overflow-hidden rounded-full bg-zinc-100\">\n                                              <div\n                                                className=\"h-full rounded-full bg-zinc-700 transition-[width] duration-240\"\n                                                style={{ width: `${width}%` }}\n                                              />\n                                            </div>\n                                          </div>\n                                        );\n                                      })}\n                                    </div>\n                                  </div>\n\n                                  <div className=\"grid grid-cols-1 gap-2 md:grid-cols-3\">\n                                    {selectedTemplate.kpis.map((kpi) => (\n                                      <div\n                                        key={kpi.id}\n                                        className=\"rounded-[12px] border border-zinc-200 bg-white p-2.5\"\n                                      >\n                                        <p className=\"text-[11px] uppercase tracking-[0.08em] text-zinc-500\">\n                                          {kpi.label}\n                                        </p>\n                                        <p className=\"mt-1 text-lg font-semibold text-zinc-900\">\n                                          {kpi.value}\n                                        </p>\n                                        <Badge\n                                          className={cn(\n                                            \"mt-1 rounded-full border px-2 py-0 text-[10px]\",\n                                            kpiToneClass[kpi.tone]\n                                          )}\n                                        >\n                                          {kpi.subtext}\n                                        </Badge>\n                                      </div>\n                                    ))}\n                                  </div>\n\n                                  <div className=\"max-h-[260px] overflow-auto rounded-[14px] border border-zinc-200 bg-white\">\n                                    <table className=\"w-full border-collapse\">\n                                      <thead className=\"sticky top-0 z-10 bg-zinc-50\">\n                                        <tr className=\"border-b border-zinc-200\">\n                                          {selectedTemplate.table.columns.map((column, index) => (\n                                            <th\n                                              key={column}\n                                              className={cn(\n                                                \"px-3 py-2 text-xs font-medium uppercase tracking-[0.05em] text-zinc-500\",\n                                                index === 0 ? \"text-left\" : \"text-right\"\n                                              )}\n                                            >\n                                              {column}\n                                            </th>\n                                          ))}\n                                        </tr>\n                                      </thead>\n                                      <tbody>\n                                        {selectedTemplate.table.rows.map((row) => (\n                                          <tr key={row.label} className=\"border-b border-zinc-100 hover:bg-zinc-50/70\">\n                                            <td className=\"px-3 py-2 text-sm font-medium text-zinc-900\">\n                                              {row.label}\n                                            </td>\n                                            {row.values.map((value, index) => (\n                                              <td\n                                                key={`${row.label}-${index}`}\n                                                className=\"px-3 py-2 text-right text-sm text-zinc-600\"\n                                              >\n                                                {value}\n                                              </td>\n                                            ))}\n                                          </tr>\n                                        ))}\n                                      </tbody>\n                                    </table>\n                                  </div>\n\n                                  <div className=\"rounded-[14px] border border-zinc-200 bg-white p-3\">\n                                    <p className=\"text-xs font-semibold uppercase tracking-[0.08em] text-zinc-500\">\n                                      Insights da Menux Intelligence\n                                    </p>\n                                    <p className=\"mt-1 text-sm text-zinc-700\">\n                                      {selectedTemplate.sentence}\n                                    </p>\n                                    <div className=\"mt-2 grid gap-2 md:grid-cols-2\">\n                                      <div className=\"rounded-[10px] border border-zinc-200 bg-zinc-50 p-2.5\">\n                                        <p className=\"text-[11px] font-semibold uppercase tracking-[0.08em] text-zinc-500\">\n                                          Achados\n                                        </p>\n                                        <ul className=\"mt-1 space-y-1 text-xs text-zinc-600\">\n                                          {selectedTemplate.findings.map((finding, index) => (\n                                            <li key={index} className=\"flex gap-1.5\">\n                                              <Check className=\"mt-0.5 h-3.5 w-3.5 text-zinc-500\" />\n                                              <span>{finding}</span>\n                                            </li>\n                                          ))}\n                                        </ul>\n                                      </div>\n                                      <div className=\"rounded-[10px] border border-zinc-200 bg-zinc-50 p-2.5\">\n                                        <p className=\"text-[11px] font-semibold uppercase tracking-[0.08em] text-zinc-500\">\n                                          Ações recomendadas\n                                        </p>\n                                        <div className=\"mt-1 space-y-1.5\">\n                                          {selectedTemplate.recommendations.map((recommendation) => (\n                                            <Button\n                                              key={recommendation.id}\n                                              size=\"sm\"\n                                              variant=\"outline\"\n                                              className=\"h-7 w-full justify-start rounded-full text-[11px]\"\n                                              onClick={() => applyRecommendation(recommendation)}\n                                              disabled={runningRecommendationId === recommendation.id}\n                                            >\n                                              {runningRecommendationId === recommendation.id ? (\n                                                <span className=\"mr-1 h-3 w-3 animate-spin rounded-full border border-zinc-500 border-t-transparent\" />\n                                              ) : (\n                                                <Sparkles className=\"mr-1 h-3.5 w-3.5 text-zinc-500\" />\n                                              )}\n                                              {recommendation.label}\n                                            </Button>\n                                          ))}\n                                        </div>\n                                      </div>\n                                    </div>\n                                    {recommendationResult ? (\n                                      <div className=\"mt-2 inline-flex rounded-full border border-emerald-200 bg-emerald-50 px-2 py-0.5 text-[11px] text-emerald-700\">\n                                        {recommendationResult}\n                                      </div>\n                                    ) : null}\n                                  </div>\n                                </motion.div>\n                              ) : (\n                                <div className=\"flex min-h-[240px] flex-col items-center justify-center rounded-[14px] border border-dashed border-zinc-200 bg-white p-4 text-center\">\n                                  <p className=\"font-medium text-zinc-900\">Sem dados no período</p>\n                                  <p className=\"mt-1 text-sm text-zinc-500\">\n                                    Ajuste filtros e gere novamente o relatório.\n                                  </p>\n                                  <Button\n                                    variant=\"outline\"\n                                    size=\"sm\"\n                                    className=\"mt-3 rounded-full\"\n                                    onClick={() =>\n                                      setBuilderFilters((current) => ({\n                                        ...current,\n                                        segment: \"Todos\",\n                                        status: \"Todos\",\n                                      }))\n                                    }\n                                  >\n                                    Voltar para configurações\n                                  </Button>\n                                </div>\n                              )\n                            ) : (\n                              <div className=\"flex min-h-[240px] flex-col items-center justify-center rounded-[14px] border border-dashed border-zinc-200 bg-white p-4 text-center\">\n                                <p className=\"font-medium text-zinc-900\">\n                                  Gere o relatório para visualizar o preview\n                                </p>\n                                <p className=\"mt-1 text-sm text-zinc-500\">\n                                  Defina os filtros e clique em “Gerar relatório”.\n                                </p>\n                              </div>\n                            )}\n                          </section>\n\n                          <section className=\"rounded-[16px] border border-zinc-200 bg-zinc-50/80 p-3\">\n                            <h3 className=\"font-heading text-base font-semibold text-zinc-900\">\n                              Exportação\n                            </h3>\n                            <p className=\"text-xs text-zinc-500\">\n                              Exporte o resultado ou copie um resumo pronto.\n                            </p>\n                            <div className=\"mt-3 flex flex-wrap items-center gap-2\">\n                              <Button\n                                variant=\"outline\"\n                                size=\"sm\"\n                                className=\"h-8 rounded-full\"\n                                onClick={() => void runExport(\"csv\")}\n                                disabled={\n                                  !selectedTemplate ||\n                                  generatedReportId !== selectedReport.id ||\n                                  exportLoading === \"csv\"\n                                }\n                              >\n                                {exportLoading === \"csv\" ? (\n                                  <span className=\"mr-1 h-3 w-3 animate-spin rounded-full border border-zinc-500 border-t-transparent\" />\n                                ) : (\n                                  <FileDown className=\"mr-1 h-3.5 w-3.5\" />\n                                )}\n                                Exportar CSV\n                              </Button>\n                              <Button\n                                variant=\"outline\"\n                                size=\"sm\"\n                                className=\"h-8 rounded-full\"\n                                onClick={() => void runExport(\"pdf\")}\n                                disabled={\n                                  !selectedTemplate ||\n                                  generatedReportId !== selectedReport.id ||\n                                  exportLoading === \"pdf\"\n                                }\n                              >\n                                {exportLoading === \"pdf\" ? (\n                                  <span className=\"mr-1 h-3 w-3 animate-spin rounded-full border border-zinc-500 border-t-transparent\" />\n                                ) : (\n                                  <FileText className=\"mr-1 h-3.5 w-3.5\" />\n                                )}\n                                Exportar PDF\n                              </Button>\n                              <Button\n                                variant=\"outline\"\n                                size=\"sm\"\n                                className=\"h-8 rounded-full\"\n                                onClick={() => void runExport(\"excel\")}\n                                disabled={\n                                  !selectedTemplate ||\n                                  generatedReportId !== selectedReport.id ||\n                                  exportLoading === \"excel\"\n                                }\n                              >\n                                {exportLoading === \"excel\" ? (\n                                  <span className=\"mr-1 h-3 w-3 animate-spin rounded-full border border-zinc-500 border-t-transparent\" />\n                                ) : (\n                                  <FileSpreadsheet className=\"mr-1 h-3.5 w-3.5\" />\n                                )}\n                                Exportar Excel\n                              </Button>\n                              <Button\n                                size=\"sm\"\n                                className=\"h-8 rounded-full bg-zinc-900 text-white hover:bg-zinc-800\"\n                                onClick={() => void runExport(\"copy\")}\n                                disabled={\n                                  !selectedTemplate ||\n                                  generatedReportId !== selectedReport.id ||\n                                  exportLoading === \"copy\"\n                                }\n                              >\n                                {exportLoading === \"copy\" ? (\n                                  <span className=\"mr-1 h-3 w-3 animate-spin rounded-full border border-white border-t-transparent\" />\n                                ) : (\n                                  <Copy className=\"mr-1 h-3.5 w-3.5\" />\n                                )}\n                                Copiar resumo\n                              </Button>\n                            </div>\n                            {exportFeedback ? (\n                              <div className=\"mt-2\">\n                                <InlineFeedback\n                                  type={exportFeedback.type}\n                                  message={exportFeedback.message}\n                                  compact\n                                  onClose={() => setExportFeedback(null)}\n                                />\n                              </div>\n                            ) : null}\n                          </section>\n                        </>\n                      ) : null}\n                    </div>\n                  )}\n                </div>\n\n                <aside\n                  className={cn(\n                    \"hidden xl:block shrink-0 transition-[width,opacity] duration-[220ms] ease-out\",\n                    isIntelligenceOpen ? \"w-[320px] opacity-100\" : \"pointer-events-none w-0 opacity-0\"\n                  )}\n                >\n                  <ReportsIntelligenceRail\n                    selectedReport={selectedReport}\n                    template={selectedTemplate}\n                    runningCommand={runningIntelCommand}\n                    commandResult={intelCommandResult}\n                    onRunCommand={runIntelCommand}\n                    onClose={() => setIsIntelligenceOpen(false)}\n                    onApplyRiskFilter={() =>\n                      setBuilderFilters((current) => ({ ...current, status: \"Em risco\" }))\n                    }\n                    onApplySlaFilter={() =>\n                      setBuilderFilters((current) => ({ ...current, status: \"SLA estourado\" }))\n                    }\n                    onApplyOwnerFilter={() =>\n                      setBuilderFilters((current) => ({ ...current, owner: \"Ana Souza\" }))\n                    }\n                    onGenerateSummary={() =>\n                      setPageFeedback({\n                        type: \"success\",\n                        message: \"Resumo executivo do relatório gerado.\",\n                      })\n                    }\n                  />\n                </aside>\n              </div>\n            </div>\n          </div>\n        </motion.div>\n\n        {!isDesktopXL ? (\n          <>\n            <div\n              onClick={() => setIsIntelligenceOpen(false)}\n              className={cn(\n                \"fixed inset-0 z-40 bg-black/25 transition-opacity duration-200 xl:hidden\",\n                isIntelligenceOpen ? \"opacity-100\" : \"pointer-events-none opacity-0\"\n              )}\n            />\n            <aside\n              className={cn(\n                \"fixed right-0 top-0 z-50 h-full w-[min(92vw,340px)] p-2 transition-transform duration-[220ms] ease-out xl:hidden\",\n                isIntelligenceOpen ? \"translate-x-0\" : \"translate-x-full\"\n              )}\n            >\n              <ReportsIntelligenceRail\n                selectedReport={selectedReport}\n                template={selectedTemplate}\n                runningCommand={runningIntelCommand}\n                commandResult={intelCommandResult}\n                onRunCommand={runIntelCommand}\n                onClose={() => setIsIntelligenceOpen(false)}\n                onApplyRiskFilter={() => {\n                  setBuilderFilters((current) => ({ ...current, status: \"Em risco\" }));\n                  setIsIntelligenceOpen(false);\n                }}\n                onApplySlaFilter={() => {\n                  setBuilderFilters((current) => ({ ...current, status: \"SLA estourado\" }));\n                  setIsIntelligenceOpen(false);\n                }}\n                onApplyOwnerFilter={() => {\n                  setBuilderFilters((current) => ({ ...current, owner: \"Ana Souza\" }));\n                  setIsIntelligenceOpen(false);\n                }}\n                onGenerateSummary={() => {\n                  setPageFeedback({\n                    type: \"success\",\n                    message: \"Resumo executivo do relatório gerado.\",\n                  });\n                  setIsIntelligenceOpen(false);\n                }}\n              />\n            </aside>\n          </>\n        ) : null}\n\n        {!isDesktopLibrary ? (\n          <>\n            <div\n              onClick={() => setIsLibraryOpen(false)}\n              className={cn(\n                \"fixed inset-0 z-40 bg-black/25 transition-opacity duration-200\",\n                isLibraryOpen ? \"opacity-100\" : \"pointer-events-none opacity-0\"\n              )}\n            />\n            <aside\n              className={cn(\n                \"fixed left-0 top-0 z-50 h-full w-[min(92vw,420px)] p-2 transition-transform duration-[220ms] ease-out\",\n                isLibraryOpen ? \"translate-x-0\" : \"-translate-x-full\"\n              )}\n            >\n              <ReportsLibraryPanel\n                reports={filteredReports}\n                selectedReportId={selectedReportId}\n                favoriteReportIds={favoriteReportIds}\n                recentReports={recentReports}\n                libraryError={libraryError}\n                onRetry={() => setLibraryError(false)}\n                onSelect={selectReport}\n                onToggleFavorite={toggleFavorite}\n                onGenerate={(reportId) => generateReport(reportId)}\n                onPreview={selectReport}\n                highlightCardId={highlightCardId}\n                onClose={() => setIsLibraryOpen(false)}\n              />\n            </aside>\n          </>\n        ) : null}\n      </motion.div>\n    </TooltipProvider>\n  );\n}\n\nfunction ReportsLibraryPanel({\n  reports,\n  selectedReportId,\n  favoriteReportIds,\n  recentReports,\n  libraryError,\n  onRetry,\n  onSelect,\n  onToggleFavorite,\n  onGenerate,\n  onPreview,\n  highlightCardId,\n  onClose,\n}: {\n  reports: ReportDefinition[];\n  selectedReportId: string | null;\n  favoriteReportIds: Set<string>;\n  recentReports: ReportDefinition[];\n  libraryError: boolean;\n  onRetry: () => void;\n  onSelect: (reportId: string) => void;\n  onToggleFavorite: (reportId: string) => void;\n  onGenerate: (reportId: string) => void;\n  onPreview: (reportId: string) => void;\n  highlightCardId: string | null;\n  onClose?: () => void;\n}) {\n  return (\n    <div className=\"flex h-full min-h-0 flex-col overflow-hidden rounded-[20px] border border-zinc-200/80 bg-white/82 shadow-[0_16px_32px_-28px_rgba(15,23,42,0.45)]\">\n      <div className=\"flex items-center justify-between border-b border-zinc-200 px-3 py-2.5\">\n        <div>\n          <h3 className=\"font-heading text-base font-semibold text-zinc-900\">Biblioteca</h3>\n          <p className=\"text-xs text-zinc-500\">Relatórios disponíveis no Flow</p>\n        </div>\n        {onClose ? (\n          <Button\n            variant=\"ghost\"\n            size=\"icon\"\n            className=\"h-8 w-8 rounded-full text-zinc-500\"\n            onClick={onClose}\n            aria-label=\"Fechar biblioteca\"\n          >\n            <X className=\"h-4 w-4\" />\n          </Button>\n        ) : null}\n      </div>\n\n      <div className=\"min-h-0 flex-1 overflow-y-auto p-3\">\n        {libraryError ? (\n          <SectionError\n            message=\"Falha ao carregar biblioteca de relatórios.\"\n            onRetry={onRetry}\n          />\n        ) : (\n          <div className=\"space-y-3\">\n            {recentReports.length > 0 ? (\n              <section className=\"rounded-[14px] border border-zinc-200 bg-zinc-50/80 p-2.5\">\n                <h4 className=\"text-xs font-semibold uppercase tracking-[0.08em] text-zinc-500\">\n                  Recentes\n                </h4>\n                <div className=\"mt-2 grid grid-cols-1 gap-2 sm:grid-cols-3 lg:grid-cols-1 xl:grid-cols-3\">\n                  {recentReports.slice(0, 3).map((report) => (\n                    <button\n                      key={`recent-${report.id}`}\n                      type=\"button\"\n                      onClick={() => onSelect(report.id)}\n                      className={cn(\n                        \"rounded-[10px] border px-2.5 py-2 text-left transition-colors duration-120\",\n                        selectedReportId === report.id\n                          ? \"border-zinc-300 bg-white\"\n                          : \"border-zinc-200 bg-white/90 hover:bg-zinc-100\"\n                      )}\n                    >\n                      <p className=\"truncate text-xs font-semibold text-zinc-900\">\n                        {report.title}\n                      </p>\n                      <p className=\"mt-1 text-[11px] text-zinc-500\">{report.category}</p>\n                    </button>\n                  ))}\n                </div>\n              </section>\n            ) : null}\n\n            {reports.length > 0 ? (\n              <motion.div\n                layout\n                transition={{ duration: 0.22, ease: \"easeOut\" }}\n                className=\"grid grid-cols-1 gap-3 xl:grid-cols-2\"\n              >\n                {reports.map((report) => (\n                  <motion.div\n                    key={report.id}\n                    layout\n                    transition={{ duration: 0.22, ease: \"easeOut\" }}\n                  >\n                    <ReportLibraryCard\n                      report={report}\n                      isSelected={selectedReportId === report.id}\n                      isFavorite={favoriteReportIds.has(report.id)}\n                      highlighted={highlightCardId === report.id}\n                      onSelect={() => onSelect(report.id)}\n                      onToggleFavorite={() => onToggleFavorite(report.id)}\n                      onGenerate={() => onGenerate(report.id)}\n                      onPreview={() => onPreview(report.id)}\n                    />\n                  </motion.div>\n                ))}\n              </motion.div>\n            ) : (\n              <div className=\"rounded-[14px] border border-dashed border-zinc-200 bg-zinc-50/80 p-4 text-sm text-zinc-500\">\n                Nenhum relatório encontrado para os filtros atuais.\n              </div>\n            )}\n          </div>\n        )}\n      </div>\n    </div>\n  );\n}\n\nfunction ReportLibraryCard({\n  report,\n  isSelected,\n  isFavorite,\n  highlighted,\n  onSelect,\n  onToggleFavorite,\n  onGenerate,\n  onPreview,\n}: {\n  report: ReportDefinition;\n  isSelected: boolean;\n  isFavorite: boolean;\n  highlighted: boolean;\n  onSelect: () => void;\n  onToggleFavorite: () => void;\n  onGenerate: () => void;\n  onPreview: () => void;\n}) {\n  return (\n    <article\n      className={cn(\n        \"group premium-lift relative overflow-hidden rounded-[16px] border bg-white p-3 shadow-[0_10px_20px_-18px_rgba(15,23,42,0.55)] transition-colors duration-140\",\n        isSelected ? \"border-zinc-300 bg-zinc-50/80\" : \"border-zinc-200/85\",\n        highlighted && \"ring-1 ring-zinc-300\"\n      )}\n    >\n      {isSelected ? (\n        <span className=\"absolute inset-y-3 left-0 w-[3px] rounded-r-full bg-zinc-800\" />\n      ) : null}\n\n      <div className=\"flex items-start justify-between gap-2\">\n        <button\n          type=\"button\"\n          onClick={onSelect}\n          className=\"flex min-w-0 items-start gap-2 text-left\"\n        >\n          <span className=\"inline-flex h-10 w-10 shrink-0 items-center justify-center rounded-[10px] bg-zinc-100 text-zinc-700\">\n            {report.icon}\n          </span>\n          <div className=\"min-w-0\">\n            <Badge\n              className={cn(\n                \"rounded-full border px-2 py-0 text-[10px]\",\n                categoryChipStyle[report.category]\n              )}\n            >\n              {report.category}\n            </Badge>\n            <h4 className=\"mt-1 truncate text-sm font-semibold text-zinc-900\">\n              {report.title}\n            </h4>\n          </div>\n        </button>\n\n        <Tooltip>\n          <TooltipTrigger asChild>\n            <button\n              type=\"button\"\n              onClick={onToggleFavorite}\n              className={cn(\n                \"rounded-full border p-1 transition-all duration-120\",\n                isFavorite\n                  ? \"border-amber-300 bg-amber-50 text-amber-700\"\n                  : \"border-zinc-200 bg-white text-zinc-400 opacity-0 group-hover:opacity-100\"\n              )}\n              aria-label=\"Favoritar relatório\"\n            >\n              <Star className={cn(\"h-3.5 w-3.5\", isFavorite && \"fill-current\")} />\n            </button>\n          </TooltipTrigger>\n          <TooltipContent className=\"bg-zinc-900 text-zinc-50\">\n            {isFavorite ? \"Remover dos favoritos\" : \"Adicionar aos favoritos\"}\n          </TooltipContent>\n        </Tooltip>\n      </div>\n\n      <button type=\"button\" onClick={onSelect} className=\"mt-2 text-left\">\n        <p className=\"line-clamp-2 text-sm text-zinc-600\">{report.description}</p>\n      </button>\n\n      <div className=\"mt-2 flex flex-wrap gap-1\">\n        {report.tags.map((tag) => (\n          <span\n            key={tag}\n            className=\"rounded-full border border-zinc-200 bg-zinc-50 px-2 py-0 text-[10px] text-zinc-500\"\n          >\n            {tag}\n          </span>\n        ))}\n      </div>\n\n      <div className=\"mt-3 flex items-center gap-2\">\n        <Button\n          size=\"sm\"\n          variant=\"outline\"\n          className=\"h-8 flex-1 rounded-full text-xs\"\n          onClick={onPreview}\n        >\n          Preview\n        </Button>\n        <Button\n          size=\"sm\"\n          className=\"h-8 flex-1 rounded-full bg-zinc-900 text-xs text-white hover:bg-zinc-800\"\n          onClick={onGenerate}\n        >\n          <BarChart3 className=\"mr-1 h-3.5 w-3.5\" />\n          Gerar\n        </Button>\n      </div>\n    </article>\n  );\n}\n\nfunction ReportBuilderEmptyState({\n  onOpenQuickReport,\n  onOpenLibrary,\n}: {\n  onOpenQuickReport: (reportId: string) => void;\n  onOpenLibrary: () => void;\n}) {\n  return (\n    <div className=\"flex min-h-full flex-col items-center justify-center rounded-[16px] border border-dashed border-zinc-200 bg-zinc-50/70 p-6 text-center\">\n      <p className=\"font-heading text-2xl font-semibold text-zinc-900\">\n        Selecione um relatório para começar\n      </p>\n      <p className=\"mt-2 max-w-[460px] text-sm text-zinc-500\">\n        Escolha um relatório na biblioteca para configurar filtros, gerar preview e exportar resultados.\n      </p>\n      <div className=\"mt-4 grid w-full max-w-[620px] grid-cols-1 gap-2 md:grid-cols-3\">\n        <button\n          type=\"button\"\n          onClick={() => onOpenQuickReport(\"pipeline-performance\")}\n          className=\"rounded-[12px] border border-zinc-200 bg-white p-3 text-left transition-colors duration-120 hover:bg-zinc-50\"\n        >\n          <p className=\"text-sm font-semibold text-zinc-900\">Pipeline Performance</p>\n          <p className=\"mt-1 text-xs text-zinc-500\">Funil, conversão e gargalos</p>\n        </button>\n        <button\n          type=\"button\"\n          onClick={() => onOpenQuickReport(\"sla-compliance\")}\n          className=\"rounded-[12px] border border-zinc-200 bg-white p-3 text-left transition-colors duration-120 hover:bg-zinc-50\"\n        >\n          <p className=\"text-sm font-semibold text-zinc-900\">SLA Compliance</p>\n          <p className=\"mt-1 text-xs text-zinc-500\">Cumprimento por etapa</p>\n        </button>\n        <button\n          type=\"button\"\n          onClick={() => onOpenQuickReport(\"monthly-revenue\")}\n          className=\"rounded-[12px] border border-zinc-200 bg-white p-3 text-left transition-colors duration-120 hover:bg-zinc-50\"\n        >\n          <p className=\"text-sm font-semibold text-zinc-900\">Receita Mensal</p>\n          <p className=\"mt-1 text-xs text-zinc-500\">Meta vs realizado</p>\n        </button>\n      </div>\n      <Button\n        variant=\"outline\"\n        className=\"mt-4 rounded-full\"\n        onClick={onOpenLibrary}\n      >\n        Ver todos os relatórios\n      </Button>\n    </div>\n  );\n}\n\nfunction ReportPreviewSkeleton() {\n  return (\n    <div className=\"space-y-3\">\n      <Skeleton className=\"h-[220px] rounded-[14px]\" />\n      <div className=\"grid grid-cols-1 gap-2 md:grid-cols-3\">\n        <Skeleton className=\"h-[94px] rounded-[12px]\" />\n        <Skeleton className=\"h-[94px] rounded-[12px]\" />\n        <Skeleton className=\"h-[94px] rounded-[12px]\" />\n      </div>\n      <Skeleton className=\"h-[220px] rounded-[14px]\" />\n      <Skeleton className=\"h-[170px] rounded-[14px]\" />\n    </div>\n  );\n}\n\nfunction ReportsIntelligenceRail({\n  selectedReport,\n  template,\n  runningCommand,\n  commandResult,\n  onRunCommand,\n  onClose,\n  onApplyRiskFilter,\n  onApplySlaFilter,\n  onApplyOwnerFilter,\n  onGenerateSummary,\n}: {\n  selectedReport: ReportDefinition | null;\n  template: ReportTemplate | null;\n  runningCommand: string | null;\n  commandResult: string | null;\n  onRunCommand: (commandId: string, result: string, callback?: () => void) => void;\n  onClose?: () => void;\n  onApplyRiskFilter: () => void;\n  onApplySlaFilter: () => void;\n  onApplyOwnerFilter: () => void;\n  onGenerateSummary: () => void;\n}) {\n  return (\n    <div className=\"menux-intelligence-theme flex h-full min-h-0 flex-col overflow-hidden rounded-[20px] border border-slate-700/70 bg-[linear-gradient(145deg,#020817_0%,#03132b_56%,#0a2340_100%)] text-slate-100 shadow-[0_34px_52px_-36px_rgba(15,23,42,0.92)]\">\n      <div className=\"border-b border-white/10 px-4 py-3\">\n        <div className=\"flex items-start justify-between gap-2\">\n          <div>\n            <h3 className=\"font-heading text-lg font-semibold\">Menux Intelligence</h3>\n            <p className=\"mt-0.5 text-xs text-cyan-100/80\">\n              {selectedReport ? `Análise de ${selectedReport.title}` : \"Copiloto de interpretação\"}\n            </p>\n          </div>\n          {onClose ? (\n            <Button\n              variant=\"ghost\"\n              size=\"icon\"\n              className=\"h-8 w-8 rounded-full text-slate-300 hover:bg-white/10 hover:text-white\"\n              onClick={onClose}\n              aria-label=\"Fechar Menux Intelligence\"\n            >\n              <X className=\"h-4 w-4\" />\n            </Button>\n          ) : null}\n        </div>\n        <Button\n          className=\"mt-3 h-8 w-full rounded-full border border-white/15 bg-white/10 text-xs text-slate-100 hover:bg-white/15\"\n          onClick={() =>\n            onRunCommand(\"weekly-diagnosis\", \"Diagnóstico executivo gerado.\", onGenerateSummary)\n          }\n          disabled={runningCommand === \"weekly-diagnosis\"}\n        >\n          {runningCommand === \"weekly-diagnosis\" ? (\n            <span className=\"mr-2 h-3 w-3 animate-spin rounded-full border border-cyan-100 border-t-transparent\" />\n          ) : (\n            <Bot className=\"mr-1.5 h-3.5 w-3.5\" />\n          )}\n          Diagnóstico do relatório\n        </Button>\n      </div>\n\n      <div className=\"min-h-0 flex-1 space-y-3 overflow-y-auto p-4\">\n        <section className=\"rounded-[14px] border border-white/10 bg-white/5 p-3\">\n          <p className=\"text-xs font-semibold uppercase tracking-[0.08em] text-slate-300\">\n            Interpretação\n          </p>\n          <p className=\"mt-1 text-xs text-slate-200\">\n            {template\n              ? template.sentence\n              : \"Selecione e gere um relatório para receber interpretação acionável.\"}\n          </p>\n        </section>\n\n        <section className=\"rounded-[14px] border border-white/10 bg-white/5 p-3\">\n          <p className=\"text-xs font-semibold uppercase tracking-[0.08em] text-slate-300\">\n            Achados principais\n          </p>\n          <ul className=\"mt-2 space-y-1.5 text-xs text-slate-200\">\n            {(template?.findings ?? [\"Nenhum achado ainda. Gere o relatório para analisar dados.\"]).map(\n              (finding, index) => (\n                <li key={index} className=\"flex gap-1.5\">\n                  <Check className=\"mt-0.5 h-3.5 w-3.5 text-cyan-200\" />\n                  <span>{finding}</span>\n                </li>\n              )\n            )}\n          </ul>\n        </section>\n\n        <section className=\"rounded-[14px] border border-white/10 bg-white/5 p-3\">\n          <p className=\"text-xs font-semibold uppercase tracking-[0.08em] text-slate-300\">\n            Comandos rápidos\n          </p>\n          <div className=\"mt-2 space-y-2\">\n            <IntelCommandButton\n              label=\"Ver apenas etapa em risco\"\n              loading={runningCommand === \"risk-only\"}\n              onClick={() =>\n                onRunCommand(\n                  \"risk-only\",\n                  \"Filtro aplicado: etapa em risco.\",\n                  onApplyRiskFilter\n                )\n              }\n            />\n            <IntelCommandButton\n              label=\"Mostrar SLAs estourados\"\n              loading={runningCommand === \"sla-breached\"}\n              onClick={() =>\n                onRunCommand(\n                  \"sla-breached\",\n                  \"Filtro aplicado: SLAs estourados.\",\n                  onApplySlaFilter\n                )\n              }\n            />\n            <IntelCommandButton\n              label=\"Filtrar por responsável principal\"\n              loading={runningCommand === \"owner-focus\"}\n              onClick={() =>\n                onRunCommand(\n                  \"owner-focus\",\n                  \"Filtro aplicado: responsável principal.\",\n                  onApplyOwnerFilter\n                )\n              }\n            />\n            <IntelCommandButton\n              label=\"Exportar resumo executivo\"\n              loading={runningCommand === \"executive-summary\"}\n              onClick={() =>\n                onRunCommand(\n                  \"executive-summary\",\n                  \"Resumo executivo exportado.\",\n                  onGenerateSummary\n                )\n              }\n            />\n          </div>\n        </section>\n\n        <section className=\"rounded-[14px] border border-white/10 bg-white/5 p-3\">\n          <p className=\"text-xs font-semibold uppercase tracking-[0.08em] text-slate-300\">\n            Anomalias e perguntas\n          </p>\n          <ul className=\"mt-2 space-y-1.5 text-xs text-slate-200\">\n            {(template?.anomalies ?? [\"Sem anomalias detectadas até o momento.\"]).map(\n              (anomaly, index) => (\n                <li key={index}>• {anomaly}</li>\n              )\n            )}\n          </ul>\n          <div className=\"mt-2 border-t border-white/10 pt-2\">\n            <ul className=\"space-y-1 text-xs text-slate-300\">\n              {(template?.questions ?? [\"Gere o relatório para destravar perguntas de investigação.\"]).map(\n                (question, index) => (\n                  <li key={index}>• {question}</li>\n                )\n              )}\n            </ul>\n          </div>\n        </section>\n\n        {commandResult ? (\n          <div className=\"rounded-[12px] border border-cyan-300/30 bg-cyan-500/10 px-3 py-2 text-xs text-cyan-100\">\n            {commandResult}\n          </div>\n        ) : null}\n      </div>\n    </div>\n  );\n}\n\nfunction IntelCommandButton({\n  label,\n  loading,\n  onClick,\n}: {\n  label: string;\n  loading: boolean;\n  onClick: () => void;\n}) {\n  return (\n    <button\n      type=\"button\"\n      onClick={onClick}\n      disabled={loading}\n      className=\"flex w-full items-center justify-between rounded-[10px] border border-white/10 bg-white/5 px-3 py-2 text-left text-xs text-slate-100 transition-colors duration-120 hover:bg-white/10 disabled:cursor-not-allowed disabled:opacity-70\"\n    >\n      <span>{label}</span>\n      {loading ? (\n        <span className=\"h-3 w-3 animate-spin rounded-full border border-cyan-100 border-t-transparent\" />\n      ) : (\n        <Sparkles className=\"h-3.5 w-3.5 text-cyan-200\" />\n      )}\n    </button>\n  );\n}\n\nfunction SectionError({\n  message,\n  onRetry,\n}: {\n  message: string;\n  onRetry: () => void;\n}) {\n  return (\n    <div className=\"rounded-[14px] border border-red-200 bg-red-50/85 p-3 text-sm text-red-700\">\n      <div className=\"flex items-center justify-between gap-2\">\n        <div className=\"flex items-center gap-2\">\n          <X className=\"h-4 w-4\" />\n          <span>{message}</span>\n        </div>\n        <Button\n          variant=\"outline\"\n          size=\"sm\"\n          className=\"h-7 rounded-full border-red-200 bg-white text-red-700 hover:bg-red-50\"\n          onClick={onRetry}\n        >\n          Tentar novamente\n        </Button>\n      </div>\n    </div>\n  );\n}\n\nfunction ReportsPageSkeleton() {\n  return (\n    <div className=\"flex h-[calc(100dvh-2rem)] min-h-0 w-full max-w-full flex-col gap-4\">\n      <div className=\"shrink-0 rounded-[20px] border border-zinc-200/80 bg-zinc-50/85 px-5 py-4\">\n        <Skeleton className=\"h-8 w-36\" />\n        <Skeleton className=\"mt-2 h-4 w-72\" />\n        <div className=\"mt-4 flex flex-wrap gap-2\">\n          <Skeleton className=\"h-9 w-56 rounded-full\" />\n          <Skeleton className=\"h-9 w-44 rounded-full\" />\n          <Skeleton className=\"h-9 w-40 rounded-full\" />\n        </div>\n      </div>\n      <div className=\"grid min-h-0 flex-1 grid-cols-1 gap-4 lg:grid-cols-[minmax(320px,0.4fr)_minmax(0,0.6fr)]\">\n        <div className=\"hidden min-h-0 overflow-hidden rounded-[20px] border border-zinc-200/80 bg-zinc-50/75 p-3 lg:block\">\n          <Skeleton className=\"h-full rounded-[16px]\" />\n        </div>\n        <div className=\"min-h-0 overflow-hidden rounded-[20px] border border-zinc-200/80 bg-zinc-50/75 p-3\">\n          <Skeleton className=\"h-full rounded-[16px]\" />\n        </div>\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":"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"}
module.exports=[65672,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(95245),e=a.i(59501),f=a.i(77156),g=a.i(41379),h=a.i(96221),i=a.i(73570),j=a.i(82434);let k=(0,a.i(70106).default)("timer",[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]]);var l=a.i(1027),m=a.i(61545),n=a.i(50429),o=a.i(71987),p=a.i(38246),q=a.i(50944),r=a.i(99570),s=a.i(66718),t=a.i(70430),u=a.i(15055),v=a.i(46271),w=a.i(19979),x=a.i(66206);function y(a){return a>=15?"blocked":a>=10?"lockout1h":a>=5?"lockout15":a>=3?"captcha":"none"}function z(){}let A=[{icon:l.Zap,text:"Funil em tempo real, sem planilha"},{icon:m.Brain,text:"Próximas ações e SLAs do seu dia"},{icon:n.Target,text:"Insights da Menux Intelligence para acelerar negociações"}],B="Seu acesso não está habilitado para o Flow. Fale com o seu líder ou com o suporte.",C="Muitas tentativas. Aguarde alguns minutos e tente novamente.",D="Sem conexão com o servidor. Verifique sua internet e tente novamente.";function E(){let[a,l]=(0,c.useState)(!1),[m,n]=(0,c.useState)(!1),[E,F]=(0,c.useState)(!1),[G,H]=(0,c.useState)(0),[I,J]=(0,c.useState)(!1),[K,L]=(0,c.useState)(null),[M,N]=(0,c.useState)(null),[O,P]=(0,c.useState)(0),[Q,R]=(0,c.useState)("/dashboard"),S=(0,q.useRouter)(),{setUser:T}=(0,x.useAuthStore)();(0,c.useEffect)(()=>{},[]),(0,c.useEffect)(()=>{},[]);let{register:U,handleSubmit:V,formState:{errors:W},watch:X}=(0,d.useForm)({resolver:(0,e.zodResolver)(w.loginSchema),mode:"onBlur"}),Y=X("email"),Z=X("password"),$=y(G),_=null!==M&&O>0,aa=("blocked"===$||"lockout15"===$||"lockout1h"===$)&&(_||"blocked"===$),ab=m||aa||"captcha"===$&&!I||!(Y&&Z);(0,c.useEffect)(()=>{if(null===M)return void P(0);function a(){let a=M-Date.now();a<=0?(P(0),N(null),H(0),J(!1),L(null),z()):P(a)}a();let b=setInterval(a,1e3);return()=>clearInterval(b)},[M]),(0,c.useEffect)(()=>{},[G,M]);let ac=(0,c.useCallback)(a=>{N(Date.now()+a)},[]);function ad(){let a=G+1;switch(H(a),J(!1),y(a)){case"blocked":case"lockout1h":L(C),ac(36e5);break;case"lockout15":L(C),ac(9e5);break;default:L("E-mail ou senha incorretos. Tente novamente.")}}async function ae(a){if(!ab){n(!0),L(null);try{let b=a.email.trim().toLowerCase();if("fail@test.com"===b)return void ad();if("sem-permissao@menux.co"===b||!b.endsWith("@menux.co")&&!b.endsWith("@flow.demo"))return void L(B);if("sem-rede@menux.co"===b)return void L(D);let c=await fetch("/api/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({email:b,rememberMe:E})});if(403===c.status)return void L(B);if(429===c.status)return void L(C);if(!c.ok)return void ad();let d=await c.json();if(!d.user)return void ad();T(d.user,"session-cookie",{rememberMe:E}),z(),H(0),N(null),J(!1),L(null),S.push(Q)}catch{L(D)}finally{n(!1)}}}return(0,b.jsxs)("div",{className:"relative min-h-screen overflow-hidden bg-[linear-gradient(140deg,#f8fafc_0%,#eef3f9_50%,#ebf1f8_100%)]",children:[(0,b.jsxs)("div",{className:"pointer-events-none absolute inset-0",children:[(0,b.jsx)("div",{className:"absolute -left-24 -top-44 h-[460px] w-[460px] rounded-full bg-[radial-gradient(circle_at_center,rgba(29,78,216,0.28),transparent_70%)] blur-3xl"}),(0,b.jsx)("div",{className:"absolute right-[-150px] top-[10%] h-[460px] w-[460px] rounded-full bg-[radial-gradient(circle_at_center,rgba(14,165,233,0.24),transparent_70%)] blur-3xl"}),(0,b.jsx)("div",{className:"absolute bottom-[-180px] left-[30%] h-[420px] w-[420px] rounded-full bg-[radial-gradient(circle_at_center,rgba(249,115,22,0.18),transparent_72%)] blur-3xl"}),(0,b.jsx)("div",{className:"absolute inset-0 opacity-[0.22]",style:{backgroundImage:"repeating-linear-gradient(120deg, rgba(148,163,184,0.16) 0px, rgba(148,163,184,0.16) 1px, transparent 1px, transparent 22px)"}})]}),(0,b.jsx)(v.motion.div,{initial:{opacity:0,y:6},animate:{opacity:1,y:0},transition:{duration:.16,ease:[.25,.46,.45,.94]},className:"relative z-10 mx-auto flex min-h-[90vh] w-full max-w-[1080px] items-center px-4 py-8 sm:px-6 lg:px-8",children:(0,b.jsx)("div",{className:"w-full rounded-[24px] border border-white/70 bg-white/55 p-1.5 shadow-[0_32px_90px_-42px_rgba(15,23,42,0.5)] backdrop-blur-2xl sm:p-2",children:(0,b.jsxs)("div",{className:"grid gap-2 lg:grid-cols-2",children:[(0,b.jsxs)("section",{className:"relative hidden overflow-hidden rounded-[20px] bg-gradient-to-br from-slate-950 via-slate-900 to-slate-800 p-6 lg:flex lg:flex-col xl:p-8",children:[(0,b.jsxs)("div",{className:"pointer-events-none absolute inset-0",children:[(0,b.jsx)("div",{className:"absolute left-[-120px] top-[-140px] h-[360px] w-[360px] rounded-full bg-cyan-400/30 blur-3xl"}),(0,b.jsx)("div",{className:"absolute bottom-[-170px] right-[-100px] h-[320px] w-[320px] rounded-full bg-blue-500/35 blur-3xl"})]}),(0,b.jsx)("div",{className:"relative z-10",children:(0,b.jsx)(o.default,{src:"/flow-logo.svg",alt:"Flow by Menux",width:122,height:33,priority:!0,className:"h-auto w-[122px] brightness-0 invert"})}),(0,b.jsxs)("div",{className:"relative z-10 mt-6 max-w-[520px]",children:[(0,b.jsx)("p",{className:"inline-flex rounded-full border border-white/25 bg-white/10 px-2.5 py-0.5 font-body text-[10px] font-medium tracking-wide text-cyan-100 xl:text-xs xl:px-3 xl:py-1",children:"FLOW • PLATAFORMA INTERNA"}),(0,b.jsx)("h1",{className:"mt-3 font-heading text-2xl font-semibold leading-[1.08] text-white xl:text-3xl",children:"Sua central de execução comercial."}),(0,b.jsx)("p",{className:"mt-2.5 max-w-[480px] font-body text-[13px] leading-relaxed text-slate-200/90 xl:text-[14px]",children:"Pipeline, atividades e Menux Intelligence em um só lugar, para você priorizar o que fecha e agir rápido."})]}),(0,b.jsx)("div",{className:"relative z-10 mt-6 max-w-[520px] space-y-2",children:A.map((a,c)=>(0,b.jsxs)(v.motion.div,{initial:{opacity:0,y:8},animate:{opacity:1,y:0},transition:{duration:.2,delay:.08*(c+1),ease:[.25,.46,.45,.94]},className:"flex items-center gap-3 rounded-[14px] border border-white/15 bg-white/8 px-3.5 py-3 backdrop-blur-sm",children:[(0,b.jsx)("div",{className:"flex h-8 w-8 shrink-0 items-center justify-center rounded-[10px] bg-white/15",children:(0,b.jsx)(a.icon,{className:"h-3.5 w-3.5 text-cyan-100"})}),(0,b.jsx)("span",{className:"font-body text-[13px] text-slate-100/95 xl:text-sm",children:a.text})]},a.text))}),(0,b.jsxs)("div",{className:"relative z-10 mt-auto grid gap-2 pt-6 sm:grid-cols-2",children:[(0,b.jsx)("div",{className:"rounded-[12px] border border-white/15 bg-white/10 px-3 py-2.5",children:(0,b.jsx)("p",{className:"font-body text-[12px] text-slate-100/95 xl:text-sm",children:"Visão do funil e metas em tempo real"})}),(0,b.jsx)("div",{className:"rounded-[12px] border border-white/15 bg-white/10 px-3 py-2.5",children:(0,b.jsx)("p",{className:"font-body text-[12px] text-slate-100/95 xl:text-sm",children:"Rotina guiada por SLAs e prioridades"})})]})]}),(0,b.jsxs)("section",{className:"h-full rounded-[20px] border border-zinc-200/80 bg-white p-6 shadow-[0_26px_64px_-44px_rgba(15,23,42,0.56)] flex flex-col justify-center xl:p-8",children:[(0,b.jsxs)("div",{className:"mb-5",children:[(0,b.jsx)("div",{className:"mb-4 lg:hidden",children:(0,b.jsx)(o.default,{src:"/flow-logo.svg",alt:"Flow by Menux",width:106,height:28,priority:!0})}),(0,b.jsx)("div",{className:"mb-4 rounded-[14px] border border-zinc-200 bg-zinc-50 px-3.5 py-2.5 lg:hidden",children:(0,b.jsx)("p",{className:"font-body text-xs text-zinc-600",children:"Pipeline, atividades e Menux Intelligence em um só lugar para priorizar o que fecha."})}),(0,b.jsx)("h2",{className:"font-heading text-2xl font-semibold leading-tight text-zinc-900 xl:text-3xl",children:"Acesso seguro"}),(0,b.jsx)("p",{className:"mt-1 font-body text-[13px] text-zinc-500 xl:text-sm",children:"Entre com sua conta corporativa do Menux."})]}),(0,b.jsxs)("form",{onSubmit:V(ae),className:"space-y-3",noValidate:!0,children:[(0,b.jsxs)("div",{className:"space-y-1.5",children:[(0,b.jsx)(t.Label,{htmlFor:"email",className:"font-body text-[13px] font-medium text-zinc-700",children:"E-mail corporativo"}),(0,b.jsx)(s.Input,{id:"email",type:"email",placeholder:"nome@menux.co",autoComplete:"email",disabled:aa,className:"h-10 rounded-[12px] border-zinc-200 bg-white font-body text-[13px] transition-[border-color,box-shadow] duration-[140ms] ease-out focus:border-brand/45 focus:shadow-[0_0_0_3px_rgba(29,78,216,0.08)]",...U("email")}),W.email&&(0,b.jsx)(v.motion.p,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.12},className:"font-body text-xs text-status-danger",children:W.email.message})]}),(0,b.jsxs)("div",{className:"space-y-1.5",children:[(0,b.jsx)(t.Label,{htmlFor:"password",className:"font-body text-[13px] font-medium text-zinc-700",children:"Senha"}),(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsx)(s.Input,{id:"password",type:a?"text":"password",placeholder:"••••••••",autoComplete:"current-password",disabled:aa,className:"h-10 rounded-[12px] border-zinc-200 bg-white pr-12 font-body text-[13px] transition-[border-color,box-shadow] duration-[140ms] ease-out focus:border-brand/45 focus:shadow-[0_0_0_3px_rgba(29,78,216,0.08)]",...U("password")}),(0,b.jsx)("button",{type:"button",className:"absolute right-3 top-1/2 -translate-y-1/2 p-1 text-zinc-400 opacity-75 transition-opacity duration-[140ms] hover:opacity-100 focus-visible:opacity-100",onClick:()=>l(!a),"aria-label":a?"Ocultar senha":"Mostrar senha",children:a?(0,b.jsx)(g.EyeOff,{className:"h-[18px] w-[18px]"}):(0,b.jsx)(f.Eye,{className:"h-[18px] w-[18px]"})})]}),W.password&&(0,b.jsx)(v.motion.p,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.12},className:"font-body text-xs text-status-danger",children:W.password.message})]}),(0,b.jsxs)("div",{className:"flex items-center justify-between pt-1",children:[(0,b.jsxs)("div",{className:"flex items-center gap-1.5",children:[(0,b.jsx)(u.Checkbox,{id:"rememberMe",checked:E,onCheckedChange:a=>F(!0===a)}),(0,b.jsx)("label",{htmlFor:"rememberMe",className:"cursor-pointer font-body text-[12px] text-zinc-600 xl:text-[13px] leading-tight",children:"Manter conectado"})]}),(0,b.jsx)(p.default,{href:"/forgot-password",className:"font-body text-[12px] font-medium text-brand hover:underline xl:text-[13px]",children:"Esqueci a senha"})]}),K?("blocked"===$||"lockout1h"===$||"lockout15"===$)&&_?(0,b.jsx)(v.motion.div,{initial:{opacity:0,y:-4},animate:{opacity:1,y:0},transition:{duration:.12},className:"flex flex-col gap-1 rounded-[10px] bg-status-warning-light px-4 py-3",children:(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)(k,{className:"h-4 w-4 shrink-0 text-status-warning"}),(0,b.jsxs)("p",{className:"font-body text-sm font-medium text-status-warning",children:[K," Tempo restante:"," ",(0,b.jsx)("span",{className:"font-semibold",children:function(a){if(a<=0)return"00:00";let b=Math.ceil(a/1e3),c=Math.floor(b/3600),d=Math.floor(b%3600/60),e=b%60;return c>0?`${String(c).padStart(2,"0")}:${String(d).padStart(2,"0")}:${String(e).padStart(2,"0")}`:`${String(d).padStart(2,"0")}:${String(e).padStart(2,"0")}`}(O)}),"."]})]})}):(0,b.jsx)(v.motion.div,{initial:{opacity:0,y:-4},animate:{opacity:1,y:0},transition:{duration:.12},className:"flex flex-col gap-1.5 rounded-[10px] bg-status-danger-light px-4 py-3",children:(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)(i.AlertTriangle,{className:"h-4 w-4 shrink-0 text-status-danger"}),(0,b.jsx)("p",{className:"font-body text-sm text-status-danger",children:K})]})}):null,"captcha"!==$?null:(0,b.jsxs)("div",{className:"flex items-center gap-3 rounded-[10px] border border-zinc-200 bg-zinc-50 px-4 py-3",children:[(0,b.jsx)(u.Checkbox,{id:"captcha",checked:I,onCheckedChange:a=>J(!0===a)}),(0,b.jsxs)("label",{htmlFor:"captcha",className:"flex cursor-pointer items-center gap-2 font-body text-sm text-zinc-700",children:[(0,b.jsx)(j.Bot,{className:"h-4 w-4 text-zinc-400"}),"Não sou um robô"]})]}),(0,b.jsx)("div",{className:"pt-0",children:(0,b.jsx)(r.Button,{type:"submit",disabled:ab,className:"h-10 w-full rounded-full bg-gradient-to-r from-zinc-900 to-zinc-700 font-heading text-[14px] font-semibold text-white transition-[transform,box-shadow] duration-[140ms] ease-out hover:-translate-y-0.5 hover:shadow-[0_12px_24px_-14px_rgba(15,23,42,0.68)] active:scale-[0.985] active:duration-[90ms] disabled:pointer-events-none disabled:opacity-50",children:m?(0,b.jsxs)("span",{className:"flex items-center gap-2",children:[(0,b.jsx)(h.Loader2,{className:"h-5 w-5 animate-spin"}),(0,b.jsx)("span",{children:"Entrando no Flow…"})]}):"Entrar no Flow"})})]})]})]})})})]})}a.s(["default",()=>E],65672)}];

//# sourceMappingURL=src_app_%28public%29_login_page_tsx_0b276669._.js.map
{"version":3,"sources":["../../../../src/app/%28auth%29/activities/components/config.ts","../../../../src/app/%28auth%29/activities/components/generated-content-modal.tsx","../../../../src/app/%28auth%29/activities/page.tsx","../../../../node_modules/%40tanstack/virtual-core/src/utils.ts","../../../../src/app/%28auth%29/activities/components/helpers.ts","../../../../node_modules/%40tanstack/virtual-core/src/index.ts","../../../../node_modules/%40tanstack/react-virtual/src/index.tsx","../../../../node_modules/lucide-react/src/icons/circle-dashed.ts","../../../../node_modules/lucide-react/src/icons/wand-sparkles.ts"],"sourcesContent":["import {\n  Phone,\n  Mail,\n  Calendar,\n  CheckSquare,\n  RotateCcw,\n  MessageCircle,\n  MapPin,\n  Clock,\n  CheckCircle2,\n  AlertCircle,\n  XCircle,\n} from \"lucide-react\";\nimport type { ActivityType, ActivityStatus } from \"@/types\";\n\n// ═══════════════════════════════════════════════════════════════════\n// Type Config\n// ═══════════════════════════════════════════════════════════════════\n\nexport const typeIconComponents: Record<ActivityType, typeof Phone> = {\n  call: Phone,\n  email: Mail,\n  meeting: Calendar,\n  visit: MapPin,\n  task: CheckSquare,\n  \"follow-up\": RotateCcw,\n  whatsapp: MessageCircle,\n};\n\nexport const typeLabels: Record<ActivityType, string> = {\n  call: \"Ligação\",\n  email: \"E-mail\",\n  meeting: \"Reunião\",\n  visit: \"Visita\",\n  task: \"Tarefa\",\n  \"follow-up\": \"Follow-up\",\n  whatsapp: \"WhatsApp\",\n};\n\nexport const typeLabelsPt: Record<ActivityType, string> = {\n  call: \"Ligações\",\n  email: \"E-mails\",\n  meeting: \"Reuniões\",\n  visit: \"Visitas\",\n  task: \"Tarefas\",\n  \"follow-up\": \"Follow-ups\",\n  whatsapp: \"WhatsApp\",\n};\n\nexport const typeColors: Record<ActivityType, { bg: string; text: string }> = {\n  call: { bg: \"bg-blue-100\", text: \"text-blue-600\" },\n  email: { bg: \"bg-amber-100\", text: \"text-amber-600\" },\n  meeting: { bg: \"bg-purple-100\", text: \"text-purple-600\" },\n  visit: { bg: \"bg-indigo-100\", text: \"text-indigo-600\" },\n  task: { bg: \"bg-emerald-100\", text: \"text-emerald-600\" },\n  \"follow-up\": { bg: \"bg-orange-100\", text: \"text-orange-600\" },\n  whatsapp: { bg: \"bg-green-100\", text: \"text-green-600\" },\n};\n\nexport const typeDotColors: Record<ActivityType, string> = {\n  call: \"bg-blue-500\",\n  email: \"bg-amber-500\",\n  meeting: \"bg-purple-500\",\n  visit: \"bg-indigo-500\",\n  task: \"bg-emerald-500\",\n  \"follow-up\": \"bg-orange-500\",\n  whatsapp: \"bg-green-500\",\n};\n\nexport const allActivityTypes: ActivityType[] = [\n  \"call\",\n  \"email\",\n  \"meeting\",\n  \"visit\",\n  \"task\",\n  \"follow-up\",\n  \"whatsapp\",\n];\n\n// ═══════════════════════════════════════════════════════════════════\n// Status Config\n// ═══════════════════════════════════════════════════════════════════\n\nexport const statusIconComponents: Record<ActivityStatus, typeof Clock> = {\n  pending: Clock,\n  completed: CheckCircle2,\n  overdue: AlertCircle,\n  cancelled: XCircle,\n};\n\nexport const statusLabels: Record<ActivityStatus, string> = {\n  pending: \"Pendente\",\n  completed: \"Concluída\",\n  overdue: \"Atrasada\",\n  cancelled: \"Cancelada\",\n};\n\nexport const statusColors: Record<\n  ActivityStatus,\n  { color: string; dotColor: string; bgColor: string }\n> = {\n  pending: {\n    color: \"text-status-info\",\n    dotColor: \"bg-status-info\",\n    bgColor: \"bg-status-info-light\",\n  },\n  completed: {\n    color: \"text-status-success\",\n    dotColor: \"bg-status-success\",\n    bgColor: \"bg-status-success-light\",\n  },\n  overdue: {\n    color: \"text-status-danger\",\n    dotColor: \"bg-status-danger\",\n    bgColor: \"bg-status-danger-light\",\n  },\n  cancelled: {\n    color: \"text-zinc-400\",\n    dotColor: \"bg-zinc-400\",\n    bgColor: \"bg-zinc-100\",\n  },\n};\n","\"use client\";\n\nimport { Copy, Check, Sparkles } from \"lucide-react\";\nimport { useState } from \"react\";\nimport { Button } from \"@/components/ui/button\";\nimport {\n    Dialog,\n    DialogContent,\n    DialogHeader,\n    DialogTitle,\n    DialogDescription,\n    DialogFooter,\n    DialogClose,\n} from \"@/components/ui/dialog\";\n\ninterface GeneratedContentModalProps {\n    open: boolean;\n    onOpenChange: (open: boolean) => void;\n    title: string;\n    description?: string;\n    content: string;\n}\n\nexport function GeneratedContentModal({\n    open,\n    onOpenChange,\n    title,\n    description,\n    content,\n}: GeneratedContentModalProps) {\n    const [copied, setCopied] = useState(false);\n    const [copyError, setCopyError] = useState<string | null>(null);\n\n    const handleOpenChange = (nextOpen: boolean) => {\n        if (nextOpen) {\n            setCopied(false);\n            setCopyError(null);\n        }\n        onOpenChange(nextOpen);\n    };\n\n    const handleCopy = async () => {\n        try {\n            await navigator.clipboard.writeText(content);\n            setCopied(true);\n            setCopyError(null);\n            setTimeout(() => setCopied(false), 2000);\n        } catch {\n            setCopyError(\"Não foi possível copiar agora. Tente novamente.\");\n        }\n    };\n\n    return (\n        <Dialog open={open} onOpenChange={handleOpenChange}>\n            <DialogContent className=\"sm:max-w-[500px]\">\n                <DialogHeader>\n                    <div className=\"flex items-center gap-2\">\n                        <div className=\"flex h-8 w-8 items-center justify-center rounded-lg bg-violet-100 text-violet-600\">\n                            <Sparkles className=\"h-4 w-4\" />\n                        </div>\n                        <DialogTitle>{title}</DialogTitle>\n                    </div>\n                    {description && <DialogDescription>{description}</DialogDescription>}\n                </DialogHeader>\n\n                <div className=\"relative mt-2 rounded-md border border-zinc-200 bg-zinc-50 p-4\">\n                    <pre className=\"whitespace-pre-wrap font-sans text-sm text-zinc-700\">\n                        {content}\n                    </pre>\n                    <Button\n                        size=\"icon\"\n                        variant=\"ghost\"\n                        className=\"absolute right-2 top-2 h-8 w-8 text-zinc-500 hover:text-zinc-900\"\n                        onClick={handleCopy}\n                    >\n                        {copied ? (\n                            <Check className=\"h-4 w-4 text-emerald-500\" />\n                        ) : (\n                            <Copy className=\"h-4 w-4\" />\n                        )}\n                    </Button>\n                </div>\n\n                {copyError ? (\n                    <p className=\"mt-2 text-xs text-red-600\">{copyError}</p>\n                ) : null}\n\n                <DialogFooter className=\"gap-2 sm:gap-0\">\n                    <DialogClose asChild>\n                        <Button variant=\"outline\">Fechar</Button>\n                    </DialogClose>\n                    <Button onClick={handleCopy} className=\"gap-2\">\n                        {copied ? <Check className=\"h-4 w-4\" /> : <Copy className=\"h-4 w-4\" />}\n                        {copied ? \"Copiado\" : \"Copiar conteúdo\"}\n                    </Button>\n                </DialogFooter>\n            </DialogContent>\n        </Dialog>\n    );\n}\n","\"use client\";\n\nimport { memo, Suspense, useCallback, useDeferredValue, useEffect, useMemo, useRef, useState } from \"react\";\nimport { useNow } from \"@/hooks/use-now\";\nimport {\n  AlertTriangle,\n  ArrowRight,\n  Bot,\n  CalendarClock,\n  CalendarDays,\n  Check,\n  CheckCircle2,\n  ChevronLeft,\n  ChevronRight,\n  ChevronDown,\n  ChevronUp,\n  CircleAlert,\n  CircleDashed,\n  Copy,\n  Filter,\n  List,\n  Loader2,\n  Plus,\n  Search,\n  Sparkles,\n  WandSparkles,\n  XCircle,\n} from \"lucide-react\";\nimport Link from \"next/link\";\nimport { usePathname, useRouter, useSearchParams } from \"next/navigation\";\nimport { AnimatePresence, motion } from \"framer-motion\";\nimport { useVirtualizer } from \"@tanstack/react-virtual\";\nimport { useUIStore } from \"@/stores/ui-store\";\nimport { useActivityStore } from \"@/stores/activity-store\";\nimport { useAuthStore } from \"@/stores/auth-store\";\nimport type { Activity, ActivityStatus, ActivityType } from \"@/types\";\nimport { allActivityTypes, typeColors, typeIconComponents, typeLabels } from \"./components/config\";\nimport { GeneratedContentModal } from \"./components/generated-content-modal\";\nimport {\n  DAY_MS,\n  startOfDay,\n  parseDateISO,\n  toISODate,\n  addDays,\n  startOfMonth,\n  endOfMonth,\n  startOfWeek,\n  endOfWeek,\n  formatMonthTitle,\n  formatDateBR,\n  formatDateFull,\n  formatCompactDateLabel,\n  initials,\n  isActivityOverdue,\n  isSlaRisk,\n  getRelativeTimeLabel,\n  getStatusChip,\n  getActivityChecklist,\n  getActivityInsight,\n} from \"./components/helpers\";\nimport { Avatar, AvatarFallback } from \"@/components/ui/avatar\";\nimport { Badge } from \"@/components/ui/badge\";\nimport { Button } from \"@/components/ui/button\";\nimport { Checkbox } from \"@/components/ui/checkbox\";\nimport { Input } from \"@/components/ui/input\";\nimport { Label } from \"@/components/ui/label\";\nimport {\n  Popover,\n  PopoverContent,\n  PopoverTrigger,\n} from \"@/components/ui/popover\";\nimport {\n  Dialog,\n  DialogContent,\n  DialogDescription,\n  DialogHeader,\n  DialogTitle,\n} from \"@/components/ui/dialog\";\nimport {\n  AlertDialog,\n  AlertDialogAction,\n  AlertDialogCancel,\n  AlertDialogContent,\n  AlertDialogDescription,\n  AlertDialogFooter,\n  AlertDialogHeader,\n  AlertDialogTitle,\n} from \"@/components/ui/alert-dialog\";\nimport { Separator } from \"@/components/ui/separator\";\nimport { Skeleton } from \"@/components/ui/skeleton\";\nimport { ModuleCommandHeader } from \"@/components/shared/module-command-header\";\nimport { cn } from \"@/lib/utils\";\n\ntype ViewMode = \"list\" | \"agenda\";\ntype SlaFilter = \"all\" | \"breached\" | \"risk\";\ntype SectionKey = \"intelligence\" | \"overdue\" | \"today\" | \"next7\" | \"future\";\n\ntype RecommendationActionState = \"idle\" | \"loading\" | \"success\" | \"error\";\ntype ActivityFeedbackState =\n  | \"idle\"\n  | \"loading-complete\"\n  | \"loading-cancel\"\n  | \"complete-success\"\n  | \"loading-postpone\"\n  | \"postpone-success\"\n  | \"info\"\n  | \"error\";\n\ninterface MenuxIntelligenceRecommendation {\n  id: string;\n  activityId: string;\n  title: string;\n  context: string;\n  why: string;\n  primaryActionLabel: string;\n  actionKind: \"message\" | \"call\" | \"prepare\";\n}\n\ninterface ActivityFeedback {\n  state: ActivityFeedbackState;\n  message?: string;\n}\n\ninterface CommandResult {\n  status: \"success\" | \"error\";\n  text: string;\n}\n\ninterface InlineFeedback {\n  tone: \"success\" | \"error\" | \"info\";\n  message: string;\n}\n\nconst STATUS_OPTIONS: { value: ActivityStatus; label: string }[] = [\n  { value: \"pending\", label: \"Pendente\" },\n  { value: \"overdue\", label: \"Atrasada\" },\n  { value: \"completed\", label: \"Concluída\" },\n  { value: \"cancelled\", label: \"Cancelada\" },\n];\n\nconst DEFAULT_STATUS_FILTER = new Set<ActivityStatus>([\n  \"pending\",\n  \"overdue\",\n]);\n\nconst SLA_OPTIONS: { value: SlaFilter; label: string }[] = [\n  { value: \"all\", label: \"Todos\" },\n  { value: \"breached\", label: \"Estourado\" },\n  { value: \"risk\", label: \"Em risco\" },\n];\n\nconst STATUS_VALUES = STATUS_OPTIONS.map((status) => status.value);\nconst ALL_ACTIVITY_TYPE_SET = new Set<ActivityType>(allActivityTypes);\nconst DATE_PARAM_REGEX = /^\\d{4}-\\d{2}-\\d{2}$/;\n\nfunction isSameSet<T>(left: Set<T>, right: Set<T>): boolean {\n  if (left.size !== right.size) return false;\n  for (const value of left) {\n    if (!right.has(value)) return false;\n  }\n  return true;\n}\n\nfunction getEffectiveStatus(activity: Activity, now: Date): ActivityStatus {\n  if (activity.status === \"completed\" || activity.status === \"cancelled\") {\n    return activity.status;\n  }\n  return isActivityOverdue(activity, now) ? \"overdue\" : \"pending\";\n}\n\nfunction getExecuteChannelLabel(value: string | null): string {\n  if (!value) return \"atividade\";\n  if (value === \"call\") return \"ligação\";\n  if (value === \"email\") return \"e-mail\";\n  if (value === \"meeting\") return \"reunião\";\n  if (value === \"whatsapp\") return \"WhatsApp\";\n  return \"atividade\";\n}\n\nfunction parseSetParam<T extends string>(\n  rawParam: string | null,\n  allowedValues: readonly T[],\n  fallbackValues: Set<T>\n): Set<T> {\n  if (!rawParam) return new Set(fallbackValues);\n\n  const allowed = new Set(allowedValues);\n  const parsed = rawParam\n    .split(\",\")\n    .map((value) => value.trim())\n    .filter((value): value is T => allowed.has(value as T));\n\n  if (parsed.length === 0) {\n    return new Set(fallbackValues);\n  }\n\n  return new Set(parsed);\n}\n\n// Utility functions are imported from ./components/helpers\n\nfunction buildRecommendations(\n  activities: Activity[],\n  now: Date,\n  seed: number\n): MenuxIntelligenceRecommendation[] {\n  const sorted = [...activities].sort((a, b) => {\n    const aDue = parseDateISO(a.dueDate).getTime();\n    const bDue = parseDateISO(b.dueDate).getTime();\n\n    const aScore =\n      (isActivityOverdue(a, now) ? 1000 : 0) +\n      (a.type === \"follow-up\" ? 120 : 0) +\n      (a.type === \"call\" ? 90 : 0) +\n      (a.status === \"pending\" ? 40 : 0);\n    const bScore =\n      (isActivityOverdue(b, now) ? 1000 : 0) +\n      (b.type === \"follow-up\" ? 120 : 0) +\n      (b.type === \"call\" ? 90 : 0) +\n      (b.status === \"pending\" ? 40 : 0);\n\n    if (aScore !== bScore) return bScore - aScore;\n    if (aDue !== bDue) return aDue - bDue;\n    return a.title.localeCompare(b.title);\n  });\n\n  const offset = seed % 2;\n  return sorted.slice(offset, offset + 3).map((activity, index) => {\n    const context = `${activity.clientName || activity.opportunityTitle || \"Sem contexto\"} · ${typeLabels[activity.type]}`;\n    const overdue = isActivityOverdue(activity, now);\n\n    return {\n      id: `intelligence-rec-${activity.id}`,\n      activityId: activity.id,\n      title: index === 0 ? \"Faça isso agora\" : \"Ação recomendada\",\n      context,\n      why: overdue\n        ? \"Prazo estourado com alto impacto no ritmo do pipeline.\"\n        : \"Atividade com potencial de destravar avanço ainda hoje.\",\n      primaryActionLabel: \"Ir para atividade\",\n      actionKind:\n        activity.type === \"call\" || activity.type === \"whatsapp\"\n          ? \"call\"\n          : activity.type === \"meeting\"\n            ? \"prepare\"\n            : \"message\",\n    };\n  });\n}\n\nfunction buildCommandResult(\n  commandId: string,\n  data: {\n    overdueCount: number;\n    riskCount: number;\n    totalActive: number;\n    selectedActivity?: Activity;\n  }\n): CommandResult {\n  switch (commandId) {\n    case \"bulk-messages\":\n      if (data.overdueCount === 0) {\n        return {\n          status: \"error\",\n          text: \"Sem atividades atrasadas para gerar mensagens no momento.\",\n        };\n      }\n      return {\n        status: \"success\",\n        text: `Geradas sugestões para ${data.overdueCount} atividades atrasadas.`,\n      };\n    case \"sla-priority\":\n      if (data.overdueCount === 0) {\n        return {\n          status: \"error\",\n          text: \"Não há SLAs estourados agora. Tudo sob controle.\",\n        };\n      }\n      return {\n        status: \"success\",\n        text: `${data.overdueCount} SLAs críticos priorizados para execução imediata.`,\n      };\n    case \"week-summary\":\n      return {\n        status: \"success\",\n        text: `Resumo gerado com base em ${data.totalActive} atividades ativas da semana.`,\n      };\n    case \"risk-client\":\n      if (data.overdueCount === 0 && data.riskCount === 0) {\n        return {\n          status: \"error\",\n          text: \"Nenhum cliente em risco crítico detectado neste momento.\",\n        };\n      }\n      return {\n        status: \"success\",\n        text: \"Cliente com maior risco identificado e destacado para ação imediata.\",\n      };\n    case \"call-script\":\n      return {\n        status: \"success\",\n        text: data.selectedActivity\n          ? `Script de ligação gerado para ${data.selectedActivity.clientName || data.selectedActivity.opportunityTitle || \"atividade selecionada\"}.`\n          : \"Script de ligação gerado para o bloco de maior urgência.\",\n      };\n    default:\n      return {\n        status: \"error\",\n        text: \"Não foi possível executar este comando agora.\",\n      };\n  }\n}\n\nconst RAIL_COMMANDS = [\n  { id: \"bulk-messages\", label: \"Gerar mensagens para atrasadas\" },\n  { id: \"sla-priority\", label: \"Priorizar SLAs estourados\" },\n  { id: \"week-summary\", label: \"Resumir a semana\" },\n  { id: \"risk-client\", label: \"Identificar cliente em risco\" },\n  { id: \"call-script\", label: \"Gerar scripts de ligação\" },\n] as const;\n\nexport default function ActivitiesPage() {\n  return (\n    <Suspense\n      fallback={\n        <div className=\"flex h-[calc(100dvh-2rem)] w-full flex-col gap-4\">\n          <div className=\"shrink-0 rounded-[20px] border border-zinc-200/80 bg-zinc-50/85 px-5 py-4\">\n            <Skeleton className=\"h-8 w-40\" />\n            <Skeleton className=\"mt-2 h-4 w-56\" />\n          </div>\n          <div className=\"flex-1 space-y-4\">\n            <Skeleton className=\"h-[200px] rounded-[18px]\" />\n            <Skeleton className=\"h-[400px] rounded-[18px]\" />\n          </div>\n        </div>\n      }\n    >\n      <ActivitiesPageContent />\n    </Suspense>\n  );\n}\n\nfunction ActivitiesPageContent() {\n  const { openDrawer } = useUIStore();\n  const { user, permissions } = useAuthStore();\n  const router = useRouter();\n  const pathname = usePathname();\n  const searchParams = useSearchParams();\n  const {\n    activities: storeActivities,\n    completeActivity,\n    cancelActivity,\n    postponeActivity,\n  } = useActivityStore();\n\n  const isLoading = false;\n  const [viewMode, setViewMode] = useState<ViewMode>(\"list\");\n  const [isFilterOpen, setIsFilterOpen] = useState(false);\n  const [ownerOverrideId, setOwnerOverrideId] = useState<string | null>(null);\n\n  const [filterTypes, setFilterTypes] = useState<Set<ActivityType>>(\n    () => new Set(allActivityTypes)\n  );\n  const [filterStatuses, setFilterStatuses] = useState<Set<ActivityStatus>>(\n    () => new Set(DEFAULT_STATUS_FILTER)\n  );\n  const [filterDateStart, setFilterDateStart] = useState(\"\");\n  const [filterDateEnd, setFilterDateEnd] = useState(\"\");\n  const [filterSla, setFilterSla] = useState<SlaFilter>(\"all\");\n  const [searchQuery, setSearchQuery] = useState(\"\");\n\n  const [collapsedSections, setCollapsedSections] = useState<Record<SectionKey, boolean>>({\n    intelligence: false,\n    overdue: false,\n    today: false,\n    next7: false,\n    future: true,\n  });\n\n  const [sectionErrors, setSectionErrors] = useState<Record<SectionKey, string | null>>({\n    intelligence: null,\n    overdue: null,\n    today: null,\n    next7: null,\n    future: null,\n  });\n\n  const [planSeed, setPlanSeed] = useState(0);\n  const [isPlanning, setIsPlanning] = useState(false);\n  const [recommendationStates, setRecommendationStates] = useState<\n    Record<string, RecommendationActionState>\n  >({});\n\n  const [selectedActivityId, setSelectedActivityId] = useState<string | null>(null);\n  const [expandedActivityId, setExpandedActivityId] = useState<string | null>(null);\n  const [selectedActivityIds, setSelectedActivityIds] = useState<Set<string>>(\n    () => new Set()\n  );\n  const [confirmBulkCancelOpen, setConfirmBulkCancelOpen] = useState(false);\n  const [confirmBulkCompleteOpen, setConfirmBulkCompleteOpen] = useState(false);\n  const [bulkPostponeOpen, setBulkPostponeOpen] = useState(false);\n  const [bulkPostponeCustomDate, setBulkPostponeCustomDate] = useState(\"\");\n  const [activityFeedback, setActivityFeedback] = useState<Record<string, ActivityFeedback>>(\n    {}\n  );\n  const [headerInlineFeedback, setHeaderInlineFeedback] = useState<InlineFeedback | null>(null);\n  const [bulkInlineFeedback, setBulkInlineFeedback] = useState<InlineFeedback | null>(null);\n  const [summaryInlineFeedback, setSummaryInlineFeedback] = useState<InlineFeedback | null>(null);\n  const [highlightedPostponedId, setHighlightedPostponedId] = useState<string | null>(null);\n\n  const [commandLoadingId, setCommandLoadingId] = useState<string | null>(null);\n  const [commandResult, setCommandResult] = useState<CommandResult | null>(null);\n  const [isExporting, setIsExporting] = useState(false);\n  const [isPageScrolled, setIsPageScrolled] = useState(false);\n\n  // Modal State\n  const [generatedModalOpen, setGeneratedModalOpen] = useState(false);\n  const [generatedContent, setGeneratedContent] = useState({ title: \"\", content: \"\" });\n  const [detailsModalActivityId, setDetailsModalActivityId] = useState<string | null>(null);\n\n  const timeoutRef = useRef<number[]>([]);\n  const appliedQueryRef = useRef<string | null>(null);\n  const intelligenceRailRef = useRef<HTMLDivElement | null>(null);\n  const now = useNow(60_000);\n  const deferredSearchQuery = useDeferredValue(searchQuery);\n  const [calendarMonth, setCalendarMonth] = useState<Date>(() => startOfMonth(now));\n  const [selectedCalendarDate, setSelectedCalendarDate] = useState<string>(\n    () => toISODate(startOfDay(now))\n  );\n\n  const canViewTeamScope = Boolean(permissions?.canViewAllUnits || user?.role === \"master\");\n  const canCreateActivity = Boolean(permissions?.canCreateActivity);\n  const canExecuteActivityActions = Boolean(permissions?.canEditActivity);\n  const canCancelActivity = Boolean(permissions?.canCancelActivity);\n  const canExportActivities = Boolean(permissions?.canExportData);\n\n  const { scopedOwnerId, scopeMode } = useMemo(() => {\n    const preferredOwnerId = user?.id ?? null;\n\n    if (canViewTeamScope) {\n      if (\n        ownerOverrideId &&\n        storeActivities.some((activity) => activity.responsibleId === ownerOverrideId)\n      ) {\n        return {\n          scopedOwnerId: ownerOverrideId,\n          scopeMode: \"override\" as const,\n        };\n      }\n\n      if (preferredOwnerId) {\n        return { scopedOwnerId: preferredOwnerId, scopeMode: \"self\" as const };\n      }\n\n      return { scopedOwnerId: null, scopeMode: \"team\" as const };\n    }\n\n    return { scopedOwnerId: preferredOwnerId, scopeMode: \"self\" as const };\n  }, [canViewTeamScope, ownerOverrideId, storeActivities, user?.id]);\n\n  const isTeamScope = canViewTeamScope && scopeMode === \"team\";\n\n  const activities = useMemo(\n    () => {\n      if (canViewTeamScope && scopedOwnerId === null) {\n        return storeActivities;\n      }\n\n      if (!scopedOwnerId) {\n        return [];\n      }\n\n      return storeActivities.filter((activity) => activity.responsibleId === scopedOwnerId);\n    },\n    [canViewTeamScope, scopedOwnerId, storeActivities]\n  );\n\n  const hasNoScopedActivities = activities.length === 0;\n\n  const schedule = useCallback((fn: () => void, ms: number) => {\n    const id = window.setTimeout(() => {\n      fn();\n      timeoutRef.current = timeoutRef.current.filter((item) => item !== id);\n    }, ms);\n    timeoutRef.current.push(id);\n  }, []);\n\n  const pushHeaderInlineFeedback = useCallback(\n    (feedback: InlineFeedback) => {\n      setHeaderInlineFeedback(feedback);\n      schedule(() => setHeaderInlineFeedback(null), 2600);\n    },\n    [schedule]\n  );\n\n  const pushBulkInlineFeedback = useCallback(\n    (feedback: InlineFeedback) => {\n      setBulkInlineFeedback(feedback);\n      schedule(() => setBulkInlineFeedback(null), 2600);\n    },\n    [schedule]\n  );\n\n  const pushSummaryInlineFeedback = useCallback(\n    (feedback: InlineFeedback) => {\n      setSummaryInlineFeedback(feedback);\n      schedule(() => setSummaryInlineFeedback(null), 2600);\n    },\n    [schedule]\n  );\n\n  // Loading is instant since data comes from the local store (no API).\n\n  // Auto-dismiss commandResult after 6 seconds\n  useEffect(() => {\n    if (!commandResult) return;\n    const timer = window.setTimeout(() => setCommandResult(null), 6000);\n    return () => window.clearTimeout(timer);\n  }, [commandResult]);\n\n  useEffect(() => {\n    return () => {\n      timeoutRef.current.forEach((id) => window.clearTimeout(id));\n    };\n  }, []);\n\n  useEffect(() => {\n    const onScroll = () => setIsPageScrolled(window.scrollY > 8);\n    onScroll();\n    window.addEventListener(\"scroll\", onScroll, { passive: true });\n    return () => window.removeEventListener(\"scroll\", onScroll);\n  }, []);\n\n  const applyStatusFromParam = useCallback((statusParam: string) => {\n    const normalized = statusParam.trim().toLowerCase();\n\n    setViewMode(\"list\");\n    setFilterTypes(new Set(allActivityTypes));\n    setFilterDateStart(\"\");\n    setFilterDateEnd(\"\");\n\n    if (normalized === \"overdue\") {\n      setFilterStatuses(new Set<ActivityStatus>([\"pending\", \"overdue\"]));\n      setFilterSla(\"breached\");\n      return;\n    }\n\n    if (normalized === \"risk\") {\n      setFilterStatuses(new Set<ActivityStatus>([\"pending\"]));\n      setFilterSla(\"risk\");\n      return;\n    }\n\n    if (normalized === \"pace\") {\n      setFilterStatuses(new Set<ActivityStatus>([\"pending\", \"overdue\"]));\n      setFilterSla(\"all\");\n      return;\n    }\n\n    if (normalized === \"achieved\") {\n      setFilterStatuses(new Set<ActivityStatus>([\"completed\"]));\n      setFilterSla(\"all\");\n      return;\n    }\n\n    if (\n      normalized === \"pending\" ||\n      normalized === \"completed\" ||\n      normalized === \"cancelled\"\n    ) {\n      setFilterStatuses(new Set<ActivityStatus>([normalized]));\n      setFilterSla(\"all\");\n      return;\n    }\n\n    setFilterStatuses(new Set(DEFAULT_STATUS_FILTER));\n    setFilterSla(\"all\");\n  }, []);\n\n  const applyExplicitUrlFilters = useCallback(\n    (data: {\n      viewMode: ViewMode;\n      query: string;\n      types: Set<ActivityType>;\n      statuses: Set<ActivityStatus>;\n      sla: SlaFilter;\n      start: string;\n      end: string;\n    }) => {\n      setViewMode(data.viewMode);\n      setSearchQuery(data.query);\n      setFilterTypes(data.types);\n      setFilterStatuses(data.statuses);\n      setFilterSla(data.sla);\n      setFilterDateStart(data.start);\n      setFilterDateEnd(data.end);\n    },\n    []\n  );\n\n  const resetFiltersToDefault = useCallback(() => {\n    setViewMode(\"list\");\n    setSearchQuery(\"\");\n    setFilterTypes(new Set(allActivityTypes));\n    setFilterStatuses(new Set(DEFAULT_STATUS_FILTER));\n    setFilterDateStart(\"\");\n    setFilterDateEnd(\"\");\n    setFilterSla(\"all\");\n  }, []);\n\n  useEffect(() => {\n    const queryString = searchParams.toString();\n    if (appliedQueryRef.current === queryString) return;\n    appliedQueryRef.current = queryString;\n\n    const sourceParam = searchParams.get(\"source\");\n    const statusParam = searchParams.get(\"status\");\n    const focusParam = searchParams.get(\"focus\");\n    const goalParam = searchParams.get(\"goal\");\n    const activityIdParam = searchParams.get(\"activityId\") ?? searchParams.get(\"id\");\n    const executeParam = searchParams.get(\"execute\");\n    const viewParam = searchParams.get(\"view\");\n    const queryParam = searchParams.get(\"q\");\n    const typesParam = searchParams.get(\"types\");\n    const statusesParam = searchParams.get(\"statuses\");\n    const slaParam = searchParams.get(\"sla\");\n    const startParam = searchParams.get(\"start\");\n    const endParam = searchParams.get(\"end\");\n    const hasExplicitUrlFilters =\n      viewParam !== null ||\n      queryParam !== null ||\n      typesParam !== null ||\n      statusesParam !== null ||\n      slaParam !== null ||\n      startParam !== null ||\n      endParam !== null;\n\n    if (hasExplicitUrlFilters) {\n      applyExplicitUrlFilters({\n        viewMode: viewParam === \"agenda\" ? \"agenda\" : \"list\",\n        query: queryParam ?? \"\",\n        types: parseSetParam(typesParam, allActivityTypes, new Set(allActivityTypes)),\n        statuses: parseSetParam(\n          statusesParam,\n          STATUS_VALUES,\n          new Set(DEFAULT_STATUS_FILTER)\n        ),\n        sla: slaParam === \"breached\" || slaParam === \"risk\" ? slaParam : \"all\",\n        start: startParam && DATE_PARAM_REGEX.test(startParam) ? startParam : \"\",\n        end: endParam && DATE_PARAM_REGEX.test(endParam) ? endParam : \"\",\n      });\n    } else if (statusParam) {\n      applyStatusFromParam(statusParam);\n      setSearchQuery(\"\");\n    } else {\n      resetFiltersToDefault();\n    }\n\n    if (sourceParam === \"goals\" && goalParam) {\n      setCommandResult({\n        status: \"success\",\n        text: `Filtro aplicado para acompanhar a meta \"${goalParam}\".`,\n      });\n    } else if (sourceParam === \"goals\" && focusParam === \"metas\") {\n      setCommandResult({\n        status: \"success\",\n        text: \"Painel ajustado para apoiar execução de metas.\",\n      });\n    }\n\n    if (activityIdParam) {\n      const linkedActivity = storeActivities.find(\n        (activity) => activity.id === activityIdParam\n      );\n\n      if (!linkedActivity) {\n        setOwnerOverrideId(null);\n        setCommandResult({\n          status: \"error\",\n          text: \"Atividade do link não encontrada na sua carteira atual.\",\n        });\n        return;\n      }\n\n      const canAccessLinkedActivity =\n        canViewTeamScope || linkedActivity.responsibleId === user?.id;\n\n      if (!canAccessLinkedActivity) {\n        setOwnerOverrideId(null);\n        setCommandResult({\n          status: \"error\",\n          text: \"Essa atividade não pertence à sua carteira.\",\n        });\n        return;\n      }\n\n      setOwnerOverrideId(canViewTeamScope ? linkedActivity.responsibleId : null);\n      setSelectedActivityId(linkedActivity.id);\n      setExpandedActivityId(linkedActivity.id);\n\n      schedule(() => {\n        const target = document.getElementById(\n          `activity-card-${linkedActivity.id}`\n        );\n        if (target) {\n          target.scrollIntoView({ behavior: \"smooth\", block: \"center\" });\n        }\n      }, 80);\n\n      if (executeParam) {\n        pushHeaderInlineFeedback({\n          tone: \"info\",\n          message: `Canal de ${getExecuteChannelLabel(executeParam)} pronto para execução desta atividade.`,\n        });\n      }\n    } else {\n      setOwnerOverrideId(null);\n    }\n  }, [\n    applyExplicitUrlFilters,\n    canViewTeamScope,\n    applyStatusFromParam,\n    pushHeaderInlineFeedback,\n    resetFiltersToDefault,\n    schedule,\n    searchParams,\n    storeActivities,\n    user?.id,\n  ]);\n\n  useEffect(() => {\n    if (appliedQueryRef.current === null) return;\n\n    const params = new URLSearchParams(searchParams.toString());\n    const normalizedQuery = searchQuery.trim();\n    const selectedTypes = allActivityTypes.filter((type) => filterTypes.has(type));\n    const selectedStatuses = STATUS_VALUES.filter((status) =>\n      filterStatuses.has(status)\n    );\n\n    if (viewMode !== \"list\") params.set(\"view\", viewMode);\n    else params.delete(\"view\");\n\n    if (normalizedQuery) params.set(\"q\", normalizedQuery);\n    else params.delete(\"q\");\n\n    if (selectedTypes.length === allActivityTypes.length) params.delete(\"types\");\n    else params.set(\"types\", selectedTypes.join(\",\"));\n\n    if (selectedStatuses.length === STATUS_VALUES.length) params.delete(\"statuses\");\n    else params.set(\"statuses\", selectedStatuses.join(\",\"));\n\n    if (filterSla === \"all\") params.delete(\"sla\");\n    else params.set(\"sla\", filterSla);\n\n    if (filterDateStart) params.set(\"start\", filterDateStart);\n    else params.delete(\"start\");\n\n    if (filterDateEnd) params.set(\"end\", filterDateEnd);\n    else params.delete(\"end\");\n\n    // Legacy status param can diverge from explicit filters.\n    params.delete(\"status\");\n    params.delete(\"id\");\n    params.delete(\"activityId\");\n    params.delete(\"execute\");\n    params.delete(\"source\");\n    params.delete(\"focus\");\n    params.delete(\"goal\");\n\n    const nextQuery = params.toString();\n    const currentQuery = searchParams.toString();\n    if (nextQuery === currentQuery) return;\n\n    appliedQueryRef.current = nextQuery;\n    router.replace(nextQuery ? `${pathname}?${nextQuery}` : pathname, {\n      scroll: false,\n    });\n  }, [\n    filterDateEnd,\n    filterDateStart,\n    filterSla,\n    filterStatuses,\n    filterTypes,\n    pathname,\n    router,\n    searchParams,\n    searchQuery,\n    viewMode,\n  ]);\n\n  const filteredActivities = useMemo(() => {\n    const normalizedQuery = deferredSearchQuery.trim().toLowerCase();\n\n    return activities.filter((activity) => {\n      const effectiveStatus = getEffectiveStatus(activity, now);\n      if (!filterTypes.has(activity.type)) return false;\n      if (!filterStatuses.has(effectiveStatus)) return false;\n      if (filterDateStart && activity.dueDate < filterDateStart) return false;\n      if (filterDateEnd && activity.dueDate > filterDateEnd) return false;\n      if (normalizedQuery) {\n        const searchableContent = [\n          activity.title,\n          activity.description || \"\",\n          activity.clientName || \"\",\n          activity.opportunityTitle || \"\",\n          activity.responsibleName,\n          typeLabels[activity.type],\n        ]\n          .join(\" \")\n          .toLowerCase();\n\n        if (!searchableContent.includes(normalizedQuery)) return false;\n      }\n\n      if (filterSla === \"breached\" && !isActivityOverdue(activity, now)) return false;\n      if (filterSla === \"risk\" && !isSlaRisk(activity, now)) return false;\n\n      return true;\n    });\n  }, [\n    activities,\n    filterTypes,\n    filterStatuses,\n    filterDateStart,\n    filterDateEnd,\n    filterSla,\n    deferredSearchQuery,\n    now,\n  ]);\n\n  const executionActivities = useMemo(\n    () =>\n      filteredActivities.filter(\n        (activity) => activity.status !== \"completed\" && activity.status !== \"cancelled\"\n      ),\n    [filteredActivities]\n  );\n\n  const executionActivityIdSet = useMemo(\n    () => new Set(executionActivities.map((activity) => activity.id)),\n    [executionActivities]\n  );\n\n  const selectedExecutionIds = useMemo(\n    () =>\n      Array.from(selectedActivityIds).filter((activityId) =>\n        executionActivityIdSet.has(activityId)\n      ),\n    [selectedActivityIds, executionActivityIdSet]\n  );\n\n  const allVisibleExecutionSelected =\n    executionActivities.length > 0 &&\n    selectedExecutionIds.length === executionActivities.length;\n\n  const toggleActivitySelection = useCallback((activityId: string) => {\n    setSelectedActivityIds((prev) => {\n      const next = new Set(prev);\n      if (next.has(activityId)) next.delete(activityId);\n      else next.add(activityId);\n      return next;\n    });\n  }, []);\n\n  const handleSelectAllVisibleActivities = useCallback((checked: boolean) => {\n    if (!checked) {\n      setSelectedActivityIds(new Set());\n      return;\n    }\n\n    setSelectedActivityIds(new Set(executionActivities.map((activity) => activity.id)));\n  }, [executionActivities]);\n\n  const clearSelectedActivities = useCallback(() => {\n    setSelectedActivityIds(new Set());\n  }, []);\n\n  const calendarActivitiesByDate = useMemo(() => {\n    const byDate = new Map<string, Activity[]>();\n\n    for (const activity of executionActivities) {\n      const key = activity.dueDate;\n      const list = byDate.get(key) || [];\n      list.push(activity);\n      byDate.set(key, list);\n    }\n\n    for (const [key, list] of byDate.entries()) {\n      list.sort((a, b) => (a.dueTime || \"99:99\").localeCompare(b.dueTime || \"99:99\"));\n      byDate.set(key, list);\n    }\n\n    return byDate;\n  }, [executionActivities]);\n\n  const calendarDays = useMemo(() => {\n    const monthStart = startOfMonth(calendarMonth);\n    const monthEnd = endOfMonth(calendarMonth);\n    const gridStart = startOfWeek(monthStart);\n    const gridEnd = endOfWeek(monthEnd);\n\n    const days: Date[] = [];\n    let cursor = gridStart;\n\n    while (cursor.getTime() <= gridEnd.getTime()) {\n      days.push(cursor);\n      cursor = addDays(cursor, 1);\n    }\n\n    return days;\n  }, [calendarMonth]);\n\n  const selectedCalendarDayActivities = useMemo(() => {\n    return calendarActivitiesByDate.get(selectedCalendarDate) || [];\n  }, [calendarActivitiesByDate, selectedCalendarDate]);\n\n  const overdueActivities = useMemo(\n    () =>\n      executionActivities\n        .filter((activity) => isActivityOverdue(activity, now))\n        .sort((a, b) => parseDateISO(a.dueDate).getTime() - parseDateISO(b.dueDate).getTime()),\n    [executionActivities, now]\n  );\n\n  const todayActivities = useMemo(() => {\n    const todayDate = startOfDay(now).getTime();\n    return executionActivities\n      .filter((activity) => {\n        if (isActivityOverdue(activity, now)) return false;\n        return startOfDay(parseDateISO(activity.dueDate)).getTime() === todayDate;\n      })\n      .sort((a, b) => (a.dueTime || \"99:99\").localeCompare(b.dueTime || \"99:99\"));\n  }, [executionActivities, now]);\n\n  const next7Activities = useMemo(() => {\n    const todayDate = startOfDay(now);\n    const next7Date = addDays(todayDate, 7);\n\n    return executionActivities\n      .filter((activity) => {\n        if (isActivityOverdue(activity, now)) return false;\n        const due = startOfDay(parseDateISO(activity.dueDate));\n        return due > todayDate && due <= next7Date;\n      })\n      .sort((a, b) => {\n        const diff = parseDateISO(a.dueDate).getTime() - parseDateISO(b.dueDate).getTime();\n        if (diff !== 0) return diff;\n        return (a.dueTime || \"99:99\").localeCompare(b.dueTime || \"99:99\");\n      });\n  }, [executionActivities, now]);\n\n  const futureActivities = useMemo(() => {\n    const next7Date = addDays(startOfDay(now), 7);\n\n    return executionActivities\n      .filter((activity) => {\n        if (isActivityOverdue(activity, now)) return false;\n        const due = startOfDay(parseDateISO(activity.dueDate));\n        return due > next7Date;\n      })\n      .sort((a, b) => {\n        const diff = parseDateISO(a.dueDate).getTime() - parseDateISO(b.dueDate).getTime();\n        if (diff !== 0) return diff;\n        return (a.dueTime || \"99:99\").localeCompare(b.dueTime || \"99:99\");\n      });\n  }, [executionActivities, now]);\n\n  const completedActivities = useMemo(\n    () =>\n      filteredActivities\n        .filter((activity) => activity.status === \"completed\")\n        .sort((a, b) => {\n          const aDate = a.completedAt || a.dueDate;\n          const bDate = b.completedAt || b.dueDate;\n          return bDate.localeCompare(aDate);\n        }),\n    [filteredActivities]\n  );\n\n  const overdueCount = overdueActivities.length;\n  const riskCount = executionActivities.filter((activity) => isSlaRisk(activity, now)).length;\n  const headerMetaText = useMemo(\n    () =>\n      `${formatCompactDateLabel(now)} · Olá, ${user?.name?.trim().split(\" \")[0] ?? \"Vendedor\"\n      }`,\n    [now, user?.name]\n  );\n\n  const typeCounts = useMemo(() => {\n    const counts: Record<ActivityType, number> = {\n      call: 0,\n      email: 0,\n      meeting: 0,\n      visit: 0,\n      task: 0,\n      \"follow-up\": 0,\n      whatsapp: 0,\n    };\n\n    for (const activity of filteredActivities) {\n      counts[activity.type] += 1;\n    }\n\n    return counts;\n  }, [filteredActivities]);\n\n  const hotspotType = useMemo(() => {\n    return Object.entries(typeCounts).sort((a, b) => b[1] - a[1])[0] as\n      | [ActivityType, number]\n      | undefined;\n  }, [typeCounts]);\n\n  const weeklyCompletionRate = useMemo(() => {\n    const todayDate = startOfDay(now);\n    const weekStart = addDays(todayDate, -7);\n\n    const weekSlice = filteredActivities.filter((activity) => {\n      const due = startOfDay(parseDateISO(activity.dueDate));\n      return due >= weekStart && due <= todayDate;\n    });\n\n    if (weekSlice.length === 0) return 0;\n\n    const completedCount = weekSlice.filter((activity) => activity.status === \"completed\").length;\n    return Math.round((completedCount / weekSlice.length) * 100);\n  }, [filteredActivities, now]);\n\n  const menuxIntelligenceRecommendations = useMemo(\n    () => buildRecommendations(executionActivities, now, planSeed),\n    [executionActivities, now, planSeed]\n  );\n\n  const selectedActivity = useMemo(\n    () => activities.find((activity) => activity.id === selectedActivityId) || null,\n    [activities, selectedActivityId]\n  );\n\n  const detailsModalActivity = useMemo(\n    () => activities.find((activity) => activity.id === detailsModalActivityId) || null,\n    [activities, detailsModalActivityId]\n  );\n\n  const hasActiveFilters =\n    !isSameSet(filterTypes, ALL_ACTIVITY_TYPE_SET) ||\n    !isSameSet(filterStatuses, DEFAULT_STATUS_FILTER) ||\n    filterDateStart !== \"\" ||\n    filterDateEnd !== \"\" ||\n    filterSla !== \"all\" ||\n    searchQuery.trim() !== \"\";\n\n  const activeFilterChips = useMemo(() => {\n    const chips: Array<{ id: string; label: string; onRemove: () => void }> = [];\n\n    if (filterTypes.size < allActivityTypes.length) {\n      allActivityTypes.forEach((type) => {\n        if (!filterTypes.has(type)) return;\n        chips.push({\n          id: `type-${type}`,\n          label: `Tipo: ${typeLabels[type]}`,\n          onRemove: () => {\n            setFilterTypes((prev) => {\n              const next = new Set(prev);\n              next.delete(type);\n              if (next.size === 0) return new Set(allActivityTypes);\n              return next;\n            });\n          },\n        });\n      });\n    }\n\n    if (!isSameSet(filterStatuses, DEFAULT_STATUS_FILTER)) {\n      STATUS_OPTIONS.forEach((option) => {\n        if (!filterStatuses.has(option.value)) return;\n        chips.push({\n          id: `status-${option.value}`,\n          label: `Status: ${option.label}`,\n          onRemove: () => {\n            setFilterStatuses((prev) => {\n              const next = new Set(prev);\n              next.delete(option.value);\n              if (next.size === 0) return new Set(DEFAULT_STATUS_FILTER);\n              return next;\n            });\n          },\n        });\n      });\n    }\n\n    if (filterDateStart) {\n      chips.push({\n        id: \"date-start\",\n        label: `De: ${formatDateBR(filterDateStart)}`,\n        onRemove: () => setFilterDateStart(\"\"),\n      });\n    }\n\n    if (filterDateEnd) {\n      chips.push({\n        id: \"date-end\",\n        label: `Até: ${formatDateBR(filterDateEnd)}`,\n        onRemove: () => setFilterDateEnd(\"\"),\n      });\n    }\n\n    if (filterSla !== \"all\") {\n      chips.push({\n        id: \"sla\",\n        label: `SLA: ${filterSla === \"breached\" ? \"Estourado\" : \"Em risco\"}`,\n        onRemove: () => setFilterSla(\"all\"),\n      });\n    }\n\n    if (searchQuery.trim()) {\n      chips.push({\n        id: \"search\",\n        label: `Busca: \"${searchQuery.trim()}\"`,\n        onRemove: () => setSearchQuery(\"\"),\n      });\n    }\n\n    return chips;\n  }, [\n    filterTypes,\n    filterStatuses,\n    filterDateStart,\n    filterDateEnd,\n    filterSla,\n    searchQuery,\n  ]);\n\n  const clearFilters = useCallback(() => {\n    setFilterTypes(new Set(allActivityTypes));\n    setFilterStatuses(new Set(DEFAULT_STATUS_FILTER));\n    setFilterDateStart(\"\");\n    setFilterDateEnd(\"\");\n    setFilterSla(\"all\");\n    setSearchQuery(\"\");\n    setSelectedActivityIds(new Set());\n  }, []);\n\n  const toggleSection = useCallback((key: SectionKey) => {\n    setCollapsedSections((prev) => ({\n      ...prev,\n      [key]: !prev[key],\n    }));\n  }, []);\n\n  const handleGeneratePlan = useCallback(() => {\n    setIsPlanning(true);\n    setSectionErrors((prev) => ({ ...prev, intelligence: null }));\n\n    schedule(() => {\n      if (executionActivities.length === 0) {\n        setIsPlanning(false);\n        setSectionErrors((prev) => ({\n          ...prev,\n          intelligence: \"Não há atividades ativas para montar um plano agora.\",\n        }));\n        pushHeaderInlineFeedback({\n          tone: \"error\",\n          message: \"Não há atividades ativas para montar um plano agora.\",\n        });\n        return;\n      }\n\n      setPlanSeed((prev) => prev + 1);\n      setCommandResult({\n        status: \"success\",\n        text: \"Plano do dia gerado com foco em impacto e risco.\",\n      });\n      pushHeaderInlineFeedback({\n        tone: \"success\",\n        message: \"Plano do dia gerado com foco em impacto e risco.\",\n      });\n      setIsPlanning(false);\n    }, 260);\n  }, [executionActivities.length, pushHeaderInlineFeedback, schedule]);\n\n  const handleQuickFilterOverdue = useCallback(() => {\n    setViewMode(\"list\");\n    setFilterStatuses(new Set<ActivityStatus>([\"pending\", \"overdue\"]));\n    setFilterSla(\"breached\");\n    setFilterDateStart(\"\");\n    setFilterDateEnd(\"\");\n  }, []);\n\n  const handleQuickFilterToday = useCallback(() => {\n    const todayIso = toISODate(startOfDay(now));\n    setViewMode(\"list\");\n    setFilterStatuses(new Set<ActivityStatus>([\"pending\", \"overdue\"]));\n    setFilterDateStart(todayIso);\n    setFilterDateEnd(todayIso);\n    setFilterSla(\"all\");\n  }, [now]);\n\n  const handleQuickFilterSlaRisk = useCallback(() => {\n    setViewMode(\"list\");\n    setFilterStatuses(new Set<ActivityStatus>([\"pending\"]));\n    setFilterSla(\"risk\");\n    setFilterDateStart(\"\");\n    setFilterDateEnd(\"\");\n  }, []);\n\n  const handleExecuteRecommendation = useCallback(\n    (recommendation: MenuxIntelligenceRecommendation) => {\n      if (!canExecuteActivityActions) {\n        setCommandResult({\n          status: \"error\",\n          text: \"Você não tem permissão para executar ações nesta carteira.\",\n        });\n        return;\n      }\n\n      setRecommendationStates((prev) => ({\n        ...prev,\n        [recommendation.id]: \"loading\",\n      }));\n\n      schedule(() => {\n        const target = activities.find((item) => item.id === recommendation.activityId);\n\n        if (!target) {\n          setRecommendationStates((prev) => ({\n            ...prev,\n            [recommendation.id]: \"error\",\n          }));\n          schedule(() => {\n            setRecommendationStates((prev) => ({\n              ...prev,\n              [recommendation.id]: \"idle\",\n            }));\n          }, 1200);\n          return;\n        }\n\n        setSelectedActivityId(target.id);\n        setExpandedActivityId(target.id);\n\n        setRecommendationStates((prev) => ({\n          ...prev,\n          [recommendation.id]: \"success\",\n        }));\n\n        setCommandResult({\n          status: \"success\",\n          text:\n            recommendation.actionKind === \"message\"\n              ? `Mensagem preparada para ${target.clientName || target.opportunityTitle || \"atividade\"}.`\n              : recommendation.actionKind === \"call\"\n                ? `Roteiro de contato acionado para ${target.clientName || target.opportunityTitle || \"atividade\"}.`\n                : `Checklist de preparação gerado para ${target.clientName || target.opportunityTitle || \"atividade\"}.`,\n        });\n\n        schedule(() => {\n          setRecommendationStates((prev) => ({\n            ...prev,\n            [recommendation.id]: \"idle\",\n          }));\n        }, 1200);\n      }, 220);\n    },\n    [activities, canExecuteActivityActions, schedule]\n  );\n\n  const handleViewActivityFromRecommendation = useCallback((activityId: string) => {\n    setSelectedActivityId(activityId);\n    setExpandedActivityId(activityId);\n\n    const target = document.getElementById(`activity-card-${activityId}`);\n    if (target) {\n      target.scrollIntoView({ behavior: \"smooth\", block: \"center\" });\n    }\n  }, []);\n\n  const clearActivityFeedback = useCallback((activityId: string) => {\n    setActivityFeedback((prev) => {\n      const next = { ...prev };\n      delete next[activityId];\n      return next;\n    });\n  }, []);\n\n  const handleActionDenied = useCallback(\n    (activityId: string, message: string) => {\n      setActivityFeedback((prev) => ({\n        ...prev,\n        [activityId]: { state: \"error\", message },\n      }));\n\n      schedule(() => {\n        clearActivityFeedback(activityId);\n      }, 2200);\n    },\n    [clearActivityFeedback, schedule]\n  );\n\n  const canRunActionOnActivity = useCallback(\n    (activityId: string) => activities.some((activity) => activity.id === activityId),\n    [activities]\n  );\n\n  const handleCompleteActivity = useCallback(\n    (activityId: string, notes?: string) => {\n      if (!canExecuteActivityActions) {\n        handleActionDenied(activityId, \"Você não tem permissão para concluir atividades.\");\n        return;\n      }\n\n      if (!canRunActionOnActivity(activityId)) {\n        handleActionDenied(activityId, \"A atividade não pertence à sua carteira.\");\n        return;\n      }\n\n      setActivityFeedback((prev) => ({\n        ...prev,\n        [activityId]: { state: \"loading-complete\" },\n      }));\n\n      schedule(() => {\n        try {\n          completeActivity(activityId, notes);\n          setActivityFeedback((prev) => ({\n            ...prev,\n            [activityId]: { state: \"complete-success\", message: \"Concluída\" },\n          }));\n        } catch {\n          setActivityFeedback((prev) => ({\n            ...prev,\n            [activityId]: { state: \"error\", message: \"Falha ao concluir atividade.\" },\n          }));\n        }\n      }, 180);\n\n      schedule(() => {\n        clearActivityFeedback(activityId);\n      }, 1500);\n    },\n    [\n      canExecuteActivityActions,\n      canRunActionOnActivity,\n      clearActivityFeedback,\n      completeActivity,\n      handleActionDenied,\n      schedule,\n    ]\n  );\n\n  const handleCancelActivity = useCallback(\n    (activityId: string) => {\n      if (!canCancelActivity) {\n        handleActionDenied(activityId, \"Você não tem permissão para cancelar atividades.\");\n        return;\n      }\n\n      if (!canRunActionOnActivity(activityId)) {\n        handleActionDenied(activityId, \"A atividade não pertence à sua carteira.\");\n        return;\n      }\n\n      setActivityFeedback((prev) => ({\n        ...prev,\n        [activityId]: { state: \"loading-cancel\" },\n      }));\n\n      schedule(() => {\n        try {\n          cancelActivity(activityId);\n          setActivityFeedback((prev) => ({\n            ...prev,\n            [activityId]: { state: \"complete-success\", message: \"Cancelada\" },\n          }));\n        } catch {\n          setActivityFeedback((prev) => ({\n            ...prev,\n            [activityId]: { state: \"error\", message: \"Falha ao cancelar atividade.\" },\n          }));\n        }\n      }, 180);\n\n      schedule(() => {\n        clearActivityFeedback(activityId);\n      }, 1500);\n    },\n    [\n      canCancelActivity,\n      canRunActionOnActivity,\n      cancelActivity,\n      clearActivityFeedback,\n      handleActionDenied,\n      schedule,\n    ]\n  );\n\n  const handlePostponeActivity = useCallback(\n    (activityId: string, newDate: string) => {\n      if (!canExecuteActivityActions) {\n        handleActionDenied(activityId, \"Você não tem permissão para reagendar atividades.\");\n        return;\n      }\n\n      if (!canRunActionOnActivity(activityId)) {\n        handleActionDenied(activityId, \"A atividade não pertence à sua carteira.\");\n        return;\n      }\n\n      if (!DATE_PARAM_REGEX.test(newDate)) {\n        handleActionDenied(activityId, \"Data de reagendamento inválida.\");\n        return;\n      }\n\n      const todayIso = toISODate(startOfDay(now));\n      if (newDate < todayIso) {\n        handleActionDenied(activityId, \"Escolha uma data a partir de hoje.\");\n        return;\n      }\n\n      setActivityFeedback((prev) => ({\n        ...prev,\n        [activityId]: { state: \"loading-postpone\" },\n      }));\n\n      schedule(() => {\n        try {\n          postponeActivity(activityId, newDate);\n          setHighlightedPostponedId(activityId);\n          setActivityFeedback((prev) => ({\n            ...prev,\n            [activityId]: {\n              state: \"postpone-success\",\n              message: `Reagendada para ${formatDateBR(newDate)}`,\n            },\n          }));\n        } catch {\n          setActivityFeedback((prev) => ({\n            ...prev,\n            [activityId]: { state: \"error\", message: \"Falha ao reagendar atividade.\" },\n          }));\n        }\n      }, 180);\n\n      schedule(() => {\n        setHighlightedPostponedId((current) => (current === activityId ? null : current));\n        clearActivityFeedback(activityId);\n      }, 1500);\n    },\n    [\n      canExecuteActivityActions,\n      canRunActionOnActivity,\n      clearActivityFeedback,\n      handleActionDenied,\n      now,\n      postponeActivity,\n      schedule,\n    ]\n  );\n\n  const handleRequestBulkCompleteActivities = useCallback(() => {\n    if (selectedExecutionIds.length === 0) return;\n\n    if (!canExecuteActivityActions) {\n      setCommandResult({\n        status: \"error\",\n        text: \"Você não tem permissão para concluir atividades em lote.\",\n      });\n      pushBulkInlineFeedback({\n        tone: \"error\",\n        message: \"Você não tem permissão para concluir atividades em lote.\",\n      });\n      return;\n    }\n\n    setConfirmBulkCompleteOpen(true);\n  }, [canExecuteActivityActions, pushBulkInlineFeedback, selectedExecutionIds.length]);\n\n  const handleConfirmBulkCompleteActivities = useCallback(() => {\n    if (selectedExecutionIds.length === 0) {\n      setConfirmBulkCompleteOpen(false);\n      return;\n    }\n\n    let successCount = 0;\n    let deniedCount = 0;\n    selectedExecutionIds.forEach((activityId) => {\n      if (!canRunActionOnActivity(activityId)) {\n        deniedCount += 1;\n        return;\n      }\n      handleCompleteActivity(activityId);\n      successCount += 1;\n    });\n    clearSelectedActivities();\n    setConfirmBulkCompleteOpen(false);\n    const message =\n      deniedCount > 0\n        ? `${successCount} concluída(s), ${deniedCount} sem permissão/escopo.`\n        : `${successCount} atividade(s) concluída(s) em lote.`;\n    setCommandResult({\n      status: deniedCount > 0 ? \"error\" : \"success\",\n      text: message,\n    });\n    pushBulkInlineFeedback({\n      tone: deniedCount > 0 ? \"error\" : \"success\",\n      message,\n    });\n  }, [\n    canRunActionOnActivity,\n    clearSelectedActivities,\n    handleCompleteActivity,\n    pushBulkInlineFeedback,\n    selectedExecutionIds,\n  ]);\n\n  const handleRequestBulkCancelActivities = useCallback(() => {\n    if (selectedExecutionIds.length === 0) return;\n\n    if (!canCancelActivity) {\n      setCommandResult({\n        status: \"error\",\n        text: \"Você não tem permissão para cancelar atividades em lote.\",\n      });\n      pushBulkInlineFeedback({\n        tone: \"error\",\n        message: \"Você não tem permissão para cancelar atividades em lote.\",\n      });\n      return;\n    }\n\n    setConfirmBulkCancelOpen(true);\n  }, [canCancelActivity, pushBulkInlineFeedback, selectedExecutionIds.length]);\n\n  const handleConfirmBulkCancelActivities = useCallback(() => {\n    if (selectedExecutionIds.length === 0) {\n      setConfirmBulkCancelOpen(false);\n      return;\n    }\n\n    let successCount = 0;\n    let deniedCount = 0;\n    selectedExecutionIds.forEach((activityId) => {\n      if (!canRunActionOnActivity(activityId)) {\n        deniedCount += 1;\n        return;\n      }\n      handleCancelActivity(activityId);\n      successCount += 1;\n    });\n    clearSelectedActivities();\n    setConfirmBulkCancelOpen(false);\n    const message =\n      deniedCount > 0\n        ? `${successCount} cancelada(s), ${deniedCount} sem permissão/escopo.`\n        : `${successCount} atividade(s) cancelada(s) em lote.`;\n    setCommandResult({\n      status: deniedCount > 0 ? \"error\" : \"success\",\n      text: message,\n    });\n    pushBulkInlineFeedback({\n      tone: deniedCount > 0 ? \"error\" : \"success\",\n      message,\n    });\n  }, [\n    canRunActionOnActivity,\n    clearSelectedActivities,\n    handleCancelActivity,\n    pushBulkInlineFeedback,\n    selectedExecutionIds,\n  ]);\n\n  const handleBulkPostponeActivities = useCallback(\n    (targetDate: string) => {\n      if (selectedExecutionIds.length === 0) return;\n\n      if (!canExecuteActivityActions) {\n        setCommandResult({\n          status: \"error\",\n          text: \"Você não tem permissão para reagendar atividades em lote.\",\n        });\n        pushBulkInlineFeedback({\n          tone: \"error\",\n          message: \"Você não tem permissão para reagendar atividades em lote.\",\n        });\n        return;\n      }\n\n      if (!DATE_PARAM_REGEX.test(targetDate)) {\n        pushBulkInlineFeedback({\n          tone: \"error\",\n          message: \"Data de reagendamento inválida para lote.\",\n        });\n        return;\n      }\n\n      const todayIso = toISODate(startOfDay(now));\n      if (targetDate < todayIso) {\n        pushBulkInlineFeedback({\n          tone: \"error\",\n          message: \"Escolha uma data de lote a partir de hoje.\",\n        });\n        return;\n      }\n\n      let successCount = 0;\n      let deniedCount = 0;\n      selectedExecutionIds.forEach((activityId) => {\n        if (!canRunActionOnActivity(activityId)) {\n          deniedCount += 1;\n          return;\n        }\n        handlePostponeActivity(activityId, targetDate);\n        successCount += 1;\n      });\n      clearSelectedActivities();\n      setBulkPostponeOpen(false);\n      setBulkPostponeCustomDate(\"\");\n      const message =\n        deniedCount > 0\n          ? `${successCount} reagendada(s), ${deniedCount} sem permissão/escopo.`\n          : `${successCount} atividade(s) reagendada(s) para ${formatDateBR(targetDate)}.`;\n      setCommandResult({\n        status: deniedCount > 0 ? \"error\" : \"success\",\n        text: message,\n      });\n      pushBulkInlineFeedback({\n        tone: deniedCount > 0 ? \"error\" : \"success\",\n        message,\n      });\n    },\n    [\n      canExecuteActivityActions,\n      canRunActionOnActivity,\n      clearSelectedActivities,\n      handlePostponeActivity,\n      now,\n      pushBulkInlineFeedback,\n      selectedExecutionIds,\n    ]\n  );\n\n  const handleOpenIntelligenceFromActivity = useCallback(\n    (activity: Activity) => {\n      const insight = getActivityInsight(activity, now);\n      const contextLabel =\n        activity.clientName || activity.opportunityTitle || \"atividade selecionada\";\n\n      setSelectedActivityId(activity.id);\n      setGeneratedContent({\n        title: `Menux Intelligence · ${contextLabel}`,\n        content: `Mensagem pronta:\\n${insight.message}\\n\\nPróximo passo:\\n${insight.nextStep}\\n\\nRisco se ignorar:\\n${insight.risk}`,\n      });\n      setGeneratedModalOpen(true);\n      setCommandResult({\n        status: \"success\",\n        text: `Sugestões da Menux Intelligence abertas para ${contextLabel}.`,\n      });\n\n      setActivityFeedback((prev) => ({\n        ...prev,\n        [activity.id]: {\n          state: \"info\",\n          message: \"Insights gerados para esta atividade.\",\n        },\n      }));\n      schedule(() => clearActivityFeedback(activity.id), 1800);\n    },\n    [clearActivityFeedback, now, schedule]\n  );\n\n  const handleGenerateFollowup = useCallback(\n    (activity: Activity) => {\n      const insight = getActivityInsight(activity, now);\n      const contextLabel =\n        activity.clientName || activity.opportunityTitle || \"atividade selecionada\";\n\n      setSelectedActivityId(activity.id);\n      setGeneratedContent({\n        title: `Follow-up · ${contextLabel}`,\n        content: insight.message,\n      });\n      setGeneratedModalOpen(true);\n      setCommandResult({\n        status: \"success\",\n        text: `Follow-up pronto para ${contextLabel}.`,\n      });\n\n      setActivityFeedback((prev) => ({\n        ...prev,\n        [activity.id]: {\n          state: \"info\",\n          message: \"Follow-up gerado e pronto para envio.\",\n        },\n      }));\n      schedule(() => clearActivityFeedback(activity.id), 1800);\n    },\n    [clearActivityFeedback, now, schedule]\n  );\n\n  const handleRunCommand = useCallback(\n    (commandId: string) => {\n      setCommandLoadingId(commandId);\n\n      schedule(() => {\n        if (commandId === \"sla-priority\") {\n          setFilterSla(\"breached\");\n          setViewMode(\"list\");\n          setCommandResult({\n            status: \"success\",\n            text: \"Filtro de SLA 'Estourado' aplicado.\",\n          });\n        } else if (commandId === \"risk-client\") {\n          setCommandLoadingId(null);\n          router.push(\"/clients?filter=risk\");\n          return; // Navigation handles feedback\n        } else if (commandId === \"week-summary\") {\n          setGeneratedContent({\n            title: \"Resumo da Semana\",\n            content: `### Minha semana em atividades\\n- Total ativas: ${executionActivities.length}\\n- Atrasadas: ${overdueCount}\\n- SLAs em risco: ${riskCount}\\n\\n**Próximo passo recomendado:** focar primeiro nas atividades atrasadas de maior impacto comercial.`,\n          });\n          setGeneratedModalOpen(true);\n          setCommandResult({\n            status: \"success\",\n            text: \"Resumo semanal gerado com foco na sua carteira.\",\n          });\n        } else if (commandId === \"bulk-messages\") {\n          if (overdueCount === 0) {\n            setCommandResult({\n              status: \"error\",\n              text: \"Sem atividades atrasadas para gerar mensagens no momento.\",\n            });\n            setCommandLoadingId(null);\n            return;\n          }\n\n          setGeneratedContent({\n            title: \"Mensagens para Atrasadas\",\n            content: `Olá [Nome], vi que não conseguimos nos falar na data combinada. Como está sua agenda para retomarmos amanhã?\\n\\nOi [Nome], tudo bem? Gostaria de reagendar nosso papo sobre [Assunto]. Teria disponibilidade esta tarde?`\n          });\n          setGeneratedModalOpen(true);\n          setCommandResult({ status: \"success\", text: \"Sugestões de mensagem geradas.\" });\n        } else if (commandId === \"call-script\") {\n          setGeneratedContent({\n            title: \"Script de Ligação\",\n            content: `**Abertura:** \"Olá [Nome], aqui é ${user?.name || \"Consultor\"} da [Empresa]. Tudo bem?\"\\n\\n**Gancho:** \"Estou ligando pois vi que ficou pendente nosso alinhamento sobre [Assunto] e não gostaria de deixar passar...\"\\n\\n**Fechamento:** \"Conseguimos 5 minutinhos agora ou prefere agendar?\"`\n          });\n          setGeneratedModalOpen(true);\n          setCommandResult({ status: \"success\", text: \"Script de ligação gerado.\" });\n        } else {\n          // Fallback for others\n          const result = buildCommandResult(commandId, {\n            overdueCount,\n            riskCount,\n            totalActive: executionActivities.length,\n            selectedActivity: selectedActivity || undefined,\n          });\n          setCommandResult(result);\n        }\n\n        setCommandLoadingId(null);\n      }, 500);\n    },\n    [executionActivities.length, overdueCount, riskCount, selectedActivity, schedule, router, user?.name]\n  );\n\n  const handleExportCSV = useCallback(() => {\n    if (!canExportActivities) {\n      setCommandResult({\n        status: \"error\",\n        text: \"Você não tem permissão para exportar dados desta tela.\",\n      });\n      pushSummaryInlineFeedback({\n        tone: \"error\",\n        message: \"Você não tem permissão para exportar dados desta tela.\",\n      });\n      return;\n    }\n\n    setIsExporting(true);\n    pushSummaryInlineFeedback({\n      tone: \"info\",\n      message: \"Exportando lista de atividades...\",\n    });\n\n    const header = [\"Título\", \"Tipo\", \"Status\", \"Cliente\", \"Oportunidade\", \"Data\", \"Horário\", \"Responsável\"];\n    try {\n      const rows = filteredActivities.map((activity) => {\n        const effectiveStatus = getEffectiveStatus(activity, now);\n        return [\n          activity.title,\n          typeLabels[activity.type],\n          effectiveStatus === \"pending\"\n            ? \"Pendente\"\n            : effectiveStatus === \"completed\"\n              ? \"Concluída\"\n              : effectiveStatus === \"overdue\"\n                ? \"Atrasada\"\n                : \"Cancelada\",\n          activity.clientName || \"\",\n          activity.opportunityTitle || \"\",\n          formatDateBR(activity.dueDate),\n          activity.dueTime || \"\",\n          activity.responsibleName,\n        ];\n      });\n\n      const csvContent = [\n        header.join(\";\"),\n        ...rows.map((row) => row.map((cell) => `\"${cell.replace(/\"/g, '\"\"')}\"`).join(\";\")),\n      ].join(\"\\n\");\n\n      const BOM = \"\\uFEFF\";\n      const blob = new Blob([BOM + csvContent], { type: \"text/csv;charset=utf-8\" });\n      const link = document.createElement(\"a\");\n      link.href = URL.createObjectURL(blob);\n      link.download = `atividades-${toISODate(now)}.csv`;\n      link.click();\n      URL.revokeObjectURL(link.href);\n\n      setCommandResult({\n        status: \"success\",\n        text: `${filteredActivities.length} atividades exportadas em CSV.`,\n      });\n      pushSummaryInlineFeedback({\n        tone: \"success\",\n        message: `${filteredActivities.length} atividade(s) exportada(s) em CSV.`,\n      });\n    } catch {\n      setCommandResult({\n        status: \"error\",\n        text: \"Não foi possível exportar a lista agora.\",\n      });\n      pushSummaryInlineFeedback({\n        tone: \"error\",\n        message: \"Não foi possível exportar a lista agora.\",\n      });\n    } finally {\n      setIsExporting(false);\n    }\n  }, [canExportActivities, filteredActivities, now, pushSummaryInlineFeedback]);\n\n  const renderSectionBody = useCallback(\n    (items: Activity[], sectionKey: Exclude<SectionKey, \"intelligence\">) => {\n      if (sectionErrors[sectionKey]) {\n        return (\n          <InlineSectionError\n            message={sectionErrors[sectionKey] || \"Erro ao carregar seção.\"}\n            onRetry={() =>\n              setSectionErrors((prev) => ({\n                ...prev,\n                [sectionKey]: null,\n              }))\n            }\n          />\n        );\n      }\n\n      if (isLoading) {\n        return (\n          <div className=\"space-y-3\">\n            {Array.from({ length: 2 }).map((_, index) => (\n              <Skeleton\n                key={`${sectionKey}-skeleton-${index}`}\n                className=\"h-[118px] rounded-[18px]\"\n              />\n            ))}\n          </div>\n        );\n      }\n\n      if (items.length === 0) {\n        if (sectionKey === \"overdue\") {\n          return (\n            <div className=\"rounded-[16px] border border-emerald-200 bg-emerald-50/70 px-4 py-3\">\n              <div className=\"flex items-center gap-2\">\n                <CheckCircle2 className=\"h-4 w-4 text-emerald-600\" />\n                <p className=\"font-body text-sm font-medium text-emerald-700\">\n                  Tudo em dia. Nenhuma atividade atrasada.\n                </p>\n              </div>\n            </div>\n          );\n        }\n\n        if (sectionKey === \"today\") {\n          return (\n            <div className=\"rounded-[16px] border border-zinc-200 bg-zinc-50 px-4 py-4\">\n              <p className=\"font-body text-sm text-zinc-600\">\n                Nenhuma atividade para hoje.\n              </p>\n              <div className=\"mt-3 flex flex-wrap gap-2\">\n                <Button\n                  size=\"sm\"\n                  className=\"rounded-full bg-zinc-900 text-white hover:bg-zinc-800\"\n                  onClick={() => openDrawer(\"new-activity\")}\n                  disabled={!canCreateActivity}\n                >\n                  <Plus className=\"h-3.5 w-3.5\" />\n                  Criar atividade\n                </Button>\n                <Button\n                  size=\"sm\"\n                  variant=\"outline\"\n                  className=\"rounded-full\"\n                  onClick={handleGeneratePlan}\n                >\n                  <WandSparkles className=\"h-3.5 w-3.5\" />\n                  Pedir recomendação\n                </Button>\n              </div>\n            </div>\n          );\n        }\n\n        return (\n          <div className=\"rounded-[16px] border border-zinc-200 bg-zinc-50 px-4 py-4\">\n            <p className=\"font-body text-sm text-zinc-600\">\n              Nenhuma atividade nesse bloco por enquanto.\n            </p>\n          </div>\n        );\n      }\n\n      if (viewMode === \"agenda\") {\n        const groupedByDate = items.reduce<Record<string, Activity[]>>((acc, activity) => {\n          if (!acc[activity.dueDate]) acc[activity.dueDate] = [];\n          acc[activity.dueDate].push(activity);\n          return acc;\n        }, {});\n\n        const dates = Object.keys(groupedByDate).sort((a, b) =>\n          parseDateISO(a).getTime() - parseDateISO(b).getTime()\n        );\n\n        return (\n          <div className=\"space-y-3\">\n            {dates.map((date) => (\n              <div key={date} className=\"rounded-[16px] border border-zinc-200 bg-white/80 p-3\">\n                <div className=\"mb-3 flex items-center justify-between\">\n                  <p className=\"font-heading text-sm font-semibold text-zinc-900\">\n                    {formatDateFull(date)}\n                  </p>\n                  <Badge className=\"rounded-full bg-zinc-100 text-zinc-600\">\n                    {groupedByDate[date].length}\n                  </Badge>\n                </div>\n                <div className=\"space-y-2\">\n                  <AnimatePresence initial={false}>\n                    {groupedByDate[date].map((activity) => (\n                      <motion.div\n                        key={activity.id}\n                        layout\n                        initial={{ opacity: 0, y: 6 }}\n                        animate={{ opacity: 1, y: 0 }}\n                        exit={{ opacity: 0, y: -4 }}\n                        transition={{ duration: 0.16, ease: \"easeOut\" }}\n                      >\n                        <ExecutionActivityCard\n                          activity={activity}\n                          now={now}\n                          isExpanded={expandedActivityId === activity.id}\n                          isHighlighted={highlightedPostponedId === activity.id}\n                          selected={selectedActivityIds.has(activity.id)}\n                          canExecuteActions={canExecuteActivityActions}\n                          canCancelActions={canCancelActivity}\n                          feedback={activityFeedback[activity.id]}\n                          onToggleExpand={() => {\n                            setExpandedActivityId((prev) =>\n                              prev === activity.id ? null : activity.id\n                            );\n                            setSelectedActivityId(activity.id);\n                          }}\n                          onToggleSelect={() => toggleActivitySelection(activity.id)}\n                          onComplete={(notes) => handleCompleteActivity(activity.id, notes)}\n                          onCancel={() => handleCancelActivity(activity.id)}\n                          onPostpone={(newDate) => handlePostponeActivity(activity.id, newDate)}\n                          onSelectIntelligence={() => setSelectedActivityId(activity.id)}\n                          onGenerateFollowup={() => handleGenerateFollowup(activity)}\n                        />\n                      </motion.div>\n                    ))}\n                  </AnimatePresence>\n                </div>\n              </div>\n            ))}\n          </div>\n        );\n      }\n\n      return (\n        <VirtualizedActivityList\n          items={items}\n          estimateSize={214}\n          renderItem={(activity) => (\n            <ExecutionActivityCard\n              activity={activity}\n              now={now}\n              isExpanded={expandedActivityId === activity.id}\n              isHighlighted={highlightedPostponedId === activity.id}\n              selected={selectedActivityIds.has(activity.id)}\n              canExecuteActions={canExecuteActivityActions}\n              canCancelActions={canCancelActivity}\n              feedback={activityFeedback[activity.id]}\n              onToggleExpand={() => {\n                setExpandedActivityId((prev) => (prev === activity.id ? null : activity.id));\n                setSelectedActivityId(activity.id);\n              }}\n              onToggleSelect={() => toggleActivitySelection(activity.id)}\n              onComplete={(notes) => handleCompleteActivity(activity.id, notes)}\n              onCancel={() => handleCancelActivity(activity.id)}\n              onPostpone={(newDate) => handlePostponeActivity(activity.id, newDate)}\n              onSelectIntelligence={() => setSelectedActivityId(activity.id)}\n              onGenerateFollowup={() => handleGenerateFollowup(activity)}\n            />\n          )}\n        />\n      );\n    },\n    [\n      sectionErrors,\n      isLoading,\n      viewMode,\n      now,\n      expandedActivityId,\n      highlightedPostponedId,\n      selectedActivityIds,\n      activityFeedback,\n      canCreateActivity,\n      canExecuteActivityActions,\n      canCancelActivity,\n      openDrawer,\n      handleGeneratePlan,\n      toggleActivitySelection,\n      handleCompleteActivity,\n      handleCancelActivity,\n      handlePostponeActivity,\n      handleGenerateFollowup,\n    ]\n  );\n\n  return (\n    <motion.div\n      initial={{ opacity: 0, y: 6 }}\n      animate={{ opacity: 1, y: 0 }}\n      transition={{ duration: 0.18, ease: [0.22, 0.61, 0.36, 1] }}\n      className=\"space-y-7 lg:space-y-8\"\n    >\n      <ModuleCommandHeader\n        title=\"Atividades\"\n        description=\"Execução do dia, com prioridades e próximos passos.\"\n        className={cn(\n          \"border-zinc-200/80 bg-zinc-50/88\",\n          isPageScrolled && \"shadow-[0_14px_24px_-18px_rgba(15,23,42,0.32)]\"\n        )}\n        meta={headerMetaText}\n        chips={[\n          {\n            id: \"overdue\",\n            label: `${overdueCount} atrasadas`,\n            icon: <AlertTriangle className=\"h-3.5 w-3.5\" />,\n            tone: overdueCount > 0 ? \"danger\" : \"neutral\",\n            onClick: handleQuickFilterOverdue,\n          },\n          {\n            id: \"today\",\n            label: `${todayActivities.length} para hoje`,\n            icon: <CalendarClock className=\"h-3.5 w-3.5\" />,\n            tone: todayActivities.length > 0 ? \"info\" : \"neutral\",\n            onClick: handleQuickFilterToday,\n          },\n          hasActiveFilters\n            ? {\n                id: \"active-filters\",\n                label: `${activeFilterChips.length} filtros ativos`,\n                icon: <Filter className=\"h-3.5 w-3.5\" />,\n                tone: \"warning\",\n                onClick: () => setIsFilterOpen(true),\n              }\n            : {\n                id: \"sla-risk\",\n                label: `${riskCount} SLAs em risco`,\n                icon: <CircleAlert className=\"h-3.5 w-3.5\" />,\n                tone: riskCount > 0 ? \"warning\" : \"success\",\n                onClick: handleQuickFilterSlaRisk,\n              },\n        ]}\n        actions={\n          <div className=\"flex w-full flex-col gap-3\">\n            <div className=\"flex w-full flex-col gap-2.5 min-[1180px]:flex-row min-[1180px]:items-center min-[1180px]:justify-between\">\n              <div className=\"flex w-full flex-col gap-2.5 sm:flex-row sm:items-center min-[1180px]:w-auto min-[1180px]:flex-1\">\n                <div className=\"relative w-full sm:flex-1 min-[1180px]:max-w-[380px]\">\n                  <Search className=\"pointer-events-none absolute left-3 top-1/2 h-3.5 w-3.5 -translate-y-1/2 text-zinc-400\" />\n                  <Input\n                    value={searchQuery}\n                    onChange={(event) => setSearchQuery(event.target.value)}\n                    placeholder=\"Buscar atividade, cliente ou oportunidade...\"\n                    className=\"h-10 rounded-full border-zinc-200 bg-white/90 pl-8 text-sm\"\n                  />\n                </div>\n\n                <div className=\"flex w-full items-center gap-1 rounded-full border border-zinc-200/90 bg-white/90 p-1 shadow-sm sm:w-auto\">\n                  {[\n                    { key: \"list\" as const, label: \"Lista\", icon: List },\n                    { key: \"agenda\" as const, label: \"Agenda\", icon: CalendarDays },\n                  ].map((mode) => {\n                    const active = viewMode === mode.key;\n                    return (\n                      <button\n                        key={mode.key}\n                        onClick={() => setViewMode(mode.key)}\n                        className={cn(\n                          \"inline-flex h-8 flex-1 items-center justify-center gap-1.5 rounded-full px-3 text-xs font-medium transition-all duration-120 ease-out active:scale-[0.98] focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-zinc-300 focus-visible:ring-offset-2 focus-visible:ring-offset-zinc-50 sm:flex-none\",\n                          active\n                            ? \"bg-brand text-white shadow-[0_6px_14px_-8px_rgba(29,78,216,0.7)]\"\n                            : \"text-zinc-600 hover:bg-zinc-100/90\"\n                        )}\n                      >\n                        <mode.icon className=\"h-3.5 w-3.5\" />\n                        <span>{mode.label}</span>\n                      </button>\n                    );\n                  })}\n                </div>\n              </div>\n\n              <div className=\"flex flex-wrap items-center gap-2 sm:justify-end min-[1180px]:shrink-0\">\n                <Popover open={isFilterOpen} onOpenChange={setIsFilterOpen}>\n                  <PopoverTrigger asChild>\n                    <Button\n                      variant=\"outline\"\n                      className=\"rounded-full border-zinc-200 bg-white/90 transition-all duration-120 ease-out hover:bg-zinc-100/90 active:scale-[0.98] focus-visible:ring-zinc-300\"\n                    >\n                      <Filter className=\"h-4 w-4\" />\n                      Filtros\n                    </Button>\n                  </PopoverTrigger>\n                  <PopoverContent\n                    align=\"end\"\n                    side=\"bottom\"\n                    sideOffset={8}\n                    className=\"w-[min(96vw,430px)] rounded-[18px] border-zinc-200 bg-white p-4 shadow-xl\"\n                  >\n                    <div className=\"space-y-4\">\n                      <div>\n                        <p className=\"mb-2 font-heading text-sm font-semibold text-zinc-900\">Tipo</p>\n                        <div className=\"grid grid-cols-2 gap-2\">\n                          {allActivityTypes.map((type) => {\n                            const Icon = typeIconComponents[type];\n                            const active = filterTypes.has(type);\n                            return (\n                              <label\n                                key={type}\n                                className={cn(\n                                  \"flex cursor-pointer items-center gap-2 rounded-[12px] border px-2.5 py-2 text-xs\",\n                                  active\n                                    ? \"border-brand/35 bg-brand/8 text-brand\"\n                                    : \"border-zinc-200 bg-white text-zinc-600\"\n                                )}\n                              >\n                                <Checkbox\n                                  checked={active}\n                                  onCheckedChange={(checked) => {\n                                    setFilterTypes((prev) => {\n                                      const next = new Set(prev);\n                                      if (checked === true) next.add(type);\n                                      else next.delete(type);\n                                      return next.size === 0 ? new Set(allActivityTypes) : next;\n                                    });\n                                  }}\n                                />\n                                <Icon className=\"h-3.5 w-3.5\" />\n                                <span>{typeLabels[type]}</span>\n                              </label>\n                            );\n                          })}\n                        </div>\n                      </div>\n\n                      <Separator />\n\n                      <div>\n                        <p className=\"mb-2 font-heading text-sm font-semibold text-zinc-900\">Status</p>\n                        <div className=\"grid grid-cols-2 gap-2\">\n                          {STATUS_OPTIONS.map((status) => (\n                            <label\n                              key={status.value}\n                              className=\"flex cursor-pointer items-center gap-2 rounded-[12px] border border-zinc-200 px-2.5 py-2 text-xs text-zinc-700\"\n                            >\n                              <Checkbox\n                                checked={filterStatuses.has(status.value)}\n                                onCheckedChange={(checked) => {\n                                  setFilterStatuses((prev) => {\n                                    const next = new Set(prev);\n                                    if (checked === true) next.add(status.value);\n                                    else next.delete(status.value);\n                                    return next.size === 0 ? new Set(DEFAULT_STATUS_FILTER) : next;\n                                  });\n                                }}\n                              />\n                              <span>{status.label}</span>\n                            </label>\n                          ))}\n                        </div>\n                      </div>\n\n                      <Separator />\n\n                      <div className=\"grid grid-cols-1 gap-3\">\n                        <div>\n                          <Label className=\"mb-1 block text-xs text-zinc-500\">SLA</Label>\n                          <div className=\"flex rounded-[12px] border border-zinc-200 p-1\">\n                            {SLA_OPTIONS.map((option) => (\n                              <button\n                                key={option.value}\n                                onClick={() => setFilterSla(option.value)}\n                                className={cn(\n                                  \"flex-1 rounded-[9px] px-2 py-1.5 text-xs transition-colors\",\n                                  filterSla === option.value\n                                    ? \"bg-zinc-900 text-white\"\n                                    : \"text-zinc-500 hover:bg-zinc-100\"\n                                )}\n                              >\n                                {option.label}\n                              </button>\n                            ))}\n                          </div>\n                        </div>\n                      </div>\n\n                      <div className=\"grid grid-cols-2 gap-2\">\n                        <div>\n                          <Label className=\"mb-1 block text-xs text-zinc-500\">Período de</Label>\n                          <Input\n                            type=\"date\"\n                            value={filterDateStart}\n                            onChange={(event) => setFilterDateStart(event.target.value)}\n                            className=\"h-9 rounded-[12px]\"\n                          />\n                        </div>\n                        <div>\n                          <Label className=\"mb-1 block text-xs text-zinc-500\">até</Label>\n                          <Input\n                            type=\"date\"\n                            value={filterDateEnd}\n                            onChange={(event) => setFilterDateEnd(event.target.value)}\n                            className=\"h-9 rounded-[12px]\"\n                          />\n                        </div>\n                      </div>\n\n                      <div className=\"flex gap-2\">\n                        <Button variant=\"outline\" className=\"flex-1 rounded-full\" onClick={clearFilters}>\n                          Limpar tudo\n                        </Button>\n                        <Button\n                          className=\"flex-1 rounded-full bg-zinc-900 text-white hover:bg-zinc-800\"\n                          onClick={() => setIsFilterOpen(false)}\n                        >\n                          Fechar\n                        </Button>\n                      </div>\n                    </div>\n                  </PopoverContent>\n                </Popover>\n\n                {hasActiveFilters && (\n                  <Button\n                    variant=\"ghost\"\n                    className=\"rounded-full px-3 text-xs text-zinc-500 transition-all duration-120 ease-out hover:bg-zinc-100/90 active:scale-[0.98] focus-visible:ring-zinc-300\"\n                    onClick={clearFilters}\n                  >\n                    Limpar tudo\n                  </Button>\n                )}\n\n                <Button\n                  variant=\"outline\"\n                  className=\"h-9 rounded-full border-zinc-200 bg-white/90 px-4 transition-all duration-120 ease-out hover:bg-zinc-100/90 active:scale-[0.98] focus-visible:ring-zinc-300\"\n                  onClick={handleGeneratePlan}\n                  disabled={isPlanning}\n                >\n                  {isPlanning ? (\n                    <Loader2 className=\"h-4 w-4 animate-spin\" />\n                  ) : (\n                    <WandSparkles className=\"h-4 w-4\" />\n                  )}\n                  Pedir plano do dia\n                </Button>\n\n                <Button\n                  className=\"h-9 rounded-full bg-zinc-900 px-4 text-white transition-all duration-120 ease-out hover:bg-zinc-800 active:scale-[0.98] focus-visible:ring-zinc-300\"\n                  onClick={() => openDrawer(\"new-activity\")}\n                  disabled={!canCreateActivity}\n                >\n                  <Plus className=\"h-4 w-4\" />\n                  Nova atividade\n                </Button>\n              </div>\n            </div>\n          </div>\n        }\n      />\n\n      {headerInlineFeedback ? (\n        <InlineFeedbackMessage\n          tone={headerInlineFeedback.tone}\n          message={headerInlineFeedback.message}\n        />\n      ) : null}\n\n      {hasActiveFilters && activeFilterChips.length > 0 && (\n        <div className=\"flex flex-wrap gap-2\">\n          {activeFilterChips.map((chip) => (\n            <button\n              key={chip.id}\n              type=\"button\"\n              onClick={chip.onRemove}\n              className=\"inline-flex items-center gap-1 rounded-full border border-zinc-200 bg-white px-3 py-1.5 text-xs text-zinc-600 transition-colors hover:bg-zinc-50\"\n            >\n              <span>{chip.label}</span>\n              <span className=\"text-zinc-400\">×</span>\n            </button>\n          ))}\n        </div>\n      )}\n\n      {isTeamScope && activities.length > 0 && (\n        <div className=\"rounded-[14px] border border-blue-200 bg-blue-50/80 px-4 py-3\">\n          <p className=\"font-body text-sm text-blue-800\">\n            <span className=\"font-semibold\">Visão de equipe:</span> você está navegando atividades agregadas da equipe.\n          </p>\n        </div>\n      )}\n\n      {hasNoScopedActivities && !isTeamScope && (\n        <div className=\"rounded-[14px] border border-zinc-200 bg-white px-4 py-4\">\n          <p className=\"font-body text-sm text-zinc-700\">\n            Você não possui atividades atribuídas na sua carteira no momento.\n          </p>\n          <div className=\"mt-3 flex flex-wrap gap-2\">\n            <Button\n              size=\"sm\"\n              className=\"h-8 rounded-full bg-zinc-900 px-3 text-xs text-white hover:bg-zinc-800\"\n              onClick={() => openDrawer(\"new-activity\")}\n              disabled={!canCreateActivity}\n            >\n              <Plus className=\"h-3.5 w-3.5\" />\n              Criar atividade\n            </Button>\n            <Button\n              size=\"sm\"\n              variant=\"outline\"\n              className=\"h-8 rounded-full px-3 text-xs\"\n              onClick={handleGeneratePlan}\n              disabled={isPlanning}\n            >\n              <WandSparkles className=\"h-3.5 w-3.5\" />\n              Pedir plano\n            </Button>\n          </div>\n        </div>\n      )}\n\n      {viewMode === \"list\" && executionActivities.length > 0 && (\n        <div className=\"space-y-3 rounded-[18px] border border-zinc-200 bg-white px-4 py-3.5 md:px-5\">\n          <div className=\"flex flex-wrap items-center justify-between gap-3\">\n            <div className=\"flex items-center gap-2 text-sm text-zinc-600\">\n              <Checkbox\n                checked={allVisibleExecutionSelected}\n                onCheckedChange={(checked) =>\n                  handleSelectAllVisibleActivities(Boolean(checked))\n                }\n              />\n              <span>\n                Selecionar todas visíveis ({executionActivities.length})\n              </span>\n            </div>\n            {selectedExecutionIds.length > 0 ? (\n              <span className=\"text-xs font-medium text-zinc-600\">\n                {selectedExecutionIds.length} selecionada(s)\n              </span>\n            ) : (\n              <span className=\"text-xs text-zinc-500\">\n                Selecione atividades para usar ações em lote.\n              </span>\n            )}\n          </div>\n\n          {selectedExecutionIds.length > 0 && (\n            <div className=\"flex flex-wrap items-center gap-2\">\n              <Button\n                size=\"sm\"\n                className=\"h-8 rounded-full bg-zinc-900 px-3 text-xs text-white hover:bg-zinc-800\"\n                onClick={handleRequestBulkCompleteActivities}\n                disabled={!canExecuteActivityActions}\n              >\n                <CheckCircle2 className=\"h-3.5 w-3.5\" />\n                Concluir em lote\n              </Button>\n              <Popover open={bulkPostponeOpen} onOpenChange={setBulkPostponeOpen}>\n                <PopoverTrigger asChild>\n                  <Button\n                    size=\"sm\"\n                    variant=\"outline\"\n                    className=\"h-8 rounded-full px-3 text-xs\"\n                    disabled={!canExecuteActivityActions}\n                  >\n                    <CalendarClock className=\"h-3.5 w-3.5\" />\n                    Adiar\n                  </Button>\n                </PopoverTrigger>\n                <PopoverContent\n                  align=\"start\"\n                  sideOffset={8}\n                  className=\"w-[250px] rounded-[16px] border-zinc-200 p-3\"\n                >\n                  <p className=\"mb-2 text-xs font-semibold uppercase tracking-wide text-zinc-500\">\n                    Reagendar em lote\n                  </p>\n                  <div className=\"space-y-2\">\n                    {[1, 3, 7].map((days) => (\n                      <button\n                        key={days}\n                        onClick={() =>\n                          handleBulkPostponeActivities(\n                            toISODate(addDays(startOfDay(now), days))\n                          )\n                        }\n                        className=\"flex w-full items-center justify-between rounded-[10px] border border-zinc-200 px-3 py-2 text-sm text-zinc-700 transition-colors hover:bg-zinc-50\"\n                      >\n                        <span>+{days} {days === 1 ? \"dia\" : \"dias\"}</span>\n                        <ArrowRight className=\"h-3.5 w-3.5 text-zinc-400\" />\n                      </button>\n                    ))}\n                  </div>\n                  <div className=\"mt-3 space-y-2\">\n                    <Label className=\"text-xs text-zinc-500\">Escolher data</Label>\n                    <Input\n                      type=\"date\"\n                      value={bulkPostponeCustomDate}\n                      min={toISODate(startOfDay(now))}\n                      onChange={(event) => setBulkPostponeCustomDate(event.target.value)}\n                      className=\"h-9 rounded-[10px]\"\n                    />\n                    <Button\n                      size=\"sm\"\n                      className=\"h-8 w-full rounded-full bg-zinc-900 text-xs text-white hover:bg-zinc-800\"\n                      disabled={!bulkPostponeCustomDate}\n                      onClick={() =>\n                        handleBulkPostponeActivities(bulkPostponeCustomDate)\n                      }\n                    >\n                      Confirmar data\n                    </Button>\n                  </div>\n                </PopoverContent>\n              </Popover>\n              <Button\n                size=\"sm\"\n                variant=\"ghost\"\n                className=\"h-8 rounded-full px-3 text-xs text-red-600 hover:bg-red-50\"\n                onClick={handleRequestBulkCancelActivities}\n                disabled={!canCancelActivity}\n              >\n                <XCircle className=\"h-3.5 w-3.5\" />\n                Cancelar em lote\n              </Button>\n              <Button\n                size=\"sm\"\n                variant=\"ghost\"\n                className=\"h-8 rounded-full px-3 text-xs text-zinc-500\"\n                onClick={clearSelectedActivities}\n              >\n                Limpar seleção\n              </Button>\n            </div>\n          )}\n\n          {bulkInlineFeedback ? (\n            <InlineFeedbackMessage\n              tone={bulkInlineFeedback.tone}\n              message={bulkInlineFeedback.message}\n              className=\"mt-2\"\n            />\n          ) : null}\n        </div>\n      )}\n\n      <div className=\"grid gap-6 2xl:grid-cols-[minmax(0,7fr)_minmax(340px,3fr)]\">\n        <div className=\"space-y-5\">\n          {viewMode === \"agenda\" ? (\n            <ActivitiesCalendarView\n              now={now}\n              monthDate={calendarMonth}\n              days={calendarDays}\n              selectedDate={selectedCalendarDate}\n              activitiesByDate={calendarActivitiesByDate}\n              selectedDayActivities={selectedCalendarDayActivities}\n              expandedActivityId={expandedActivityId}\n              highlightedPostponedId={highlightedPostponedId}\n              selectedActivityIds={selectedActivityIds}\n              canExecuteActions={canExecuteActivityActions}\n              canCancelActions={canCancelActivity}\n              activityFeedback={activityFeedback}\n              onPreviousMonth={() =>\n                setCalendarMonth((prev) => new Date(prev.getFullYear(), prev.getMonth() - 1, 1))\n              }\n              onNextMonth={() =>\n                setCalendarMonth((prev) => new Date(prev.getFullYear(), prev.getMonth() + 1, 1))\n              }\n              onGoToToday={() => {\n                const todayDate = startOfDay(now);\n                setCalendarMonth(startOfMonth(todayDate));\n                setSelectedCalendarDate(toISODate(todayDate));\n              }}\n              onSelectDate={(date) => {\n                const monthStart = startOfMonth(date);\n                const iso = toISODate(date);\n                setSelectedCalendarDate(iso);\n                setCalendarMonth(monthStart);\n              }}\n              onToggleExpand={(activityId) => {\n                setExpandedActivityId((prev) => (prev === activityId ? null : activityId));\n                setSelectedActivityId(activityId);\n              }}\n              onComplete={handleCompleteActivity}\n              onCancel={handleCancelActivity}\n              onPostpone={handlePostponeActivity}\n              onToggleSelectActivity={toggleActivitySelection}\n              onSelectIntelligence={setSelectedActivityId}\n              onGenerateFollowup={handleGenerateFollowup}\n              onOpenActivityDetails={(activity) => {\n                setSelectedActivityId(activity.id);\n                setDetailsModalActivityId(activity.id);\n              }}\n            />\n          ) : (\n            <>\n          <ExecutionSection\n            title=\"O que a Menux Intelligence recomenda agora\"\n            count={menuxIntelligenceRecommendations.length}\n            collapsed={collapsedSections.intelligence}\n            onToggle={() => toggleSection(\"intelligence\")}\n            tone=\"violet\"\n          >\n            {sectionErrors.intelligence ? (\n              <InlineSectionError\n                message={sectionErrors.intelligence}\n                onRetry={() => {\n                  setSectionErrors((prev) => ({ ...prev, intelligence: null }));\n                  handleGeneratePlan();\n                }}\n              />\n            ) : isLoading ? (\n              <div className=\"grid gap-4 lg:grid-cols-2 2xl:grid-cols-3\">\n                {Array.from({ length: 3 }).map((_, index) => (\n                  <Skeleton key={`intelligence-skeleton-${index}`} className=\"h-44 rounded-[18px]\" />\n                ))}\n              </div>\n            ) : menuxIntelligenceRecommendations.length === 0 ? (\n              <div className=\"rounded-[18px] border border-cyan-200/20 bg-slate-900/45 px-5 py-5\">\n                <p className=\"font-body text-sm text-slate-200\">\n                  Sem recomendações no momento.\n                </p>\n                <Button\n                  size=\"sm\"\n                  className=\"mt-3 rounded-full border border-cyan-300/25 bg-cyan-500/18 text-cyan-50 hover:bg-cyan-500/28\"\n                  onClick={handleGeneratePlan}\n                >\n                  <Sparkles className=\"h-3.5 w-3.5\" />\n                  Gerar plano do dia\n                </Button>\n              </div>\n            ) : (\n              <div className=\"grid gap-4 lg:grid-cols-2 2xl:grid-cols-3\">\n                {menuxIntelligenceRecommendations.map((recommendation) => {\n                  const state = recommendationStates[recommendation.id] || \"idle\";\n\n                  return (\n                    <article\n                      key={recommendation.id}\n                      className=\"rounded-[20px] border border-cyan-200/20 bg-slate-900/52 p-5 shadow-[0_12px_24px_-20px_rgba(2,6,23,0.75)] transition-all duration-140 hover:-translate-y-[1px] hover:border-cyan-200/35\"\n                    >\n                      <div className=\"mb-3 flex items-start justify-between gap-3\">\n                        <div className=\"flex items-center gap-2.5\">\n                          <div className=\"flex h-10 w-10 shrink-0 items-center justify-center rounded-[12px] border border-cyan-300/25 bg-cyan-500/16 text-cyan-100\">\n                            <Bot className=\"h-4 w-4\" />\n                          </div>\n                          <div className=\"min-w-0\">\n                            <p className=\"font-heading text-sm font-semibold text-slate-100\">\n                              {recommendation.title}\n                            </p>\n                            <p className=\"font-body text-sm leading-snug text-slate-400\">{recommendation.context}</p>\n                          </div>\n                        </div>\n                      </div>\n\n                      <p className=\"min-h-[62px] font-body text-sm leading-relaxed text-slate-300\">\n                        <span className=\"font-medium text-slate-100\">Por que:</span> {recommendation.why}\n                      </p>\n\n                      <div className=\"mt-4 grid gap-2 sm:grid-cols-2\">\n                        <Button\n                          size=\"sm\"\n                          className=\"h-9 rounded-full border border-cyan-300/24 bg-cyan-500/18 text-xs text-cyan-50 hover:bg-cyan-500/28\"\n                          disabled={state === \"loading\"}\n                          onClick={() => handleExecuteRecommendation(recommendation)}\n                        >\n                          {state === \"loading\" ? (\n                            <>\n                              <Loader2 className=\"h-3.5 w-3.5 animate-spin\" />\n                              Executando\n                            </>\n                          ) : state === \"success\" ? (\n                            <>\n                              <Check className=\"h-3.5 w-3.5\" />\n                              Executado\n                            </>\n                          ) : (\n                            recommendation.primaryActionLabel\n                          )}\n                        </Button>\n                        <Button\n                          size=\"sm\"\n                          variant=\"outline\"\n                          className=\"h-9 rounded-full border-white/16 bg-white/6 text-xs text-slate-200 hover:bg-white/10\"\n                          onClick={() =>\n                            handleViewActivityFromRecommendation(recommendation.activityId)\n                          }\n                        >\n                          Ver atividade\n                        </Button>\n                      </div>\n\n                      {state === \"error\" && (\n                        <p className=\"mt-2 text-xs text-status-danger\">\n                          Falha ao executar. Tentar novamente.\n                        </p>\n                      )}\n                    </article>\n                  );\n                })}\n              </div>\n            )}\n          </ExecutionSection>\n\n          <ExecutionSection\n            title=\"Atrasadas\"\n            count={overdueActivities.length}\n            collapsed={collapsedSections.overdue}\n            onToggle={() => toggleSection(\"overdue\")}\n            tone=\"danger\"\n          >\n            {renderSectionBody(overdueActivities, \"overdue\")}\n          </ExecutionSection>\n\n          <ExecutionSection\n            title=\"Hoje\"\n            count={todayActivities.length}\n            collapsed={collapsedSections.today}\n            onToggle={() => toggleSection(\"today\")}\n            tone=\"warning\"\n          >\n            {renderSectionBody(todayActivities, \"today\")}\n          </ExecutionSection>\n\n          <ExecutionSection\n            title=\"Próximos 7 dias\"\n            count={next7Activities.length}\n            collapsed={collapsedSections.next7}\n            onToggle={() => toggleSection(\"next7\")}\n            tone=\"neutral\"\n          >\n            {renderSectionBody(next7Activities, \"next7\")}\n          </ExecutionSection>\n\n          <ExecutionSection\n            title=\"Futuras\"\n            count={futureActivities.length}\n            collapsed={collapsedSections.future}\n            onToggle={() => toggleSection(\"future\")}\n            tone=\"neutral\"\n          >\n            {renderSectionBody(futureActivities, \"future\")}\n          </ExecutionSection>\n\n          <div className=\"rounded-[20px] border border-zinc-200 bg-white p-4 shadow-sm md:p-5\">\n            <div className=\"flex flex-wrap items-center justify-between gap-2\">\n              <div>\n                <h3 className=\"font-heading text-lg font-semibold text-zinc-900\">Resumo do dia</h3>\n                <p className=\"font-body text-xs text-zinc-500\">\n                  Panorama rápido de execução e produtividade.\n                </p>\n              </div>\n              <div className=\"flex items-center gap-2\">\n                <Button\n                  size=\"sm\"\n                  variant=\"outline\"\n                  className=\"rounded-full text-xs\"\n                  onClick={() => {\n                    setGeneratedContent({\n                      title: \"Resumo do dia\",\n                      content: `### Execução do dia\\n- Total de atividades: ${filteredActivities.length}\\n- Conclusão semanal: ${weeklyCompletionRate}%\\n- Atrasadas: ${overdueCount}\\n\\n**Próximo passo:** atacar primeiro as atividades atrasadas com maior risco de SLA.`,\n                    });\n                    setGeneratedModalOpen(true);\n                  }}\n                >\n                  Ver resumo\n                </Button>\n                {canExportActivities ? (\n                  <Button\n                    size=\"sm\"\n                    variant=\"outline\"\n                    className=\"rounded-full text-xs\"\n                    disabled={isExporting}\n                    onClick={handleExportCSV}\n                  >\n                    {isExporting ? (\n                      <>\n                        <Loader2 className=\"h-3.5 w-3.5 animate-spin\" />\n                        Exportando...\n                      </>\n                    ) : (\n                      \"Exportar lista\"\n                    )}\n                  </Button>\n                ) : null}\n              </div>\n            </div>\n\n            {summaryInlineFeedback ? (\n              <InlineFeedbackMessage\n                tone={summaryInlineFeedback.tone}\n                message={summaryInlineFeedback.message}\n                className=\"mt-3\"\n              />\n            ) : null}\n\n            <div className=\"mt-4 grid gap-3 sm:grid-cols-2 lg:grid-cols-4\">\n              <SummaryMetric label=\"Total de atividades\" value={String(filteredActivities.length)} />\n              <SummaryMetric label=\"Conclusão semanal\" value={`${weeklyCompletionRate}%`} />\n              <SummaryMetric\n                label=\"Tipo dominante\"\n                value={hotspotType ? typeLabels[hotspotType[0]] : \"-\"}\n              />\n              <SummaryMetric\n                label=\"SLA estourado\"\n                value={String(overdueCount)}\n                accent={overdueCount > 0 ? \"danger\" : \"success\"}\n              />\n            </div>\n\n            <div className=\"mt-4 grid gap-3 lg:grid-cols-1\">\n              <div className=\"rounded-[14px] border border-zinc-200 bg-zinc-50/70 p-3\">\n                <p className=\"mb-2 font-heading text-xs font-semibold uppercase tracking-wide text-zinc-500\">\n                  Por tipo\n                </p>\n                <div className=\"space-y-1.5\">\n                  {Object.entries(typeCounts)\n                    .sort((a, b) => b[1] - a[1])\n                    .slice(0, 4)\n                    .map(([type, count]) => (\n                      <div key={type} className=\"flex items-center justify-between text-sm\">\n                        <span className=\"text-zinc-600\">{typeLabels[type as ActivityType]}</span>\n                        <span className=\"font-medium text-zinc-900\">{count}</span>\n                      </div>\n                    ))}\n                </div>\n              </div>\n            </div>\n\n            {completedActivities.length > 0 && (\n              <div className=\"mt-4 rounded-[14px] border border-zinc-200 bg-white p-3\">\n                <p className=\"mb-2 font-heading text-xs font-semibold uppercase tracking-wide text-zinc-500\">\n                  Concluídas recentes\n                </p>\n                <div className=\"space-y-1.5\">\n                  {completedActivities.slice(0, 4).map((activity) => (\n                    <div\n                      key={activity.id}\n                      className=\"flex items-center justify-between rounded-[10px] bg-zinc-50 px-2.5 py-2\"\n                    >\n                      <p className=\"truncate text-sm text-zinc-700\">{activity.title}</p>\n                      <span className=\"text-xs text-zinc-500\">\n                        {formatDateBR(activity.completedAt || activity.dueDate)}\n                      </span>\n                    </div>\n                  ))}\n                </div>\n              </div>\n            )}\n          </div>\n            </>\n          )}\n        </div>\n\n        <aside\n          ref={intelligenceRailRef}\n          className={cn(\n            \"self-start 2xl:sticky 2xl:top-6\",\n            \"transition-shadow duration-120 ease-out\",\n            isPageScrolled && \"2xl:drop-shadow-[0_8px_20px_rgba(15,23,42,0.08)]\"\n          )}\n        >\n          <div className=\"menux-intelligence-theme space-y-5 rounded-[20px] border border-cyan-300/16 p-5 shadow-[0_14px_26px_-22px_rgba(2,6,23,0.8)] md:p-6\">\n            <div className=\"flex items-center justify-between\">\n              <div>\n                <h2 className=\"font-heading text-lg font-semibold text-slate-100\">Menux Intelligence</h2>\n                <p className=\"mt-1 flex items-center gap-2 text-xs text-slate-300\">\n                  <span className=\"h-2 w-2 rounded-full bg-emerald-500\" />\n                  Online\n                </p>\n              </div>\n              <Button\n                size=\"sm\"\n                variant=\"outline\"\n                className=\"rounded-full border-white/16 bg-white/8 text-slate-100 hover:bg-white/12\"\n                onClick={handleGeneratePlan}\n                disabled={isPlanning}\n              >\n                {isPlanning ? (\n                  <Loader2 className=\"h-3.5 w-3.5 animate-spin\" />\n                ) : (\n                  <Sparkles className=\"h-3.5 w-3.5\" />\n                )}\n                Gerar plano do dia\n              </Button>\n            </div>\n\n            <div className=\"rounded-[16px] border border-white/14 bg-white/7 p-4\">\n              <p className=\"mb-2 font-heading text-xs font-semibold uppercase tracking-wide text-slate-300\">\n                Diagnóstico do dia\n              </p>\n              <div className=\"space-y-1.5 text-sm\">\n                <DiagnosticItem label=\"Atrasadas\" value={String(overdueCount)} tone={overdueCount > 0 ? \"danger\" : \"success\"} />\n                <DiagnosticItem label=\"SLAs críticos\" value={String(overdueActivities.filter((a) => {\n                  const daysLate = Math.floor((startOfDay(now).getTime() - parseDateISO(a.dueDate).getTime()) / DAY_MS);\n                  return daysLate >= 3;\n                }).length)} tone={overdueActivities.some((a) => {\n                  const daysLate = Math.floor((startOfDay(now).getTime() - parseDateISO(a.dueDate).getTime()) / DAY_MS);\n                  return daysLate >= 3;\n                }) ? \"danger\" : \"success\"} />\n                <DiagnosticItem label=\"SLAs em risco\" value={String(riskCount)} tone={riskCount > 0 ? \"warning\" : \"success\"} />\n                <DiagnosticItem\n                  label=\"Tipo mais afetado\"\n                  value={hotspotType ? typeLabels[hotspotType[0]] : \"Sem dados\"}\n                  tone=\"neutral\"\n                />\n              </div>\n            </div>\n\n            <div className=\"rounded-[16px] border border-white/14 bg-white/7 p-4\">\n              <p className=\"mb-2 font-heading text-xs font-semibold uppercase tracking-wide text-slate-300\">\n                Sugestões rápidas\n              </p>\n              <div className=\"grid gap-2 sm:grid-cols-2 xl:grid-cols-1\">\n                {RAIL_COMMANDS.map((command) => {\n                  const loading = commandLoadingId === command.id;\n                  return (\n                    <button\n                      key={command.id}\n                      onClick={() => handleRunCommand(command.id)}\n                      disabled={loading}\n                      className=\"flex items-center justify-between rounded-[12px] border border-white/14 bg-white/8 px-3 py-2 text-left text-xs text-slate-200 transition-colors duration-120 hover:bg-white/12 disabled:opacity-70\"\n                    >\n                      <span>{command.label}</span>\n                      {loading ? (\n                        <Loader2 className=\"h-3.5 w-3.5 animate-spin\" />\n                      ) : (\n                        <ArrowRight className=\"h-3.5 w-3.5 text-slate-400\" />\n                      )}\n                    </button>\n                  );\n                })}\n              </div>\n\n              <AnimatePresence>\n                {commandResult && (\n                  <motion.div\n                    initial={{ opacity: 0, y: 4 }}\n                    animate={{ opacity: 1, y: 0 }}\n                    exit={{ opacity: 0, y: 4 }}\n                    transition={{ duration: 0.14 }}\n                    className={cn(\n                      \"mt-3 rounded-[12px] border px-3 py-2 text-xs\",\n                      commandResult.status === \"success\"\n                        ? \"border-emerald-300/28 bg-emerald-500/14 text-emerald-100\"\n                        : \"border-red-300/30 bg-red-500/14 text-red-100\"\n                    )}\n                  >\n                    {commandResult.text}\n                  </motion.div>\n                )}\n              </AnimatePresence>\n            </div>\n\n            <div className=\"rounded-[16px] border border-white/14 bg-white/7 p-4\">\n              <p className=\"mb-2 font-heading text-xs font-semibold uppercase tracking-wide text-slate-300\">\n                Mensagens prontas\n              </p>\n\n              {selectedActivity ? (\n                <SelectedActivityMessages activity={selectedActivity} now={now} />\n              ) : (\n                <div className=\"rounded-[12px] border border-dashed border-white/20 bg-white/6 px-3 py-3 text-xs text-slate-300\">\n                  Selecione uma atividade para ver mensagens sugeridas aqui.\n                </div>\n              )}\n            </div>\n          </div>\n        </aside>\n      </div>\n\n      <AlertDialog\n        open={confirmBulkCompleteOpen}\n        onOpenChange={setConfirmBulkCompleteOpen}\n      >\n        <AlertDialogContent className=\"rounded-[20px]\">\n          <AlertDialogHeader>\n            <AlertDialogTitle className=\"font-heading text-xl\">\n              Concluir atividades em lote?\n            </AlertDialogTitle>\n            <AlertDialogDescription className=\"font-body text-sm text-zinc-600\">\n              Essa ação conclui {selectedExecutionIds.length} atividade(s) selecionada(s) e\n              registra o status imediatamente.\n            </AlertDialogDescription>\n          </AlertDialogHeader>\n          <AlertDialogFooter>\n            <AlertDialogCancel className=\"rounded-full\">\n              Voltar\n            </AlertDialogCancel>\n            <AlertDialogAction\n              className=\"rounded-full bg-zinc-900 text-white hover:bg-zinc-800\"\n              onClick={handleConfirmBulkCompleteActivities}\n            >\n              Confirmar conclusão\n            </AlertDialogAction>\n          </AlertDialogFooter>\n        </AlertDialogContent>\n      </AlertDialog>\n\n      <AlertDialog\n        open={confirmBulkCancelOpen}\n        onOpenChange={setConfirmBulkCancelOpen}\n      >\n        <AlertDialogContent className=\"rounded-[20px]\">\n          <AlertDialogHeader>\n            <AlertDialogTitle className=\"font-heading text-xl\">\n              Cancelar atividades em lote?\n            </AlertDialogTitle>\n            <AlertDialogDescription className=\"font-body text-sm text-zinc-600\">\n              Essa ação cancela {selectedExecutionIds.length} atividade(s) selecionada(s) e\n              registra o status imediatamente.\n            </AlertDialogDescription>\n          </AlertDialogHeader>\n          <AlertDialogFooter>\n            <AlertDialogCancel className=\"rounded-full\">\n              Voltar\n            </AlertDialogCancel>\n            <AlertDialogAction\n              className=\"rounded-full bg-red-600 text-white hover:bg-red-700\"\n              onClick={handleConfirmBulkCancelActivities}\n            >\n              Confirmar cancelamento\n            </AlertDialogAction>\n          </AlertDialogFooter>\n        </AlertDialogContent>\n      </AlertDialog>\n\n      <GeneratedContentModal\n        open={generatedModalOpen}\n        onOpenChange={setGeneratedModalOpen}\n        title={generatedContent.title}\n        content={generatedContent.content}\n      />\n\n      <ActivityDetailsModal\n        open={Boolean(detailsModalActivity)}\n        activity={detailsModalActivity}\n        now={now}\n        onOpenChange={(open) => {\n          if (!open) {\n            setDetailsModalActivityId(null);\n          }\n        }}\n        onSelectIntelligence={(activity) => {\n          setDetailsModalActivityId(null);\n          handleOpenIntelligenceFromActivity(activity);\n        }}\n        onGenerateFollowup={(activity) => {\n          setDetailsModalActivityId(null);\n          handleGenerateFollowup(activity);\n        }}\n      />\n    </motion.div>\n  );\n}\n\nfunction VirtualizedActivityList({\n  items,\n  renderItem,\n  estimateSize = 176,\n}: {\n  items: Activity[];\n  renderItem: (activity: Activity) => React.ReactNode;\n  estimateSize?: number;\n}) {\n  const parentRef = useRef<HTMLDivElement | null>(null);\n  const shouldVirtualize = items.length > 14;\n\n  // eslint-disable-next-line react-hooks/incompatible-library -- TanStack Virtual is intentional here for large lists.\n  const rowVirtualizer = useVirtualizer({\n    count: items.length,\n    getScrollElement: () => parentRef.current,\n    estimateSize: () => estimateSize,\n    overscan: 6,\n  });\n\n  if (!shouldVirtualize) {\n    return (\n      <div className=\"space-y-3\">\n        <AnimatePresence initial={false}>\n          {items.map((activity) => (\n            <motion.div\n              key={activity.id}\n              layout\n              initial={{ opacity: 0, y: 6 }}\n              animate={{ opacity: 1, y: 0 }}\n              exit={{ opacity: 0, y: -4, scale: 0.995 }}\n              transition={{ duration: 0.16, ease: \"easeOut\" }}\n            >\n              {renderItem(activity)}\n            </motion.div>\n          ))}\n        </AnimatePresence>\n      </div>\n    );\n  }\n\n  const viewportHeight = Math.min(720, Math.max(320, Math.round(items.length * estimateSize)));\n\n  return (\n    <div\n      ref={parentRef}\n      className=\"overflow-auto pr-1\"\n      style={{ height: viewportHeight }}\n    >\n      <div\n        style={{\n          height: `${rowVirtualizer.getTotalSize()}px`,\n          width: \"100%\",\n          position: \"relative\",\n        }}\n      >\n        {rowVirtualizer.getVirtualItems().map((virtualRow) => {\n          const activity = items[virtualRow.index];\n\n          return (\n            <div\n              key={activity.id}\n              data-index={virtualRow.index}\n              ref={rowVirtualizer.measureElement}\n              style={{\n                position: \"absolute\",\n                top: 0,\n                left: 0,\n                width: \"100%\",\n                transform: `translateY(${virtualRow.start}px)`,\n              }}\n            >\n              <div className=\"pb-3\">{renderItem(activity)}</div>\n            </div>\n          );\n        })}\n      </div>\n    </div>\n  );\n}\n\nfunction ActivitiesCalendarView({\n  now,\n  monthDate,\n  days,\n  selectedDate,\n  activitiesByDate,\n  selectedDayActivities,\n  expandedActivityId,\n  highlightedPostponedId,\n  selectedActivityIds,\n  canExecuteActions,\n  canCancelActions,\n  activityFeedback,\n  onPreviousMonth,\n  onNextMonth,\n  onGoToToday,\n  onSelectDate,\n  onToggleExpand,\n  onComplete,\n  onCancel,\n  onPostpone,\n  onToggleSelectActivity,\n  onSelectIntelligence,\n  onGenerateFollowup,\n  onOpenActivityDetails,\n}: {\n  now: Date;\n  monthDate: Date;\n  days: Date[];\n  selectedDate: string;\n  activitiesByDate: Map<string, Activity[]>;\n  selectedDayActivities: Activity[];\n  expandedActivityId: string | null;\n  highlightedPostponedId: string | null;\n  selectedActivityIds: Set<string>;\n  canExecuteActions: boolean;\n  canCancelActions: boolean;\n  activityFeedback: Record<string, ActivityFeedback>;\n  onPreviousMonth: () => void;\n  onNextMonth: () => void;\n  onGoToToday: () => void;\n  onSelectDate: (date: Date) => void;\n  onToggleExpand: (activityId: string) => void;\n  onComplete: (activityId: string, notes?: string) => void;\n  onCancel: (activityId: string) => void;\n  onPostpone: (activityId: string, newDate: string) => void;\n  onToggleSelectActivity: (activityId: string) => void;\n  onSelectIntelligence: (activityId: string) => void;\n  onGenerateFollowup: (activity: Activity) => void;\n  onOpenActivityDetails: (activity: Activity) => void;\n}) {\n  const monthStart = startOfMonth(monthDate);\n  const selectedDateLabel = formatDateFull(selectedDate);\n  const weekdayLabels = [\"Dom\", \"Seg\", \"Ter\", \"Qua\", \"Qui\", \"Sex\", \"Sáb\"];\n  const todayIso = toISODate(startOfDay(now));\n\n  return (\n    <section className=\"rounded-[20px] border border-zinc-200 bg-white p-4 shadow-sm md:p-5\">\n      <div className=\"flex flex-wrap items-center justify-between gap-3\">\n        <div>\n          <h3 className=\"font-heading text-lg font-semibold text-zinc-900\">Agenda em calendário</h3>\n          <p className=\"font-body text-xs text-zinc-500\">\n            Visualização mensal para planejar a execução por dia.\n          </p>\n        </div>\n\n        <div className=\"flex items-center gap-2\">\n          <Button\n            size=\"sm\"\n            variant=\"outline\"\n            className=\"rounded-full border-zinc-200 text-xs\"\n            onClick={onGoToToday}\n          >\n            Hoje\n          </Button>\n          <div className=\"flex items-center gap-2 rounded-full border border-zinc-200 bg-zinc-50/90 p-1\">\n            <Button\n              size=\"icon\"\n              variant=\"ghost\"\n              className=\"h-8 w-8 rounded-full text-zinc-600\"\n              onClick={onPreviousMonth}\n              aria-label=\"Mês anterior\"\n            >\n              <ChevronLeft className=\"h-4 w-4\" />\n            </Button>\n            <span className=\"min-w-[164px] text-center font-heading text-sm font-semibold text-zinc-900 capitalize\">\n              {formatMonthTitle(monthDate)}\n            </span>\n            <Button\n              size=\"icon\"\n              variant=\"ghost\"\n              className=\"h-8 w-8 rounded-full text-zinc-600\"\n              onClick={onNextMonth}\n              aria-label=\"Próximo mês\"\n            >\n              <ChevronRight className=\"h-4 w-4\" />\n            </Button>\n          </div>\n        </div>\n      </div>\n\n      <div className=\"mt-4 overflow-hidden rounded-[16px] border border-zinc-200 bg-white\">\n        <div className=\"grid grid-cols-7 border-b border-zinc-200 bg-zinc-50/80\">\n          {weekdayLabels.map((label) => (\n            <div\n              key={label}\n              className=\"px-2 py-2 text-center text-[11px] font-semibold uppercase tracking-[0.06em] text-zinc-500\"\n            >\n              {label}\n            </div>\n          ))}\n        </div>\n\n        <div className=\"grid grid-cols-7 gap-px bg-zinc-200/80\">\n          {days.map((date) => {\n            const iso = toISODate(date);\n            const activities = activitiesByDate.get(iso) || [];\n            const inCurrentMonth = date.getMonth() === monthStart.getMonth();\n            const isSelected = iso === selectedDate;\n            const isToday = iso === todayIso;\n\n            return (\n              <div\n                key={iso}\n                role=\"button\"\n                tabIndex={0}\n                onClick={() => onSelectDate(date)}\n                onKeyDown={(event) => {\n                  if (event.key === \"Enter\" || event.key === \" \") {\n                    event.preventDefault();\n                    onSelectDate(date);\n                  }\n                }}\n                className={cn(\n                  \"min-h-[116px] bg-white px-2 py-2 text-left transition-colors duration-120 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-inset focus-visible:ring-brand/35\",\n                  \"hover:bg-zinc-50\",\n                  !inCurrentMonth && \"bg-zinc-50/70 text-zinc-400\",\n                  isSelected && \"bg-brand/6 ring-2 ring-inset ring-brand/35\",\n                  isToday && !isSelected && \"ring-1 ring-inset ring-zinc-300\"\n                )}\n                aria-label={`Dia ${date.getDate()} com ${activities.length} atividade${activities.length === 1 ? \"\" : \"s\"}`}\n              >\n                <div className=\"flex items-center justify-between\">\n                  <span\n                    className={cn(\n                      \"inline-flex h-6 min-w-6 items-center justify-center rounded-full px-1.5 text-xs font-semibold\",\n                      isSelected\n                        ? \"bg-brand text-white\"\n                        : isToday\n                          ? \"bg-zinc-900 text-white\"\n                          : \"text-zinc-700\"\n                    )}\n                  >\n                    {date.getDate()}\n                  </span>\n\n                  {activities.length > 0 ? (\n                    <span className=\"rounded-full bg-zinc-100 px-1.5 py-0.5 text-[10px] font-semibold text-zinc-600\">\n                      {activities.length}\n                    </span>\n                  ) : null}\n                </div>\n\n                <div className=\"mt-2 space-y-1\">\n                  {activities.slice(0, 2).map((activity) => (\n                    <button\n                      key={activity.id}\n                      type=\"button\"\n                      onClick={(event) => {\n                        event.stopPropagation();\n                        onSelectDate(date);\n                        onOpenActivityDetails(activity);\n                      }}\n                      className=\"block w-full truncate rounded-[8px] bg-zinc-100/85 px-1.5 py-1 text-left text-[10px] text-zinc-700 transition-colors duration-120 hover:bg-zinc-200/70\"\n                    >\n                      {activity.dueTime ? `${activity.dueTime} ` : \"\"}\n                      {activity.title}\n                    </button>\n                  ))}\n\n                  {activities.length > 2 ? (\n                    <button\n                      type=\"button\"\n                      onClick={(event) => {\n                        event.stopPropagation();\n                        onSelectDate(date);\n                      }}\n                      className=\"text-[10px] font-medium text-brand hover:underline\"\n                    >\n                      +{activities.length - 2} atividades\n                    </button>\n                  ) : null}\n                </div>\n              </div>\n            );\n          })}\n        </div>\n      </div>\n\n      <div className=\"mt-4 rounded-[16px] border border-zinc-200 bg-zinc-50/70 p-3 md:p-4\">\n        <div className=\"mb-3 flex items-center justify-between\">\n          <div>\n            <p className=\"font-heading text-sm font-semibold text-zinc-900\">\n              {selectedDateLabel}\n            </p>\n            <p className=\"text-xs text-zinc-500\">\n              {selectedDayActivities.length}{\" \"}\n              {selectedDayActivities.length === 1 ? \"atividade\" : \"atividades\"} no dia\n            </p>\n          </div>\n        </div>\n\n        {selectedDayActivities.length === 0 ? (\n          <div className=\"rounded-[12px] border border-dashed border-zinc-200 bg-white px-3 py-4 text-sm text-zinc-500\">\n            Sem atividades para este dia.\n          </div>\n        ) : (\n          <div className=\"space-y-3\">\n            <AnimatePresence initial={false}>\n              {selectedDayActivities.map((activity) => (\n                <motion.div\n                  key={activity.id}\n                  layout\n                  initial={{ opacity: 0, y: 6 }}\n                  animate={{ opacity: 1, y: 0 }}\n                  exit={{ opacity: 0, y: -4, scale: 0.995 }}\n                  transition={{ duration: 0.16, ease: \"easeOut\" }}\n                >\n                  <ExecutionActivityCard\n                    activity={activity}\n                    now={now}\n                    isExpanded={expandedActivityId === activity.id}\n                    isHighlighted={highlightedPostponedId === activity.id}\n                    selected={selectedActivityIds.has(activity.id)}\n                    canExecuteActions={canExecuteActions}\n                    canCancelActions={canCancelActions}\n                    feedback={activityFeedback[activity.id]}\n                    onToggleExpand={() => onToggleExpand(activity.id)}\n                    onToggleSelect={() => onToggleSelectActivity(activity.id)}\n                    onComplete={(notes) => onComplete(activity.id, notes)}\n                    onCancel={() => onCancel(activity.id)}\n                    onPostpone={(newDate) => onPostpone(activity.id, newDate)}\n                    onSelectIntelligence={() => onSelectIntelligence(activity.id)}\n                    onGenerateFollowup={() => onGenerateFollowup(activity)}\n                  />\n                </motion.div>\n              ))}\n            </AnimatePresence>\n          </div>\n        )}\n      </div>\n    </section>\n  );\n}\n\nfunction ActivityDetailsModal({\n  open,\n  activity,\n  now,\n  onOpenChange,\n  onSelectIntelligence,\n  onGenerateFollowup,\n}: {\n  open: boolean;\n  activity: Activity | null;\n  now: Date;\n  onOpenChange: (open: boolean) => void;\n  onSelectIntelligence: (activity: Activity) => void;\n  onGenerateFollowup: (activity: Activity) => void;\n}) {\n  if (!activity) return null;\n\n  const statusChip = getStatusChip(activity, now);\n  const insight = getActivityInsight(activity, now);\n\n  return (\n    <Dialog open={open} onOpenChange={onOpenChange}>\n      <DialogContent className=\"max-w-[680px] rounded-[20px] border-zinc-200 p-5 sm:p-6\">\n        <DialogHeader>\n          <DialogTitle className=\"font-heading text-xl font-semibold text-zinc-900\">\n            {activity.title}\n          </DialogTitle>\n          <DialogDescription className=\"text-sm text-zinc-500\">\n            {activity.clientName || activity.opportunityTitle || \"Atividade comercial\"}\n          </DialogDescription>\n        </DialogHeader>\n\n        <div className=\"space-y-4\">\n          <div className=\"flex flex-wrap items-center gap-2\">\n            <span className={cn(\"rounded-full border px-2.5 py-1 text-xs font-semibold\", statusChip.className)}>\n              {statusChip.label}\n            </span>\n            <span className=\"rounded-full border border-zinc-200 bg-zinc-50 px-2.5 py-1 text-xs font-medium text-zinc-600\">\n              {typeLabels[activity.type]}\n            </span>\n            <span className=\"rounded-full border border-zinc-200 bg-zinc-50 px-2.5 py-1 text-xs font-medium text-zinc-600\">\n              {getRelativeTimeLabel(activity, now)}\n            </span>\n          </div>\n\n          <div className=\"grid gap-2 sm:grid-cols-2\">\n            <div className=\"rounded-[12px] border border-zinc-200 bg-zinc-50/80 px-3 py-2.5\">\n              <p className=\"text-[11px] font-semibold uppercase tracking-wide text-zinc-500\">Responsável</p>\n              <p className=\"mt-1 text-sm text-zinc-700\">{activity.responsibleName}</p>\n            </div>\n            <div className=\"rounded-[12px] border border-zinc-200 bg-zinc-50/80 px-3 py-2.5\">\n              <p className=\"text-[11px] font-semibold uppercase tracking-wide text-zinc-500\">Prazo</p>\n              <p className=\"mt-1 text-sm text-zinc-700\">\n                {formatDateBR(activity.dueDate)}\n                {activity.dueTime ? ` · ${activity.dueTime}` : \"\"}\n              </p>\n            </div>\n          </div>\n\n          <div className=\"rounded-[14px] border border-zinc-200 bg-white p-3.5\">\n            <p className=\"text-xs font-semibold uppercase tracking-wide text-zinc-500\">Descrição</p>\n            <p className=\"mt-1 text-sm text-zinc-700\">\n              {activity.description || \"Sem descrição detalhada para esta atividade.\"}\n            </p>\n          </div>\n\n          <div className=\"rounded-[14px] border border-zinc-200 bg-zinc-50/80 p-3.5\">\n            <p className=\"text-xs font-semibold uppercase tracking-wide text-zinc-500\">\n              Recomendação da Menux Intelligence\n            </p>\n            <p className=\"mt-1 text-sm text-zinc-700\">{insight.nextStep}</p>\n            <p className=\"mt-2 text-xs text-zinc-500\">{insight.risk}</p>\n          </div>\n        </div>\n\n        <div className=\"mt-1 flex flex-wrap items-center justify-end gap-2\">\n          <Button\n            size=\"sm\"\n            variant=\"outline\"\n            className=\"h-9 rounded-full\"\n            onClick={() => onSelectIntelligence(activity)}\n          >\n            <Sparkles className=\"h-3.5 w-3.5\" />\n            Menux Intelligence\n          </Button>\n          <Button\n            size=\"sm\"\n            className=\"h-9 rounded-full bg-zinc-900 text-white hover:bg-zinc-800\"\n            onClick={() => onGenerateFollowup(activity)}\n          >\n            Gerar follow-up\n          </Button>\n        </div>\n      </DialogContent>\n    </Dialog>\n  );\n}\n\nfunction ExecutionSection({\n  title,\n  count,\n  collapsed,\n  onToggle,\n  tone,\n  children,\n}: {\n  title: string;\n  count: number;\n  collapsed: boolean;\n  onToggle: () => void;\n  tone: \"violet\" | \"danger\" | \"warning\" | \"neutral\";\n  children: React.ReactNode;\n}) {\n  const toneStyles: Record<typeof tone, { badge: string; icon: string; border: string }> = {\n    violet: {\n      badge: \"border border-cyan-300/25 bg-cyan-500/18 text-cyan-100\",\n      icon: \"text-cyan-200\",\n      border: \"border-cyan-300/20\",\n    },\n    danger: {\n      badge: \"bg-red-100 text-red-700\",\n      icon: \"text-red-600\",\n      border: \"border-red-200/70\",\n    },\n    warning: {\n      badge: \"bg-amber-100 text-amber-700\",\n      icon: \"text-amber-600\",\n      border: \"border-amber-200/70\",\n    },\n    neutral: {\n      badge: \"bg-zinc-100 text-zinc-700\",\n      icon: \"text-zinc-500\",\n      border: \"border-zinc-200\",\n    },\n  };\n\n  const style = toneStyles[tone];\n  const isIntelligenceTone = tone === \"violet\";\n\n  return (\n    <section\n      className={cn(\n        \"rounded-[20px] border p-5 shadow-sm md:p-6\",\n        style.border,\n        isIntelligenceTone\n          ? \"bg-slate-900/62 shadow-[0_12px_24px_-20px_rgba(2,6,23,0.82)]\"\n          : \"bg-white\"\n      )}\n    >\n      <button\n        onClick={onToggle}\n        className=\"flex w-full items-center justify-between\"\n      >\n        <div className=\"flex items-center gap-2\">\n          {tone === \"violet\" ? (\n            <Sparkles className={cn(\"h-4 w-4\", style.icon)} />\n          ) : tone === \"danger\" ? (\n            <AlertTriangle className={cn(\"h-4 w-4\", style.icon)} />\n          ) : tone === \"warning\" ? (\n            <CircleAlert className={cn(\"h-4 w-4\", style.icon)} />\n          ) : (\n            <CircleDashed className={cn(\"h-4 w-4\", style.icon)} />\n          )}\n          <h3\n            className={cn(\n              \"font-heading text-[15px] font-semibold\",\n              isIntelligenceTone ? \"text-slate-100\" : \"text-zinc-900\"\n            )}\n          >\n            {title}\n          </h3>\n          <span className={cn(\"rounded-full px-2 py-0.5 text-xs font-semibold\", style.badge)}>\n            {count}\n          </span>\n        </div>\n        {collapsed ? (\n          <ChevronDown className={cn(\"h-4 w-4\", isIntelligenceTone ? \"text-slate-300\" : \"text-zinc-500\")} />\n        ) : (\n          <ChevronUp className={cn(\"h-4 w-4\", isIntelligenceTone ? \"text-slate-300\" : \"text-zinc-500\")} />\n        )}\n      </button>\n\n      <AnimatePresence initial={false}>\n        {!collapsed && (\n          <motion.div\n            initial={{ height: 0, opacity: 0 }}\n            animate={{ height: \"auto\", opacity: 1 }}\n            exit={{ height: 0, opacity: 0 }}\n            transition={{ duration: 0.18, ease: \"easeOut\" }}\n            className=\"overflow-hidden\"\n          >\n            <div className=\"pt-4\">{children}</div>\n          </motion.div>\n        )}\n      </AnimatePresence>\n    </section>\n  );\n}\n\nfunction InlineSectionError({\n  message,\n  onRetry,\n}: {\n  message: string;\n  onRetry: () => void;\n}) {\n  return (\n    <div className=\"rounded-[14px] border border-red-200 bg-red-50 px-4 py-3\">\n      <div className=\"flex items-center justify-between gap-3\">\n        <p className=\"text-sm text-red-700\">{message}</p>\n        <Button\n          size=\"sm\"\n          variant=\"outline\"\n          className=\"h-7 rounded-full border-red-300 text-red-700\"\n          onClick={onRetry}\n        >\n          Tentar novamente\n        </Button>\n      </div>\n    </div>\n  );\n}\n\nfunction InlineFeedbackMessage({\n  tone,\n  message,\n  className,\n}: {\n  tone: \"success\" | \"error\" | \"info\";\n  message: string;\n  className?: string;\n}) {\n  return (\n    <div\n      className={cn(\n        \"rounded-[12px] border px-3 py-2 text-xs\",\n        tone === \"success\" && \"border-emerald-200 bg-emerald-50 text-emerald-700\",\n        tone === \"error\" && \"border-red-200 bg-red-50 text-red-700\",\n        tone === \"info\" && \"border-blue-200 bg-blue-50 text-blue-700\",\n        className\n      )}\n    >\n      {message}\n    </div>\n  );\n}\n\nconst ExecutionActivityCard = memo(function ExecutionActivityCard({\n  activity,\n  now,\n  feedback,\n  isExpanded,\n  isHighlighted,\n  selected,\n  canExecuteActions,\n  canCancelActions,\n  onToggleExpand,\n  onToggleSelect,\n  onComplete,\n  onCancel,\n  onPostpone,\n  onSelectIntelligence,\n  onGenerateFollowup,\n}: {\n  activity: Activity;\n  now: Date;\n  feedback?: ActivityFeedback;\n  isExpanded: boolean;\n  isHighlighted: boolean;\n  selected: boolean;\n  canExecuteActions: boolean;\n  canCancelActions: boolean;\n  onToggleExpand: () => void;\n  onToggleSelect: () => void;\n  onComplete: (notes?: string) => void;\n  onCancel: () => void;\n  onPostpone: (newDate: string) => void;\n  onSelectIntelligence: () => void;\n  onGenerateFollowup: () => void;\n}) {\n  const [postponeOpen, setPostponeOpen] = useState(false);\n  const [insightOpen, setInsightOpen] = useState(false);\n  const [completeOpen, setCompleteOpen] = useState(false);\n  const [confirmCancelOpen, setConfirmCancelOpen] = useState(false);\n  const [completionNotes, setCompletionNotes] = useState(\"\");\n  const [customPostponeDate, setCustomPostponeDate] = useState(\"\");\n  const [copied, setCopied] = useState(false);\n  const [copyError, setCopyError] = useState<string | null>(null);\n\n  const TypeIcon = typeIconComponents[activity.type];\n  const chip = getStatusChip(activity, now);\n  const insight = getActivityInsight(activity, now);\n\n  const isBusy =\n    feedback?.state === \"loading-complete\" || feedback?.state === \"loading-cancel\" || feedback?.state === \"loading-postpone\";\n\n  const handleCopyMessage = async () => {\n    try {\n      await navigator.clipboard.writeText(insight.message);\n      setCopied(true);\n      setCopyError(null);\n      setTimeout(() => setCopied(false), 1200);\n    } catch {\n      setCopied(false);\n      setCopyError(\"Não foi possível copiar agora.\");\n    }\n  };\n\n  return (\n    <article\n      id={`activity-card-${activity.id}`}\n      className={cn(\n        \"rounded-[20px] border border-zinc-200 bg-white p-5 transition-all duration-140 md:p-6\",\n        \"hover:-translate-y-[2px] hover:shadow-[0_14px_28px_-18px_rgba(15,23,42,0.48)]\",\n        isHighlighted && \"ring-2 ring-brand/35\",\n        feedback?.state === \"complete-success\" && \"border-emerald-300 bg-emerald-50/40\"\n      )}\n      onClick={onToggleExpand}\n    >\n      <div className=\"flex flex-col gap-3 lg:flex-row lg:items-start lg:justify-between\">\n        <div className=\"min-w-0 flex items-start gap-3.5\">\n          <div\n            className={cn(\n              \"mt-0.5 flex h-11 w-11 shrink-0 items-center justify-center rounded-[13px]\",\n              typeColors[activity.type].bg,\n              typeColors[activity.type].text\n            )}\n          >\n            <TypeIcon className=\"h-4 w-4\" />\n          </div>\n\n          <div className=\"min-w-0\">\n            <div className=\"flex flex-wrap items-center gap-2\">\n              <h4 className=\"truncate font-heading text-[17px] font-semibold text-zinc-900\">\n                {activity.title}\n              </h4>\n              <span className={cn(\"rounded-full border px-2 py-0.5 text-[11px] font-medium\", chip.className)}>\n                {chip.label}\n              </span>\n            </div>\n\n            <div className=\"mt-2 flex flex-wrap items-center gap-2 text-sm text-zinc-500\">\n              <span className=\"truncate max-w-[420px]\">\n                {activity.clientId ? (\n                  <Link href={`/clients?clientId=${activity.clientId}`} className=\"hover:text-brand hover:underline\">\n                    {activity.clientName || \"Sem nome\"}\n                  </Link>\n                ) : activity.opportunityId ? (\n                  <Link href={`/pipes?opportunityId=${activity.opportunityId}`} className=\"hover:text-brand hover:underline\">\n                    {activity.opportunityTitle || \"Sem título\"}\n                  </Link>\n                ) : (\n                  activity.clientName || activity.opportunityTitle || \"Sem contexto\"\n                )}\n              </span>\n              <span className=\"text-zinc-300\">•</span>\n              <span>{typeLabels[activity.type]}</span>\n            </div>\n\n            <div className=\"mt-3 flex items-center gap-2\">\n              <Avatar size=\"sm\">\n                <AvatarFallback className=\"bg-brand/10 text-[10px] font-semibold text-brand\">\n                  {initials(activity.responsibleName)}\n                </AvatarFallback>\n              </Avatar>\n              <span className=\"text-xs text-zinc-600\">{activity.responsibleName}</span>\n              <span className=\"text-zinc-300\">•</span>\n              <span className=\"text-xs text-zinc-500\">\n                {formatDateBR(activity.dueDate)}\n                {activity.dueTime ? ` ${activity.dueTime}` : \"\"}\n              </span>\n            </div>\n          </div>\n        </div>\n\n        <div className=\"text-left lg:text-right\">\n          <p className=\"text-xs font-medium text-zinc-500\">{getRelativeTimeLabel(activity, now)}</p>\n        </div>\n      </div>\n\n      <div\n        className=\"mt-4 flex flex-wrap items-center gap-2.5\"\n        onClick={(event) => event.stopPropagation()}\n      >\n        <label className=\"inline-flex items-center gap-2 rounded-full border border-zinc-200 bg-zinc-50 px-3 py-2 text-xs font-medium text-zinc-600\">\n          <Checkbox\n            checked={selected}\n            onCheckedChange={() => onToggleSelect()}\n            disabled={!canExecuteActions}\n          />\n          Selecionar\n        </label>\n\n        <Popover open={completeOpen} onOpenChange={setCompleteOpen}>\n          <PopoverTrigger asChild>\n            <Button\n              size=\"sm\"\n              className=\"h-9 rounded-full bg-zinc-900 px-4 text-xs text-white hover:bg-zinc-800\"\n              disabled={isBusy || !canExecuteActions}\n            >\n              {feedback?.state === \"loading-complete\" ? (\n                <Loader2 className=\"h-3.5 w-3.5 animate-spin\" />\n              ) : (\n                <CheckCircle2 className=\"h-3.5 w-3.5\" />\n              )}\n              Concluir\n            </Button>\n          </PopoverTrigger>\n          <PopoverContent\n            align=\"start\"\n            sideOffset={8}\n            className=\"w-[280px] rounded-[16px] border-zinc-200 p-3\"\n            onClick={(event) => event.stopPropagation()}\n          >\n            <p className=\"mb-2 text-xs font-semibold uppercase tracking-wide text-zinc-500\">\n              Concluir atividade\n            </p>\n            <textarea\n              placeholder=\"Observações da conclusão (opcional)\"\n              value={completionNotes}\n              onChange={(event) => setCompletionNotes(event.target.value)}\n              className=\"w-full resize-none rounded-[10px] border border-zinc-200 bg-zinc-50 px-3 py-2 text-sm text-zinc-700 placeholder:text-zinc-400 focus:border-brand/40 focus:outline-none focus:ring-2 focus:ring-brand/20\"\n              rows={3}\n            />\n            <div className=\"mt-2 flex gap-2\">\n              <Button\n                size=\"sm\"\n                className=\"h-8 flex-1 rounded-full bg-zinc-900 text-xs text-white hover:bg-zinc-800\"\n                onClick={() => {\n                  onComplete(completionNotes.trim() || undefined);\n                  setCompleteOpen(false);\n                  setCompletionNotes(\"\");\n                }}\n                disabled={!canExecuteActions}\n              >\n                <CheckCircle2 className=\"h-3.5 w-3.5\" />\n                Confirmar\n              </Button>\n              <Button\n                size=\"sm\"\n                variant=\"outline\"\n                className=\"h-8 rounded-full text-xs\"\n                onClick={() => {\n                  setCompleteOpen(false);\n                  setCompletionNotes(\"\");\n                }}\n              >\n                Cancelar\n              </Button>\n            </div>\n          </PopoverContent>\n        </Popover>\n\n        <Popover open={postponeOpen} onOpenChange={setPostponeOpen}>\n          <PopoverTrigger asChild>\n            <Button\n              size=\"sm\"\n              variant=\"outline\"\n              className=\"h-9 rounded-full px-4 text-xs\"\n              disabled={isBusy || !canExecuteActions}\n            >\n              {feedback?.state === \"loading-postpone\" ? (\n                <Loader2 className=\"h-3.5 w-3.5 animate-spin\" />\n              ) : (\n                <CalendarClock className=\"h-3.5 w-3.5\" />\n              )}\n              Adiar\n            </Button>\n          </PopoverTrigger>\n          <PopoverContent\n            align=\"start\"\n            sideOffset={8}\n            className=\"w-[250px] rounded-[16px] border-zinc-200 p-3\"\n            onClick={(event) => event.stopPropagation()}\n          >\n            <p className=\"mb-2 text-xs font-semibold uppercase tracking-wide text-zinc-500\">\n              Reagendar\n            </p>\n            <div className=\"space-y-2\">\n              {[1, 3, 7].map((days) => (\n                <button\n                  key={days}\n                  onClick={() => {\n                    onPostpone(toISODate(addDays(startOfDay(now), days)));\n                    setPostponeOpen(false);\n                  }}\n                  className=\"flex w-full items-center justify-between rounded-[10px] border border-zinc-200 px-3 py-2 text-sm text-zinc-700 transition-colors hover:bg-zinc-50\"\n                >\n                  <span>+{days} {days === 1 ? \"dia\" : \"dias\"}</span>\n                  <ArrowRight className=\"h-3.5 w-3.5 text-zinc-400\" />\n                </button>\n              ))}\n            </div>\n            <div className=\"mt-3 space-y-2\">\n              <Label className=\"text-xs text-zinc-500\">Escolher data</Label>\n              <Input\n                type=\"date\"\n                value={customPostponeDate}\n                min={toISODate(startOfDay(now))}\n                onChange={(event) => setCustomPostponeDate(event.target.value)}\n                className=\"h-9 rounded-[10px]\"\n              />\n              <Button\n                size=\"sm\"\n                className=\"h-8 w-full rounded-full bg-zinc-900 text-xs text-white hover:bg-zinc-800\"\n                disabled={!customPostponeDate || !canExecuteActions}\n                onClick={() => {\n                  onPostpone(customPostponeDate);\n                  setPostponeOpen(false);\n                  setCustomPostponeDate(\"\");\n                }}\n              >\n                Confirmar data\n              </Button>\n            </div>\n          </PopoverContent>\n        </Popover>\n\n        <Popover open={insightOpen} onOpenChange={setInsightOpen}>\n          <PopoverTrigger asChild>\n            <Button\n              size=\"sm\"\n              variant=\"outline\"\n              className=\"menux-intelligence-btn-soft h-9 rounded-full px-4 text-xs text-slate-100\"\n              onClick={onSelectIntelligence}\n            >\n              <Sparkles className=\"h-3.5 w-3.5 text-cyan-100\" />\n              Menux Intelligence\n            </Button>\n          </PopoverTrigger>\n          <PopoverContent\n            align=\"start\"\n            sideOffset={8}\n            className=\"w-[min(92vw,340px)] rounded-[16px] border-white/14 bg-slate-950/94 p-3 text-slate-100 shadow-2xl shadow-black/40 backdrop-blur-xl\"\n            onClick={(event) => event.stopPropagation()}\n          >\n            <p className=\"mb-2 text-xs font-semibold uppercase tracking-wide text-slate-300\">\n              Sugestões da Menux Intelligence\n            </p>\n            <div className=\"space-y-2 rounded-[12px] border border-white/14 bg-white/8 p-2.5\">\n              <p className=\"text-[11px] font-medium text-slate-200\">Mensagem pronta</p>\n              <p className=\"text-xs leading-relaxed text-slate-300\">{insight.message}</p>\n              <Button\n                size=\"sm\"\n                variant=\"outline\"\n                className=\"h-7 rounded-full border-white/14 bg-white/7 px-2.5 text-[11px] text-slate-100 hover:bg-white/11\"\n                onClick={handleCopyMessage}\n              >\n                <Copy className=\"h-3 w-3\" />\n                {copied ? \"Copiado\" : \"Copiar\"}\n              </Button>\n            </div>\n            <div className=\"mt-2 rounded-[12px] border border-white/14 bg-white/8 p-2.5\">\n              <p className=\"text-[11px] font-medium text-slate-200\">Próximo passo</p>\n              <p className=\"text-xs text-slate-300\">{insight.nextStep}</p>\n            </div>\n            <div className=\"mt-2 rounded-[12px] border border-white/14 bg-white/8 p-2.5\">\n              <p className=\"text-[11px] font-medium text-slate-200\">Risco se ignorar</p>\n              <p className=\"text-xs text-slate-300\">{insight.risk}</p>\n            </div>\n            {copyError ? (\n              <p className=\"mt-2 text-[11px] text-red-300\">{copyError}</p>\n            ) : null}\n          </PopoverContent>\n        </Popover>\n\n        <div className=\"basis-full\" />\n\n        <div className=\"flex w-full flex-wrap items-center justify-between gap-2\">\n          <div className=\"flex flex-wrap items-center gap-2\">\n            {feedback?.state === \"complete-success\" && (\n              <span className=\"rounded-full bg-emerald-100 px-2.5 py-1 text-[11px] font-medium text-emerald-700\">\n                {feedback.message || \"Concluída\"}\n              </span>\n            )}\n\n            {feedback?.state === \"postpone-success\" && (\n              <span className=\"rounded-full bg-blue-100 px-2.5 py-1 text-[11px] font-medium text-blue-700\">\n                {feedback.message || \"Reagendada\"}\n              </span>\n            )}\n\n            {feedback?.state === \"error\" && (\n              <span className=\"rounded-full bg-red-100 px-2.5 py-1 text-[11px] font-medium text-red-700\">\n                {feedback.message || \"Falha ao executar\"}\n              </span>\n            )}\n          </div>\n\n          <div className=\"flex flex-wrap items-center gap-1.5\">\n            <Button\n              size=\"sm\"\n              variant=\"ghost\"\n              className=\"h-8 rounded-full px-3 text-xs text-zinc-600 hover:bg-zinc-100\"\n              onClick={onToggleExpand}\n            >\n              {isExpanded ? \"Ocultar detalhes\" : \"Ver detalhes\"}\n            </Button>\n\n            {activity.status !== \"completed\" && activity.status !== \"cancelled\" && (\n              <Button\n                size=\"sm\"\n                variant=\"ghost\"\n                className=\"h-8 rounded-full px-3 text-xs text-red-500 hover:bg-red-50 hover:text-red-600\"\n                disabled={isBusy || !canCancelActions}\n                onClick={() => setConfirmCancelOpen(true)}\n              >\n                <XCircle className=\"h-3.5 w-3.5\" />\n                Cancelar\n              </Button>\n            )}\n          </div>\n        </div>\n      </div>\n\n      <AlertDialog open={confirmCancelOpen} onOpenChange={setConfirmCancelOpen}>\n        <AlertDialogContent className=\"rounded-[20px]\">\n          <AlertDialogHeader>\n            <AlertDialogTitle className=\"font-heading text-xl\">\n              Cancelar atividade?\n            </AlertDialogTitle>\n            <AlertDialogDescription className=\"font-body text-sm text-zinc-600\">\n              Esta ação define a atividade como cancelada e interrompe o ciclo de execução.\n            </AlertDialogDescription>\n          </AlertDialogHeader>\n          <AlertDialogFooter>\n            <AlertDialogCancel className=\"rounded-full\">\n              Voltar\n            </AlertDialogCancel>\n            <AlertDialogAction\n              className=\"rounded-full bg-red-600 text-white hover:bg-red-700\"\n              onClick={onCancel}\n            >\n              Confirmar cancelamento\n            </AlertDialogAction>\n          </AlertDialogFooter>\n        </AlertDialogContent>\n      </AlertDialog>\n\n      <AnimatePresence initial={false}>\n        {isExpanded && (\n          <motion.div\n            initial={{ height: 0, opacity: 0 }}\n            animate={{ height: \"auto\", opacity: 1 }}\n            exit={{ height: 0, opacity: 0 }}\n            transition={{ duration: 0.18, ease: \"easeOut\" }}\n            className=\"overflow-hidden\"\n          >\n            <div className=\"mt-3 rounded-[14px] border border-zinc-200 bg-zinc-50/80 p-3.5\">\n              <div className=\"grid gap-3 lg:grid-cols-3\">\n                <div className=\"lg:col-span-2\">\n                  <p className=\"text-xs font-semibold uppercase tracking-wide text-zinc-500\">\n                    Descrição\n                  </p>\n                  <p className=\"mt-1 text-sm text-zinc-700\">\n                    {activity.description || \"Sem descrição detalhada para esta atividade.\"}\n                  </p>\n\n                  {activity.completionNotes && (\n                    <>\n                      <p className=\"mt-3 text-xs font-semibold uppercase tracking-wide text-zinc-500\">\n                        Notas de conclusão\n                      </p>\n                      <p className=\"mt-1 rounded-[8px] border border-emerald-200 bg-emerald-50/60 px-2.5 py-2 text-sm text-emerald-800\">\n                        {activity.completionNotes}\n                      </p>\n                    </>\n                  )}\n\n                  <p className=\"mt-3 text-xs font-semibold uppercase tracking-wide text-zinc-500\">\n                    Checklist de preparação\n                  </p>\n                  <ul className=\"mt-1.5 space-y-1.5\">\n                    {getActivityChecklist(activity).map((item) => (\n                      <li key={item} className=\"flex items-center gap-2 text-sm text-zinc-700\">\n                        <span className=\"inline-block h-1.5 w-1.5 shrink-0 rounded-full bg-zinc-400\" />\n                        <span>{item}</span>\n                      </li>\n                    ))}\n                  </ul>\n                </div>\n\n                <div>\n                  <p className=\"text-xs font-semibold uppercase tracking-wide text-zinc-500\">\n                    Histórico curto\n                  </p>\n                  <div className=\"mt-1.5 space-y-2 text-sm text-zinc-700\">\n                    <div className=\"rounded-[10px] border border-zinc-200 bg-white px-2.5 py-2\">\n                      <p className=\"text-xs text-zinc-500\">Criada em</p>\n                      <p>{formatDateBR(activity.createdAt.slice(0, 10))}</p>\n                    </div>\n                    <div className=\"rounded-[10px] border border-zinc-200 bg-white px-2.5 py-2\">\n                      <p className=\"text-xs text-zinc-500\">Prazo atual</p>\n                      <p>\n                        {formatDateBR(activity.dueDate)}\n                        {activity.dueTime ? ` · ${activity.dueTime}` : \"\"}\n                      </p>\n                    </div>\n                  </div>\n\n                  <Button\n                    size=\"sm\"\n                    className=\"mt-3 h-8 w-full rounded-full border border-cyan-300/22 bg-cyan-500/18 text-xs text-cyan-50 hover:bg-cyan-500/28\"\n                    onClick={onGenerateFollowup}\n                  >\n                    <Sparkles className=\"h-3.5 w-3.5\" />\n                    Gerar mensagem de follow-up\n                  </Button>\n                </div>\n              </div>\n            </div>\n          </motion.div>\n        )}\n      </AnimatePresence>\n    </article>\n  );\n});\n\nconst SelectedActivityMessages = memo(function SelectedActivityMessages({\n  activity,\n  now,\n}: {\n  activity: Activity;\n  now: Date;\n}) {\n  const [copiedId, setCopiedId] = useState<string | null>(null);\n  const [copyError, setCopyError] = useState<string | null>(null);\n\n  const insight = getActivityInsight(activity, now);\n\n  const templates = [\n    {\n      id: \"msg-1\",\n      title: \"Mensagem principal\",\n      body: insight.message,\n    },\n    {\n      id: \"msg-2\",\n      title: \"Próximo passo\",\n      body: insight.nextStep,\n    },\n    {\n      id: \"msg-3\",\n      title: \"Risco se ignorar\",\n      body: insight.risk,\n    },\n  ];\n\n  const handleCopy = async (id: string, text: string) => {\n    try {\n      await navigator.clipboard.writeText(text);\n      setCopiedId(id);\n      setCopyError(null);\n      setTimeout(() => setCopiedId(null), 1200);\n    } catch {\n      setCopiedId(null);\n      setCopyError(\"Não foi possível copiar o conteúdo.\");\n    }\n  };\n\n  return (\n    <div className=\"space-y-2\">\n      <div className=\"rounded-[12px] border border-white/14 bg-white/8 px-3 py-2.5\">\n        <p className=\"truncate text-xs font-medium text-slate-100\">{activity.title}</p>\n        <p className=\"mt-0.5 text-[11px] text-slate-400\">\n          {activity.clientName || activity.opportunityTitle || \"Sem contexto\"}\n        </p>\n      </div>\n\n      {templates.map((template) => (\n        <div key={template.id} className=\"rounded-[12px] border border-white/14 bg-white/8 px-3 py-2.5\">\n          <p className=\"text-[11px] font-semibold uppercase tracking-wide text-slate-300\">\n            {template.title}\n          </p>\n          <p className=\"mt-1 text-xs leading-relaxed text-slate-200\">{template.body}</p>\n          <Button\n            size=\"sm\"\n            variant=\"outline\"\n            className=\"mt-2 h-7 rounded-full border-white/14 bg-white/7 px-2.5 text-[11px] text-slate-100 hover:bg-white/11\"\n            onClick={() => handleCopy(template.id, template.body)}\n          >\n            <Copy className=\"h-3 w-3\" />\n            {copiedId === template.id ? \"Copiado\" : \"Copiar\"}\n          </Button>\n        </div>\n      ))}\n\n      {copyError ? (\n        <p className=\"text-[11px] text-red-300\">{copyError}</p>\n      ) : null}\n    </div>\n  );\n});\n\nfunction DiagnosticItem({\n  label,\n  value,\n  tone,\n}: {\n  label: string;\n  value: string;\n  tone: \"success\" | \"warning\" | \"danger\" | \"neutral\";\n}) {\n  const toneClass: Record<typeof tone, string> = {\n    success: \"text-emerald-100\",\n    warning: \"text-amber-100\",\n    danger: \"text-red-100\",\n    neutral: \"text-slate-100\",\n  };\n\n  return (\n    <div className=\"flex items-center justify-between rounded-[10px] border border-white/10 bg-white/7 px-2.5 py-2\">\n      <span className=\"text-slate-300\">{label}</span>\n      <span className={cn(\"font-semibold\", toneClass[tone])}>{value}</span>\n    </div>\n  );\n}\n\nfunction SummaryMetric({\n  label,\n  value,\n  accent = \"neutral\",\n}: {\n  label: string;\n  value: string;\n  accent?: \"neutral\" | \"danger\" | \"success\";\n}) {\n  return (\n    <div className=\"rounded-[14px] border border-zinc-200 bg-zinc-50/70 p-3\">\n      <p className=\"text-[11px] font-semibold uppercase tracking-wide text-zinc-500\">{label}</p>\n      <p\n        className={cn(\n          \"mt-1 font-heading text-2xl font-semibold\",\n          accent === \"danger\"\n            ? \"text-red-700\"\n            : accent === \"success\"\n              ? \"text-emerald-700\"\n              : \"text-zinc-900\"\n        )}\n      >\n        {value}\n      </p>\n    </div>\n  );\n}\n","export type NoInfer<A extends any> = [A][A extends any ? 0 : never]\n\nexport type PartialKeys<T, K extends keyof T> = Omit<T, K> & Partial<Pick<T, K>>\n\nexport function memo<TDeps extends ReadonlyArray<any>, TResult>(\n  getDeps: () => [...TDeps],\n  fn: (...args: NoInfer<[...TDeps]>) => TResult,\n  opts: {\n    key: false | string\n    debug?: () => boolean\n    onChange?: (result: TResult) => void\n    initialDeps?: TDeps\n    skipInitialOnChange?: boolean\n  },\n) {\n  let deps = opts.initialDeps ?? []\n  let result: TResult | undefined\n  let isInitial = true\n\n  function memoizedFunction(): TResult {\n    let depTime: number\n    if (opts.key && opts.debug?.()) depTime = Date.now()\n\n    const newDeps = getDeps()\n\n    const depsChanged =\n      newDeps.length !== deps.length ||\n      newDeps.some((dep: any, index: number) => deps[index] !== dep)\n\n    if (!depsChanged) {\n      return result!\n    }\n\n    deps = newDeps\n\n    let resultTime: number\n    if (opts.key && opts.debug?.()) resultTime = Date.now()\n\n    result = fn(...newDeps)\n\n    if (opts.key && opts.debug?.()) {\n      const depEndTime = Math.round((Date.now() - depTime!) * 100) / 100\n      const resultEndTime = Math.round((Date.now() - resultTime!) * 100) / 100\n      const resultFpsPercentage = resultEndTime / 16\n\n      const pad = (str: number | string, num: number) => {\n        str = String(str)\n        while (str.length < num) {\n          str = ' ' + str\n        }\n        return str\n      }\n\n      console.info(\n        `%c⏱ ${pad(resultEndTime, 5)} /${pad(depEndTime, 5)} ms`,\n        `\n            font-size: .6rem;\n            font-weight: bold;\n            color: hsl(${Math.max(\n              0,\n              Math.min(120 - 120 * resultFpsPercentage, 120),\n            )}deg 100% 31%);`,\n        opts?.key,\n      )\n    }\n\n    if (opts?.onChange && !(isInitial && opts.skipInitialOnChange)) {\n      opts.onChange(result)\n    }\n\n    isInitial = false\n\n    return result\n  }\n\n  // Attach updateDeps to the function itself\n  memoizedFunction.updateDeps = (newDeps: [...TDeps]) => {\n    deps = newDeps\n  }\n\n  return memoizedFunction\n}\n\nexport function notUndefined<T>(value: T | undefined, msg?: string): T {\n  if (value === undefined) {\n    throw new Error(`Unexpected undefined${msg ? `: ${msg}` : ''}`)\n  } else {\n    return value\n  }\n}\n\nexport const approxEqual = (a: number, b: number) => Math.abs(a - b) < 1.01\n\nexport const debounce = (\n  targetWindow: Window & typeof globalThis,\n  fn: Function,\n  ms: number,\n) => {\n  let timeoutId: number\n  return function (this: any, ...args: Array<any>) {\n    targetWindow.clearTimeout(timeoutId)\n    timeoutId = targetWindow.setTimeout(() => fn.apply(this, args), ms)\n  }\n}\n","import type { Activity } from \"@/types\";\nimport { isActivityOverdueAt, isActivitySlaRiskAt } from \"@/lib/business-rules\";\n\n// ═══════════════════════════════════════════════════════════════════\n// Date primitives\n// ═══════════════════════════════════════════════════════════════════\n\nexport const DAY_MS = 24 * 60 * 60 * 1000;\n\nexport function startOfDay(date: Date): Date {\n  return new Date(date.getFullYear(), date.getMonth(), date.getDate());\n}\n\nexport function parseDateISO(dateStr: string): Date {\n  const [year, month, day] = dateStr.split(\"-\").map(Number);\n  return new Date(year, month - 1, day);\n}\n\nexport function toISODate(date: Date): string {\n  const y = date.getFullYear();\n  const m = String(date.getMonth() + 1).padStart(2, \"0\");\n  const d = String(date.getDate()).padStart(2, \"0\");\n  return `${y}-${m}-${d}`;\n}\n\nexport function addDays(date: Date, days: number): Date {\n  return new Date(date.getFullYear(), date.getMonth(), date.getDate() + days);\n}\n\nexport function startOfMonth(date: Date): Date {\n  return new Date(date.getFullYear(), date.getMonth(), 1);\n}\n\nexport function endOfMonth(date: Date): Date {\n  return new Date(date.getFullYear(), date.getMonth() + 1, 0);\n}\n\nexport function startOfWeek(date: Date): Date {\n  const start = new Date(date.getFullYear(), date.getMonth(), date.getDate());\n  const day = start.getDay();\n  return addDays(start, -day);\n}\n\nexport function endOfWeek(date: Date): Date {\n  const end = new Date(date.getFullYear(), date.getMonth(), date.getDate());\n  const day = end.getDay();\n  return addDays(end, 6 - day);\n}\n\n// ═══════════════════════════════════════════════════════════════════\n// Formatting\n// ═══════════════════════════════════════════════════════════════════\n\nexport function formatMonthTitle(date: Date): string {\n  return new Intl.DateTimeFormat(\"pt-BR\", {\n    month: \"long\",\n    year: \"numeric\",\n  }).format(date);\n}\n\nexport function formatDateBR(dateStr: string): string {\n  return parseDateISO(dateStr).toLocaleDateString(\"pt-BR\", {\n    day: \"2-digit\",\n    month: \"2-digit\",\n  });\n}\n\nexport function formatDateFull(dateStr: string): string {\n  return parseDateISO(dateStr).toLocaleDateString(\"pt-BR\", {\n    day: \"2-digit\",\n    month: \"short\",\n  });\n}\n\nexport function formatCompactDateLabel(date: Date): string {\n  const parts = new Intl.DateTimeFormat(\"pt-BR\", {\n    weekday: \"short\",\n    day: \"2-digit\",\n    month: \"short\",\n  }).formatToParts(date);\n  const weekday = (parts.find((part) => part.type === \"weekday\")?.value ?? \"\")\n    .replaceAll(\".\", \"\")\n    .trim();\n  const day = parts.find((part) => part.type === \"day\")?.value ?? \"\";\n  const month = (parts.find((part) => part.type === \"month\")?.value ?? \"\")\n    .replaceAll(\".\", \"\")\n    .trim();\n  return `${weekday.charAt(0).toUpperCase() + weekday.slice(1)}, ${day} ${month}`;\n}\n\nexport function initials(name: string): string {\n  return name\n    .split(\" \")\n    .map((part) => part[0])\n    .join(\"\")\n    .slice(0, 2)\n    .toUpperCase();\n}\n\n// ═══════════════════════════════════════════════════════════════════\n// Activity helpers\n// ═══════════════════════════════════════════════════════════════════\n\nexport function getDelayText(daysOverdue: number): string {\n  if (daysOverdue <= 0) return \"\";\n  if (daysOverdue === 1) return \"1 dia de atraso\";\n  if (daysOverdue < 7) return `${daysOverdue} dias de atraso`;\n  if (daysOverdue < 30) {\n    const weeks = Math.floor(daysOverdue / 7);\n    return weeks === 1 ? \"1 semana de atraso\" : `${weeks} semanas de atraso`;\n  }\n  const months = Math.floor(daysOverdue / 30);\n  return months === 1 ? \"1 mês de atraso\" : `${months} meses de atraso`;\n}\n\nexport function isActivityOverdue(activity: Activity, now: Date): boolean {\n  return isActivityOverdueAt(activity, now);\n}\n\nexport function isSlaRisk(activity: Activity, now: Date): boolean {\n  return isActivitySlaRiskAt(activity, now);\n}\n\nexport function getRelativeTimeLabel(activity: Activity, now: Date): string {\n  const dueDate = startOfDay(parseDateISO(activity.dueDate));\n  const today = startOfDay(now);\n  const diffDays = Math.floor((dueDate.getTime() - today.getTime()) / DAY_MS);\n\n  if (isActivityOverdue(activity, now)) {\n    if (diffDays === 0) {\n      return activity.dueTime ? `Atrasada desde ${activity.dueTime}` : \"Atrasada hoje\";\n    }\n    return getDelayText(Math.max(1, Math.abs(diffDays)));\n  }\n\n  if (diffDays === 0) {\n    return activity.dueTime ? `Hoje · ${activity.dueTime}` : \"Hoje\";\n  }\n\n  if (diffDays === 1) return \"Amanhã\";\n  if (diffDays <= 7) return `Em ${diffDays} dias`;\n  return formatDateFull(activity.dueDate);\n}\n\nexport function getStatusChip(activity: Activity, now: Date): {\n  label: string;\n  className: string;\n} {\n  if (activity.status === \"completed\") {\n    return {\n      label: \"Concluída\",\n      className: \"bg-status-success-light text-status-success border-status-success/20\",\n    };\n  }\n\n  if (activity.status === \"cancelled\") {\n    return {\n      label: \"Cancelada\",\n      className: \"bg-zinc-100 text-zinc-500 border-zinc-200\",\n    };\n  }\n\n  if (isActivityOverdue(activity, now)) {\n    return {\n      label: \"Atrasada\",\n      className: \"bg-status-danger-light text-status-danger border-status-danger/20\",\n    };\n  }\n\n  const due = startOfDay(parseDateISO(activity.dueDate));\n  const today = startOfDay(now);\n\n  if (due.getTime() === today.getTime()) {\n    return {\n      label: \"Hoje\",\n      className: \"bg-status-warning-light text-status-warning border-status-warning/25\",\n    };\n  }\n\n  return {\n    label: \"Pendente\",\n    className: \"bg-status-info-light text-status-info border-status-info/20\",\n  };\n}\n\nexport function getActivityChecklist(activity: Activity): string[] {\n  const base = [\n    \"Contexto do cliente validado\",\n    \"Objetivo da interação definido\",\n    \"Próxima ação registrada\",\n  ];\n\n  if (activity.type === \"meeting\") {\n    return [\n      \"Participantes confirmados\",\n      \"Pauta compartilhada\",\n      \"Follow-up preparado\",\n    ];\n  }\n\n  if (activity.type === \"call\" || activity.type === \"whatsapp\") {\n    return [\n      \"Script revisado\",\n      \"Objeções mapeadas\",\n      \"Próximo passo combinado\",\n    ];\n  }\n\n  return base;\n}\n\nexport function getActivityInsight(activity: Activity, now: Date): {\n  message: string;\n  nextStep: string;\n  risk: string;\n} {\n  const label = activity.clientName || activity.opportunityTitle || \"o cliente\";\n  const overdue = isActivityOverdue(activity, now);\n  const urgency = overdue ? \"urgente\" : \"prioritária\";\n\n  return {\n    message:\n      activity.type === \"email\"\n        ? `Olá! Revendo nossa agenda, gostaria de avançar o próximo passo com ${label}. Podemos alinhar ainda hoje?`\n        : activity.type === \"meeting\"\n          ? `Perfeito, vamos alinhar os pontos críticos de ${label} e sair com decisão clara no final da reunião.`\n          : `Oi! Passando para mantermos ${label} em ritmo ${urgency}. Você consegue me confirmar o melhor horário para avançarmos?`,\n    nextStep:\n      activity.type === \"task\"\n        ? \"Feche esta tarefa e transforme em contato ativo com data definida.\"\n        : \"Registrar compromisso com data/horário e responsável antes de encerrar.\",\n    risk: overdue\n      ? `Se ignorar, ${label} pode perder prioridade e aumentar risco de churn.`\n      : `Se ignorar, ${label} perde cadência e pode esfriar o ciclo de decisão.`,\n  };\n}\n","import { approxEqual, debounce, memo, notUndefined } from './utils'\n\nexport * from './utils'\n\n//\n\ntype ScrollDirection = 'forward' | 'backward'\n\ntype ScrollAlignment = 'start' | 'center' | 'end' | 'auto'\n\ntype ScrollBehavior = 'auto' | 'smooth'\n\nexport interface ScrollToOptions {\n  align?: ScrollAlignment\n  behavior?: ScrollBehavior\n}\n\ntype ScrollToOffsetOptions = ScrollToOptions\n\ntype ScrollToIndexOptions = ScrollToOptions\n\nexport interface Range {\n  startIndex: number\n  endIndex: number\n  overscan: number\n  count: number\n}\n\ntype Key = number | string | bigint\n\nexport interface VirtualItem {\n  key: Key\n  index: number\n  start: number\n  end: number\n  size: number\n  lane: number\n}\n\nexport interface Rect {\n  width: number\n  height: number\n}\n\n//\n\nconst getRect = (element: HTMLElement): Rect => {\n  const { offsetWidth, offsetHeight } = element\n  return { width: offsetWidth, height: offsetHeight }\n}\n\nexport const defaultKeyExtractor = (index: number) => index\n\nexport const defaultRangeExtractor = (range: Range) => {\n  const start = Math.max(range.startIndex - range.overscan, 0)\n  const end = Math.min(range.endIndex + range.overscan, range.count - 1)\n\n  const arr = []\n\n  for (let i = start; i <= end; i++) {\n    arr.push(i)\n  }\n\n  return arr\n}\n\nexport const observeElementRect = <T extends Element>(\n  instance: Virtualizer<T, any>,\n  cb: (rect: Rect) => void,\n) => {\n  const element = instance.scrollElement\n  if (!element) {\n    return\n  }\n  const targetWindow = instance.targetWindow\n  if (!targetWindow) {\n    return\n  }\n\n  const handler = (rect: Rect) => {\n    const { width, height } = rect\n    cb({ width: Math.round(width), height: Math.round(height) })\n  }\n\n  handler(getRect(element as unknown as HTMLElement))\n\n  if (!targetWindow.ResizeObserver) {\n    return () => {}\n  }\n\n  const observer = new targetWindow.ResizeObserver((entries) => {\n    const run = () => {\n      const entry = entries[0]\n      if (entry?.borderBoxSize) {\n        const box = entry.borderBoxSize[0]\n        if (box) {\n          handler({ width: box.inlineSize, height: box.blockSize })\n          return\n        }\n      }\n      handler(getRect(element as unknown as HTMLElement))\n    }\n\n    instance.options.useAnimationFrameWithResizeObserver\n      ? requestAnimationFrame(run)\n      : run()\n  })\n\n  observer.observe(element, { box: 'border-box' })\n\n  return () => {\n    observer.unobserve(element)\n  }\n}\n\nconst addEventListenerOptions = {\n  passive: true,\n}\n\nexport const observeWindowRect = (\n  instance: Virtualizer<Window, any>,\n  cb: (rect: Rect) => void,\n) => {\n  const element = instance.scrollElement\n  if (!element) {\n    return\n  }\n\n  const handler = () => {\n    cb({ width: element.innerWidth, height: element.innerHeight })\n  }\n  handler()\n\n  element.addEventListener('resize', handler, addEventListenerOptions)\n\n  return () => {\n    element.removeEventListener('resize', handler)\n  }\n}\n\nconst supportsScrollend =\n  typeof window == 'undefined' ? true : 'onscrollend' in window\n\ntype ObserveOffsetCallBack = (offset: number, isScrolling: boolean) => void\n\nexport const observeElementOffset = <T extends Element>(\n  instance: Virtualizer<T, any>,\n  cb: ObserveOffsetCallBack,\n) => {\n  const element = instance.scrollElement\n  if (!element) {\n    return\n  }\n  const targetWindow = instance.targetWindow\n  if (!targetWindow) {\n    return\n  }\n\n  let offset = 0\n  const fallback =\n    instance.options.useScrollendEvent && supportsScrollend\n      ? () => undefined\n      : debounce(\n          targetWindow,\n          () => {\n            cb(offset, false)\n          },\n          instance.options.isScrollingResetDelay,\n        )\n\n  const createHandler = (isScrolling: boolean) => () => {\n    const { horizontal, isRtl } = instance.options\n    offset = horizontal\n      ? element['scrollLeft'] * ((isRtl && -1) || 1)\n      : element['scrollTop']\n    fallback()\n    cb(offset, isScrolling)\n  }\n  const handler = createHandler(true)\n  const endHandler = createHandler(false)\n\n  element.addEventListener('scroll', handler, addEventListenerOptions)\n  const registerScrollendEvent =\n    instance.options.useScrollendEvent && supportsScrollend\n  if (registerScrollendEvent) {\n    element.addEventListener('scrollend', endHandler, addEventListenerOptions)\n  }\n  return () => {\n    element.removeEventListener('scroll', handler)\n    if (registerScrollendEvent) {\n      element.removeEventListener('scrollend', endHandler)\n    }\n  }\n}\n\nexport const observeWindowOffset = (\n  instance: Virtualizer<Window, any>,\n  cb: ObserveOffsetCallBack,\n) => {\n  const element = instance.scrollElement\n  if (!element) {\n    return\n  }\n  const targetWindow = instance.targetWindow\n  if (!targetWindow) {\n    return\n  }\n\n  let offset = 0\n  const fallback =\n    instance.options.useScrollendEvent && supportsScrollend\n      ? () => undefined\n      : debounce(\n          targetWindow,\n          () => {\n            cb(offset, false)\n          },\n          instance.options.isScrollingResetDelay,\n        )\n\n  const createHandler = (isScrolling: boolean) => () => {\n    offset = element[instance.options.horizontal ? 'scrollX' : 'scrollY']\n    fallback()\n    cb(offset, isScrolling)\n  }\n  const handler = createHandler(true)\n  const endHandler = createHandler(false)\n\n  element.addEventListener('scroll', handler, addEventListenerOptions)\n  const registerScrollendEvent =\n    instance.options.useScrollendEvent && supportsScrollend\n  if (registerScrollendEvent) {\n    element.addEventListener('scrollend', endHandler, addEventListenerOptions)\n  }\n  return () => {\n    element.removeEventListener('scroll', handler)\n    if (registerScrollendEvent) {\n      element.removeEventListener('scrollend', endHandler)\n    }\n  }\n}\n\nexport const measureElement = <TItemElement extends Element>(\n  element: TItemElement,\n  entry: ResizeObserverEntry | undefined,\n  instance: Virtualizer<any, TItemElement>,\n) => {\n  if (entry?.borderBoxSize) {\n    const box = entry.borderBoxSize[0]\n    if (box) {\n      const size = Math.round(\n        box[instance.options.horizontal ? 'inlineSize' : 'blockSize'],\n      )\n      return size\n    }\n  }\n\n  return (element as unknown as HTMLElement)[\n    instance.options.horizontal ? 'offsetWidth' : 'offsetHeight'\n  ]\n}\n\nexport const windowScroll = <T extends Window>(\n  offset: number,\n  {\n    adjustments = 0,\n    behavior,\n  }: { adjustments?: number; behavior?: ScrollBehavior },\n  instance: Virtualizer<T, any>,\n) => {\n  const toOffset = offset + adjustments\n\n  instance.scrollElement?.scrollTo?.({\n    [instance.options.horizontal ? 'left' : 'top']: toOffset,\n    behavior,\n  })\n}\n\nexport const elementScroll = <T extends Element>(\n  offset: number,\n  {\n    adjustments = 0,\n    behavior,\n  }: { adjustments?: number; behavior?: ScrollBehavior },\n  instance: Virtualizer<T, any>,\n) => {\n  const toOffset = offset + adjustments\n\n  instance.scrollElement?.scrollTo?.({\n    [instance.options.horizontal ? 'left' : 'top']: toOffset,\n    behavior,\n  })\n}\n\nexport interface VirtualizerOptions<\n  TScrollElement extends Element | Window,\n  TItemElement extends Element,\n> {\n  // Required from the user\n  count: number\n  getScrollElement: () => TScrollElement | null\n  estimateSize: (index: number) => number\n\n  // Required from the framework adapter (but can be overridden)\n  scrollToFn: (\n    offset: number,\n    options: { adjustments?: number; behavior?: ScrollBehavior },\n    instance: Virtualizer<TScrollElement, TItemElement>,\n  ) => void\n  observeElementRect: (\n    instance: Virtualizer<TScrollElement, TItemElement>,\n    cb: (rect: Rect) => void,\n  ) => void | (() => void)\n  observeElementOffset: (\n    instance: Virtualizer<TScrollElement, TItemElement>,\n    cb: ObserveOffsetCallBack,\n  ) => void | (() => void)\n  // Optional\n  debug?: boolean\n  initialRect?: Rect\n  onChange?: (\n    instance: Virtualizer<TScrollElement, TItemElement>,\n    sync: boolean,\n  ) => void\n  measureElement?: (\n    element: TItemElement,\n    entry: ResizeObserverEntry | undefined,\n    instance: Virtualizer<TScrollElement, TItemElement>,\n  ) => number\n  overscan?: number\n  horizontal?: boolean\n  paddingStart?: number\n  paddingEnd?: number\n  scrollPaddingStart?: number\n  scrollPaddingEnd?: number\n  initialOffset?: number | (() => number)\n  getItemKey?: (index: number) => Key\n  rangeExtractor?: (range: Range) => Array<number>\n  scrollMargin?: number\n  gap?: number\n  indexAttribute?: string\n  initialMeasurementsCache?: Array<VirtualItem>\n  lanes?: number\n  isScrollingResetDelay?: number\n  useScrollendEvent?: boolean\n  enabled?: boolean\n  isRtl?: boolean\n  useAnimationFrameWithResizeObserver?: boolean\n}\n\nexport class Virtualizer<\n  TScrollElement extends Element | Window,\n  TItemElement extends Element,\n> {\n  private unsubs: Array<void | (() => void)> = []\n  options!: Required<VirtualizerOptions<TScrollElement, TItemElement>>\n  scrollElement: TScrollElement | null = null\n  targetWindow: (Window & typeof globalThis) | null = null\n  isScrolling = false\n  private currentScrollToIndex: number | null = null\n  measurementsCache: Array<VirtualItem> = []\n  private itemSizeCache = new Map<Key, number>()\n  private laneAssignments = new Map<number, number>() // index → lane cache\n  private pendingMeasuredCacheIndexes: Array<number> = []\n  private prevLanes: number | undefined = undefined\n  private lanesChangedFlag = false\n  private lanesSettling = false\n  scrollRect: Rect | null = null\n  scrollOffset: number | null = null\n  scrollDirection: ScrollDirection | null = null\n  private scrollAdjustments = 0\n  shouldAdjustScrollPositionOnItemSizeChange:\n    | undefined\n    | ((\n        item: VirtualItem,\n        delta: number,\n        instance: Virtualizer<TScrollElement, TItemElement>,\n      ) => boolean)\n  elementsCache = new Map<Key, TItemElement>()\n  private observer = (() => {\n    let _ro: ResizeObserver | null = null\n\n    const get = () => {\n      if (_ro) {\n        return _ro\n      }\n\n      if (!this.targetWindow || !this.targetWindow.ResizeObserver) {\n        return null\n      }\n\n      return (_ro = new this.targetWindow.ResizeObserver((entries) => {\n        entries.forEach((entry) => {\n          const run = () => {\n            this._measureElement(entry.target as TItemElement, entry)\n          }\n          this.options.useAnimationFrameWithResizeObserver\n            ? requestAnimationFrame(run)\n            : run()\n        })\n      }))\n    }\n\n    return {\n      disconnect: () => {\n        get()?.disconnect()\n        _ro = null\n      },\n      observe: (target: Element) =>\n        get()?.observe(target, { box: 'border-box' }),\n      unobserve: (target: Element) => get()?.unobserve(target),\n    }\n  })()\n  range: { startIndex: number; endIndex: number } | null = null\n\n  constructor(opts: VirtualizerOptions<TScrollElement, TItemElement>) {\n    this.setOptions(opts)\n  }\n\n  setOptions = (opts: VirtualizerOptions<TScrollElement, TItemElement>) => {\n    Object.entries(opts).forEach(([key, value]) => {\n      if (typeof value === 'undefined') delete (opts as any)[key]\n    })\n\n    this.options = {\n      debug: false,\n      initialOffset: 0,\n      overscan: 1,\n      paddingStart: 0,\n      paddingEnd: 0,\n      scrollPaddingStart: 0,\n      scrollPaddingEnd: 0,\n      horizontal: false,\n      getItemKey: defaultKeyExtractor,\n      rangeExtractor: defaultRangeExtractor,\n      onChange: () => {},\n      measureElement,\n      initialRect: { width: 0, height: 0 },\n      scrollMargin: 0,\n      gap: 0,\n      indexAttribute: 'data-index',\n      initialMeasurementsCache: [],\n      lanes: 1,\n      isScrollingResetDelay: 150,\n      enabled: true,\n      isRtl: false,\n      useScrollendEvent: false,\n      useAnimationFrameWithResizeObserver: false,\n      ...opts,\n    }\n  }\n\n  private notify = (sync: boolean) => {\n    this.options.onChange?.(this, sync)\n  }\n\n  private maybeNotify = memo(\n    () => {\n      this.calculateRange()\n\n      return [\n        this.isScrolling,\n        this.range ? this.range.startIndex : null,\n        this.range ? this.range.endIndex : null,\n      ]\n    },\n    (isScrolling) => {\n      this.notify(isScrolling)\n    },\n    {\n      key: process.env.NODE_ENV !== 'production' && 'maybeNotify',\n      debug: () => this.options.debug,\n      initialDeps: [\n        this.isScrolling,\n        this.range ? this.range.startIndex : null,\n        this.range ? this.range.endIndex : null,\n      ] as [boolean, number | null, number | null],\n    },\n  )\n\n  private cleanup = () => {\n    this.unsubs.filter(Boolean).forEach((d) => d!())\n    this.unsubs = []\n    this.observer.disconnect()\n    this.scrollElement = null\n    this.targetWindow = null\n  }\n\n  _didMount = () => {\n    return () => {\n      this.cleanup()\n    }\n  }\n\n  _willUpdate = () => {\n    const scrollElement = this.options.enabled\n      ? this.options.getScrollElement()\n      : null\n\n    if (this.scrollElement !== scrollElement) {\n      this.cleanup()\n\n      if (!scrollElement) {\n        this.maybeNotify()\n        return\n      }\n\n      this.scrollElement = scrollElement\n\n      if (this.scrollElement && 'ownerDocument' in this.scrollElement) {\n        this.targetWindow = this.scrollElement.ownerDocument.defaultView\n      } else {\n        this.targetWindow = this.scrollElement?.window ?? null\n      }\n\n      this.elementsCache.forEach((cached) => {\n        this.observer.observe(cached)\n      })\n\n      this.unsubs.push(\n        this.options.observeElementRect(this, (rect) => {\n          this.scrollRect = rect\n          this.maybeNotify()\n        }),\n      )\n\n      this.unsubs.push(\n        this.options.observeElementOffset(this, (offset, isScrolling) => {\n          this.scrollAdjustments = 0\n          this.scrollDirection = isScrolling\n            ? this.getScrollOffset() < offset\n              ? 'forward'\n              : 'backward'\n            : null\n          this.scrollOffset = offset\n          this.isScrolling = isScrolling\n\n          this.maybeNotify()\n        }),\n      )\n\n      this._scrollToOffset(this.getScrollOffset(), {\n        adjustments: undefined,\n        behavior: undefined,\n      })\n    }\n  }\n\n  private getSize = () => {\n    if (!this.options.enabled) {\n      this.scrollRect = null\n      return 0\n    }\n\n    this.scrollRect = this.scrollRect ?? this.options.initialRect\n\n    return this.scrollRect[this.options.horizontal ? 'width' : 'height']\n  }\n\n  private getScrollOffset = () => {\n    if (!this.options.enabled) {\n      this.scrollOffset = null\n      return 0\n    }\n\n    this.scrollOffset =\n      this.scrollOffset ??\n      (typeof this.options.initialOffset === 'function'\n        ? this.options.initialOffset()\n        : this.options.initialOffset)\n\n    return this.scrollOffset\n  }\n\n  private getFurthestMeasurement = (\n    measurements: Array<VirtualItem>,\n    index: number,\n  ) => {\n    const furthestMeasurementsFound = new Map<number, true>()\n    const furthestMeasurements = new Map<number, VirtualItem>()\n    for (let m = index - 1; m >= 0; m--) {\n      const measurement = measurements[m]!\n\n      if (furthestMeasurementsFound.has(measurement.lane)) {\n        continue\n      }\n\n      const previousFurthestMeasurement = furthestMeasurements.get(\n        measurement.lane,\n      )\n      if (\n        previousFurthestMeasurement == null ||\n        measurement.end > previousFurthestMeasurement.end\n      ) {\n        furthestMeasurements.set(measurement.lane, measurement)\n      } else if (measurement.end < previousFurthestMeasurement.end) {\n        furthestMeasurementsFound.set(measurement.lane, true)\n      }\n\n      if (furthestMeasurementsFound.size === this.options.lanes) {\n        break\n      }\n    }\n\n    return furthestMeasurements.size === this.options.lanes\n      ? Array.from(furthestMeasurements.values()).sort((a, b) => {\n          if (a.end === b.end) {\n            return a.index - b.index\n          }\n\n          return a.end - b.end\n        })[0]\n      : undefined\n  }\n\n  private getMeasurementOptions = memo(\n    () => [\n      this.options.count,\n      this.options.paddingStart,\n      this.options.scrollMargin,\n      this.options.getItemKey,\n      this.options.enabled,\n      this.options.lanes,\n    ],\n    (count, paddingStart, scrollMargin, getItemKey, enabled, lanes) => {\n      const lanesChanged =\n        this.prevLanes !== undefined && this.prevLanes !== lanes\n\n      if (lanesChanged) {\n        // Set flag for getMeasurements to handle\n        this.lanesChangedFlag = true\n      }\n\n      this.prevLanes = lanes\n      this.pendingMeasuredCacheIndexes = []\n\n      return {\n        count,\n        paddingStart,\n        scrollMargin,\n        getItemKey,\n        enabled,\n        lanes,\n      }\n    },\n    {\n      key: false,\n    },\n  )\n\n  private getMeasurements = memo(\n    () => [this.getMeasurementOptions(), this.itemSizeCache],\n    (\n      { count, paddingStart, scrollMargin, getItemKey, enabled, lanes },\n      itemSizeCache,\n    ) => {\n      if (!enabled) {\n        this.measurementsCache = []\n        this.itemSizeCache.clear()\n        this.laneAssignments.clear()\n        return []\n      }\n\n      // Clean up stale lane cache entries when count decreases\n      if (this.laneAssignments.size > count) {\n        for (const index of this.laneAssignments.keys()) {\n          if (index >= count) {\n            this.laneAssignments.delete(index)\n          }\n        }\n      }\n\n      // ✅ Force complete recalculation when lanes change\n      if (this.lanesChangedFlag) {\n        this.lanesChangedFlag = false // Reset immediately\n        this.lanesSettling = true // Start settling period\n        this.measurementsCache = []\n        this.itemSizeCache.clear()\n        this.laneAssignments.clear() // Clear lane cache for new lane count\n        // Clear pending indexes to force min = 0\n        this.pendingMeasuredCacheIndexes = []\n      }\n\n      // Don't restore from initialMeasurementsCache during lane changes\n      // as it contains stale lane assignments from the previous lane count\n      if (this.measurementsCache.length === 0 && !this.lanesSettling) {\n        this.measurementsCache = this.options.initialMeasurementsCache\n        this.measurementsCache.forEach((item) => {\n          this.itemSizeCache.set(item.key, item.size)\n        })\n      }\n\n      // ✅ During lanes settling, ignore pendingMeasuredCacheIndexes to prevent repositioning\n      const min = this.lanesSettling\n        ? 0\n        : this.pendingMeasuredCacheIndexes.length > 0\n          ? Math.min(...this.pendingMeasuredCacheIndexes)\n          : 0\n      this.pendingMeasuredCacheIndexes = []\n\n      // ✅ End settling period when cache is fully built\n      if (this.lanesSettling && this.measurementsCache.length === count) {\n        this.lanesSettling = false\n      }\n\n      const measurements = this.measurementsCache.slice(0, min)\n\n      // ✅ Performance: Track last item index per lane for O(1) lookup\n      const laneLastIndex: Array<number | undefined> = new Array(lanes).fill(\n        undefined,\n      )\n\n      // Initialize from existing measurements (before min)\n      for (let m = 0; m < min; m++) {\n        const item = measurements[m]\n        if (item) {\n          laneLastIndex[item.lane] = m\n        }\n      }\n\n      for (let i = min; i < count; i++) {\n        const key = getItemKey(i)\n\n        // Check for cached lane assignment\n        const cachedLane = this.laneAssignments.get(i)\n        let lane: number\n        let start: number\n\n        if (cachedLane !== undefined && this.options.lanes > 1) {\n          // Use cached lane - O(1) lookup for previous item in same lane\n          lane = cachedLane\n          const prevIndex = laneLastIndex[lane]\n          const prevInLane =\n            prevIndex !== undefined ? measurements[prevIndex] : undefined\n          start = prevInLane\n            ? prevInLane.end + this.options.gap\n            : paddingStart + scrollMargin\n        } else {\n          // No cache - use original logic (find shortest lane)\n          const furthestMeasurement =\n            this.options.lanes === 1\n              ? measurements[i - 1]\n              : this.getFurthestMeasurement(measurements, i)\n\n          start = furthestMeasurement\n            ? furthestMeasurement.end + this.options.gap\n            : paddingStart + scrollMargin\n\n          lane = furthestMeasurement\n            ? furthestMeasurement.lane\n            : i % this.options.lanes\n\n          // Cache the lane assignment\n          if (this.options.lanes > 1) {\n            this.laneAssignments.set(i, lane)\n          }\n        }\n\n        const measuredSize = itemSizeCache.get(key)\n        const size =\n          typeof measuredSize === 'number'\n            ? measuredSize\n            : this.options.estimateSize(i)\n\n        const end = start + size\n\n        measurements[i] = {\n          index: i,\n          start,\n          size,\n          end,\n          key,\n          lane,\n        }\n\n        // ✅ Performance: Update lane's last item index\n        laneLastIndex[lane] = i\n      }\n\n      this.measurementsCache = measurements\n\n      return measurements\n    },\n    {\n      key: process.env.NODE_ENV !== 'production' && 'getMeasurements',\n      debug: () => this.options.debug,\n    },\n  )\n\n  calculateRange = memo(\n    () => [\n      this.getMeasurements(),\n      this.getSize(),\n      this.getScrollOffset(),\n      this.options.lanes,\n    ],\n    (measurements, outerSize, scrollOffset, lanes) => {\n      return (this.range =\n        measurements.length > 0 && outerSize > 0\n          ? calculateRange({\n              measurements,\n              outerSize,\n              scrollOffset,\n              lanes,\n            })\n          : null)\n    },\n    {\n      key: process.env.NODE_ENV !== 'production' && 'calculateRange',\n      debug: () => this.options.debug,\n    },\n  )\n\n  getVirtualIndexes = memo(\n    () => {\n      let startIndex: number | null = null\n      let endIndex: number | null = null\n      const range = this.calculateRange()\n      if (range) {\n        startIndex = range.startIndex\n        endIndex = range.endIndex\n      }\n      this.maybeNotify.updateDeps([this.isScrolling, startIndex, endIndex])\n      return [\n        this.options.rangeExtractor,\n        this.options.overscan,\n        this.options.count,\n        startIndex,\n        endIndex,\n      ]\n    },\n    (rangeExtractor, overscan, count, startIndex, endIndex) => {\n      return startIndex === null || endIndex === null\n        ? []\n        : rangeExtractor({\n            startIndex,\n            endIndex,\n            overscan,\n            count,\n          })\n    },\n    {\n      key: process.env.NODE_ENV !== 'production' && 'getVirtualIndexes',\n      debug: () => this.options.debug,\n    },\n  )\n\n  indexFromElement = (node: TItemElement) => {\n    const attributeName = this.options.indexAttribute\n    const indexStr = node.getAttribute(attributeName)\n\n    if (!indexStr) {\n      console.warn(\n        `Missing attribute name '${attributeName}={index}' on measured element.`,\n      )\n      return -1\n    }\n\n    return parseInt(indexStr, 10)\n  }\n\n  private _measureElement = (\n    node: TItemElement,\n    entry: ResizeObserverEntry | undefined,\n  ) => {\n    const index = this.indexFromElement(node)\n    const item = this.measurementsCache[index]\n    if (!item) {\n      return\n    }\n    const key = item.key\n    const prevNode = this.elementsCache.get(key)\n\n    if (prevNode !== node) {\n      if (prevNode) {\n        this.observer.unobserve(prevNode)\n      }\n      this.observer.observe(node)\n      this.elementsCache.set(key, node)\n    }\n\n    if (node.isConnected) {\n      this.resizeItem(index, this.options.measureElement(node, entry, this))\n    }\n  }\n\n  resizeItem = (index: number, size: number) => {\n    const item = this.measurementsCache[index]\n    if (!item) {\n      return\n    }\n    const itemSize = this.itemSizeCache.get(item.key) ?? item.size\n    const delta = size - itemSize\n\n    if (delta !== 0) {\n      if (\n        this.shouldAdjustScrollPositionOnItemSizeChange !== undefined\n          ? this.shouldAdjustScrollPositionOnItemSizeChange(item, delta, this)\n          : item.start < this.getScrollOffset() + this.scrollAdjustments\n      ) {\n        if (process.env.NODE_ENV !== 'production' && this.options.debug) {\n          console.info('correction', delta)\n        }\n\n        this._scrollToOffset(this.getScrollOffset(), {\n          adjustments: (this.scrollAdjustments += delta),\n          behavior: undefined,\n        })\n      }\n\n      this.pendingMeasuredCacheIndexes.push(item.index)\n      this.itemSizeCache = new Map(this.itemSizeCache.set(item.key, size))\n\n      this.notify(false)\n    }\n  }\n\n  measureElement = (node: TItemElement | null | undefined) => {\n    if (!node) {\n      this.elementsCache.forEach((cached, key) => {\n        if (!cached.isConnected) {\n          this.observer.unobserve(cached)\n          this.elementsCache.delete(key)\n        }\n      })\n      return\n    }\n\n    this._measureElement(node, undefined)\n  }\n\n  getVirtualItems = memo(\n    () => [this.getVirtualIndexes(), this.getMeasurements()],\n    (indexes, measurements) => {\n      const virtualItems: Array<VirtualItem> = []\n\n      for (let k = 0, len = indexes.length; k < len; k++) {\n        const i = indexes[k]!\n        const measurement = measurements[i]!\n\n        virtualItems.push(measurement)\n      }\n\n      return virtualItems\n    },\n    {\n      key: process.env.NODE_ENV !== 'production' && 'getVirtualItems',\n      debug: () => this.options.debug,\n    },\n  )\n\n  getVirtualItemForOffset = (offset: number) => {\n    const measurements = this.getMeasurements()\n    if (measurements.length === 0) {\n      return undefined\n    }\n    return notUndefined(\n      measurements[\n        findNearestBinarySearch(\n          0,\n          measurements.length - 1,\n          (index: number) => notUndefined(measurements[index]).start,\n          offset,\n        )\n      ],\n    )\n  }\n\n  private getMaxScrollOffset = () => {\n    if (!this.scrollElement) return 0\n\n    if ('scrollHeight' in this.scrollElement) {\n      // Element\n      return this.options.horizontal\n        ? this.scrollElement.scrollWidth - this.scrollElement.clientWidth\n        : this.scrollElement.scrollHeight - this.scrollElement.clientHeight\n    } else {\n      // Window\n      const doc = this.scrollElement.document.documentElement\n      return this.options.horizontal\n        ? doc.scrollWidth - this.scrollElement.innerWidth\n        : doc.scrollHeight - this.scrollElement.innerHeight\n    }\n  }\n\n  getOffsetForAlignment = (\n    toOffset: number,\n    align: ScrollAlignment,\n    itemSize = 0,\n  ) => {\n    if (!this.scrollElement) return 0\n\n    const size = this.getSize()\n    const scrollOffset = this.getScrollOffset()\n\n    if (align === 'auto') {\n      align = toOffset >= scrollOffset + size ? 'end' : 'start'\n    }\n\n    if (align === 'center') {\n      // When aligning to a particular item (e.g. with scrollToIndex),\n      // adjust offset by the size of the item to center on the item\n      toOffset += (itemSize - size) / 2\n    } else if (align === 'end') {\n      toOffset -= size\n    }\n\n    const maxOffset = this.getMaxScrollOffset()\n\n    return Math.max(Math.min(maxOffset, toOffset), 0)\n  }\n\n  getOffsetForIndex = (index: number, align: ScrollAlignment = 'auto') => {\n    index = Math.max(0, Math.min(index, this.options.count - 1))\n\n    const item = this.measurementsCache[index]\n    if (!item) {\n      return undefined\n    }\n\n    const size = this.getSize()\n    const scrollOffset = this.getScrollOffset()\n\n    if (align === 'auto') {\n      if (item.end >= scrollOffset + size - this.options.scrollPaddingEnd) {\n        align = 'end'\n      } else if (item.start <= scrollOffset + this.options.scrollPaddingStart) {\n        align = 'start'\n      } else {\n        return [scrollOffset, align] as const\n      }\n    }\n\n    // For the last item with 'end' alignment, use browser's actual max scroll\n    // to account for borders/padding that aren't in our measurements\n    if (align === 'end' && index === this.options.count - 1) {\n      return [this.getMaxScrollOffset(), align] as const\n    }\n\n    const toOffset =\n      align === 'end'\n        ? item.end + this.options.scrollPaddingEnd\n        : item.start - this.options.scrollPaddingStart\n\n    return [\n      this.getOffsetForAlignment(toOffset, align, item.size),\n      align,\n    ] as const\n  }\n\n  private isDynamicMode = () => this.elementsCache.size > 0\n\n  scrollToOffset = (\n    toOffset: number,\n    { align = 'start', behavior }: ScrollToOffsetOptions = {},\n  ) => {\n    if (behavior === 'smooth' && this.isDynamicMode()) {\n      console.warn(\n        'The `smooth` scroll behavior is not fully supported with dynamic size.',\n      )\n    }\n\n    this._scrollToOffset(this.getOffsetForAlignment(toOffset, align), {\n      adjustments: undefined,\n      behavior,\n    })\n  }\n\n  scrollToIndex = (\n    index: number,\n    { align: initialAlign = 'auto', behavior }: ScrollToIndexOptions = {},\n  ) => {\n    if (behavior === 'smooth' && this.isDynamicMode()) {\n      console.warn(\n        'The `smooth` scroll behavior is not fully supported with dynamic size.',\n      )\n    }\n\n    index = Math.max(0, Math.min(index, this.options.count - 1))\n    this.currentScrollToIndex = index\n\n    let attempts = 0\n    const maxAttempts = 10\n\n    const tryScroll = (currentAlign: ScrollAlignment) => {\n      if (!this.targetWindow) return\n\n      const offsetInfo = this.getOffsetForIndex(index, currentAlign)\n      if (!offsetInfo) {\n        console.warn('Failed to get offset for index:', index)\n        return\n      }\n      const [offset, align] = offsetInfo\n      this._scrollToOffset(offset, { adjustments: undefined, behavior })\n\n      this.targetWindow.requestAnimationFrame(() => {\n        const verify = () => {\n          // Abort if a new scrollToIndex was called with a different index\n          if (this.currentScrollToIndex !== index) return\n\n          const currentOffset = this.getScrollOffset()\n          const afterInfo = this.getOffsetForIndex(index, align)\n          if (!afterInfo) {\n            console.warn('Failed to get offset for index:', index)\n            return\n          }\n\n          if (!approxEqual(afterInfo[0], currentOffset)) {\n            scheduleRetry(align)\n          }\n        }\n\n        // In dynamic mode, wait an extra frame for ResizeObserver to measure newly visible elements\n        if (this.isDynamicMode()) {\n          this.targetWindow!.requestAnimationFrame(verify)\n        } else {\n          verify()\n        }\n      })\n    }\n\n    const scheduleRetry = (align: ScrollAlignment) => {\n      if (!this.targetWindow) return\n\n      // Abort if a new scrollToIndex was called with a different index\n      if (this.currentScrollToIndex !== index) return\n\n      attempts++\n      if (attempts < maxAttempts) {\n        if (process.env.NODE_ENV !== 'production' && this.options.debug) {\n          console.info('Schedule retry', attempts, maxAttempts)\n        }\n        this.targetWindow.requestAnimationFrame(() => tryScroll(align))\n      } else {\n        console.warn(\n          `Failed to scroll to index ${index} after ${maxAttempts} attempts.`,\n        )\n      }\n    }\n\n    tryScroll(initialAlign)\n  }\n\n  scrollBy = (delta: number, { behavior }: ScrollToOffsetOptions = {}) => {\n    if (behavior === 'smooth' && this.isDynamicMode()) {\n      console.warn(\n        'The `smooth` scroll behavior is not fully supported with dynamic size.',\n      )\n    }\n\n    this._scrollToOffset(this.getScrollOffset() + delta, {\n      adjustments: undefined,\n      behavior,\n    })\n  }\n\n  getTotalSize = () => {\n    const measurements = this.getMeasurements()\n\n    let end: number\n    // If there are no measurements, set the end to paddingStart\n    // If there is only one lane, use the last measurement's end\n    // Otherwise find the maximum end value among all measurements\n    if (measurements.length === 0) {\n      end = this.options.paddingStart\n    } else if (this.options.lanes === 1) {\n      end = measurements[measurements.length - 1]?.end ?? 0\n    } else {\n      const endByLane = Array<number | null>(this.options.lanes).fill(null)\n      let endIndex = measurements.length - 1\n      while (endIndex >= 0 && endByLane.some((val) => val === null)) {\n        const item = measurements[endIndex]!\n        if (endByLane[item.lane] === null) {\n          endByLane[item.lane] = item.end\n        }\n\n        endIndex--\n      }\n\n      end = Math.max(...endByLane.filter((val): val is number => val !== null))\n    }\n\n    return Math.max(\n      end - this.options.scrollMargin + this.options.paddingEnd,\n      0,\n    )\n  }\n\n  private _scrollToOffset = (\n    offset: number,\n    {\n      adjustments,\n      behavior,\n    }: {\n      adjustments: number | undefined\n      behavior: ScrollBehavior | undefined\n    },\n  ) => {\n    this.options.scrollToFn(offset, { behavior, adjustments }, this)\n  }\n\n  measure = () => {\n    this.itemSizeCache = new Map()\n    this.laneAssignments = new Map() // Clear lane cache for full re-layout\n    this.notify(false)\n  }\n}\n\nconst findNearestBinarySearch = (\n  low: number,\n  high: number,\n  getCurrentValue: (i: number) => number,\n  value: number,\n) => {\n  while (low <= high) {\n    const middle = ((low + high) / 2) | 0\n    const currentValue = getCurrentValue(middle)\n\n    if (currentValue < value) {\n      low = middle + 1\n    } else if (currentValue > value) {\n      high = middle - 1\n    } else {\n      return middle\n    }\n  }\n\n  if (low > 0) {\n    return low - 1\n  } else {\n    return 0\n  }\n}\n\nfunction calculateRange({\n  measurements,\n  outerSize,\n  scrollOffset,\n  lanes,\n}: {\n  measurements: Array<VirtualItem>\n  outerSize: number\n  scrollOffset: number\n  lanes: number\n}) {\n  const lastIndex = measurements.length - 1\n  const getOffset = (index: number) => measurements[index]!.start\n\n  // handle case when item count is less than or equal to lanes\n  if (measurements.length <= lanes) {\n    return {\n      startIndex: 0,\n      endIndex: lastIndex,\n    }\n  }\n\n  let startIndex = findNearestBinarySearch(\n    0,\n    lastIndex,\n    getOffset,\n    scrollOffset,\n  )\n  let endIndex = startIndex\n\n  if (lanes === 1) {\n    while (\n      endIndex < lastIndex &&\n      measurements[endIndex]!.end < scrollOffset + outerSize\n    ) {\n      endIndex++\n    }\n  } else if (lanes > 1) {\n    // Expand forward until we include the visible items from all lanes\n    // which are closer to the end of the virtualizer window\n    const endPerLane = Array(lanes).fill(0)\n    while (\n      endIndex < lastIndex &&\n      endPerLane.some((pos) => pos < scrollOffset + outerSize)\n    ) {\n      const item = measurements[endIndex]!\n      endPerLane[item.lane] = item.end\n      endIndex++\n    }\n\n    // Expand backward until we include all lanes' visible items\n    // closer to the top\n    const startPerLane = Array(lanes).fill(scrollOffset + outerSize)\n    while (startIndex >= 0 && startPerLane.some((pos) => pos >= scrollOffset)) {\n      const item = measurements[startIndex]!\n      startPerLane[item.lane] = item.start\n      startIndex--\n    }\n\n    // Align startIndex to the beginning of its lane\n    startIndex = Math.max(0, startIndex - (startIndex % lanes))\n    // Align endIndex to the end of its lane\n    endIndex = Math.min(lastIndex, endIndex + (lanes - 1 - (endIndex % lanes)))\n  }\n\n  return { startIndex, endIndex }\n}\n","import * as React from 'react'\nimport { flushSync } from 'react-dom'\nimport {\n  Virtualizer,\n  elementScroll,\n  observeElementOffset,\n  observeElementRect,\n  observeWindowOffset,\n  observeWindowRect,\n  windowScroll,\n} from '@tanstack/virtual-core'\nimport type { PartialKeys, VirtualizerOptions } from '@tanstack/virtual-core'\n\nexport * from '@tanstack/virtual-core'\n\nconst useIsomorphicLayoutEffect =\n  typeof document !== 'undefined' ? React.useLayoutEffect : React.useEffect\n\nexport type ReactVirtualizerOptions<\n  TScrollElement extends Element | Window,\n  TItemElement extends Element,\n> = VirtualizerOptions<TScrollElement, TItemElement> & {\n  useFlushSync?: boolean\n}\n\nfunction useVirtualizerBase<\n  TScrollElement extends Element | Window,\n  TItemElement extends Element,\n>({\n  useFlushSync = true,\n  ...options\n}: ReactVirtualizerOptions<TScrollElement, TItemElement>): Virtualizer<\n  TScrollElement,\n  TItemElement\n> {\n  const rerender = React.useReducer(() => ({}), {})[1]\n\n  const resolvedOptions: VirtualizerOptions<TScrollElement, TItemElement> = {\n    ...options,\n    onChange: (instance, sync) => {\n      if (useFlushSync && sync) {\n        flushSync(rerender)\n      } else {\n        rerender()\n      }\n      options.onChange?.(instance, sync)\n    },\n  }\n\n  const [instance] = React.useState(\n    () => new Virtualizer<TScrollElement, TItemElement>(resolvedOptions),\n  )\n\n  instance.setOptions(resolvedOptions)\n\n  useIsomorphicLayoutEffect(() => {\n    return instance._didMount()\n  }, [])\n\n  useIsomorphicLayoutEffect(() => {\n    return instance._willUpdate()\n  })\n\n  return instance\n}\n\nexport function useVirtualizer<\n  TScrollElement extends Element,\n  TItemElement extends Element,\n>(\n  options: PartialKeys<\n    ReactVirtualizerOptions<TScrollElement, TItemElement>,\n    'observeElementRect' | 'observeElementOffset' | 'scrollToFn'\n  >,\n): Virtualizer<TScrollElement, TItemElement> {\n  return useVirtualizerBase<TScrollElement, TItemElement>({\n    observeElementRect: observeElementRect,\n    observeElementOffset: observeElementOffset,\n    scrollToFn: elementScroll,\n    ...options,\n  })\n}\n\nexport function useWindowVirtualizer<TItemElement extends Element>(\n  options: PartialKeys<\n    ReactVirtualizerOptions<Window, TItemElement>,\n    | 'getScrollElement'\n    | 'observeElementRect'\n    | 'observeElementOffset'\n    | 'scrollToFn'\n  >,\n): Virtualizer<Window, TItemElement> {\n  return useVirtualizerBase<Window, TItemElement>({\n    getScrollElement: () => (typeof document !== 'undefined' ? window : null),\n    observeElementRect: observeWindowRect,\n    observeElementOffset: observeWindowOffset,\n    scrollToFn: windowScroll,\n    initialOffset: () => (typeof document !== 'undefined' ? window.scrollY : 0),\n    ...options,\n  })\n}\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  ['path', { d: 'M10.1 2.182a10 10 0 0 1 3.8 0', key: '5ilxe3' }],\n  ['path', { d: 'M13.9 21.818a10 10 0 0 1-3.8 0', key: '11zvb9' }],\n  ['path', { d: 'M17.609 3.721a10 10 0 0 1 2.69 2.7', key: '1iw5b2' }],\n  ['path', { d: 'M2.182 13.9a10 10 0 0 1 0-3.8', key: 'c0bmvh' }],\n  ['path', { d: 'M20.279 17.609a10 10 0 0 1-2.7 2.69', key: '1ruxm7' }],\n  ['path', { d: 'M21.818 10.1a10 10 0 0 1 0 3.8', key: 'qkgqxc' }],\n  ['path', { d: 'M3.721 6.391a10 10 0 0 1 2.7-2.69', key: '1mcia2' }],\n  ['path', { d: 'M6.391 20.279a10 10 0 0 1-2.69-2.7', key: '1fvljs' }],\n];\n\n/**\n * @component @name CircleDashed\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMTAuMSAyLjE4MmExMCAxMCAwIDAgMSAzLjggMCIgLz4KICA8cGF0aCBkPSJNMTMuOSAyMS44MThhMTAgMTAgMCAwIDEtMy44IDAiIC8+CiAgPHBhdGggZD0iTTE3LjYwOSAzLjcyMWExMCAxMCAwIDAgMSAyLjY5IDIuNyIgLz4KICA8cGF0aCBkPSJNMi4xODIgMTMuOWExMCAxMCAwIDAgMSAwLTMuOCIgLz4KICA8cGF0aCBkPSJNMjAuMjc5IDE3LjYwOWExMCAxMCAwIDAgMS0yLjcgMi42OSIgLz4KICA8cGF0aCBkPSJNMjEuODE4IDEwLjFhMTAgMTAgMCAwIDEgMCAzLjgiIC8+CiAgPHBhdGggZD0iTTMuNzIxIDYuMzkxYTEwIDEwIDAgMCAxIDIuNy0yLjY5IiAvPgogIDxwYXRoIGQ9Ik02LjM5MSAyMC4yNzlhMTAgMTAgMCAwIDEtMi42OS0yLjciIC8+Cjwvc3ZnPgo=) - https://lucide.dev/icons/circle-dashed\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst CircleDashed = createLucideIcon('circle-dashed', __iconNode);\n\nexport default CircleDashed;\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  [\n    'path',\n    {\n      d: 'm21.64 3.64-1.28-1.28a1.21 1.21 0 0 0-1.72 0L2.36 18.64a1.21 1.21 0 0 0 0 1.72l1.28 1.28a1.2 1.2 0 0 0 1.72 0L21.64 5.36a1.2 1.2 0 0 0 0-1.72',\n      key: 'ul74o6',\n    },\n  ],\n  ['path', { d: 'm14 7 3 3', key: '1r5n42' }],\n  ['path', { d: 'M5 6v4', key: 'ilb8ba' }],\n  ['path', { d: 'M19 14v4', key: 'blhpug' }],\n  ['path', { d: 'M10 2v2', key: '7u0qdc' }],\n  ['path', { d: 'M7 8H3', key: 'zfb6yr' }],\n  ['path', { d: 'M21 16h-4', key: '1cnmox' }],\n  ['path', { d: 'M11 3H9', key: '1obp7u' }],\n];\n\n/**\n * @component @name WandSparkles\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJtMjEuNjQgMy42NC0xLjI4LTEuMjhhMS4yMSAxLjIxIDAgMCAwLTEuNzIgMEwyLjM2IDE4LjY0YTEuMjEgMS4yMSAwIDAgMCAwIDEuNzJsMS4yOCAxLjI4YTEuMiAxLjIgMCAwIDAgMS43MiAwTDIxLjY0IDUuMzZhMS4yIDEuMiAwIDAgMCAwLTEuNzIiIC8+CiAgPHBhdGggZD0ibTE0IDcgMyAzIiAvPgogIDxwYXRoIGQ9Ik01IDZ2NCIgLz4KICA8cGF0aCBkPSJNMTkgMTR2NCIgLz4KICA8cGF0aCBkPSJNMTAgMnYyIiAvPgogIDxwYXRoIGQ9Ik03IDhIMyIgLz4KICA8cGF0aCBkPSJNMjEgMTZoLTQiIC8+CiAgPHBhdGggZD0iTTExIDNIOSIgLz4KPC9zdmc+Cg==) - https://lucide.dev/icons/wand-sparkles\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst WandSparkles = createLucideIcon('wand-sparkles', __iconNode);\n\nexport default WandSparkles;\n"],"names":["instance","opts"],"mappings":"wDEEA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,OAAA,EAAA,EAAA,CAAA,CAAA,OAAA,EAAA,EAAA,CAAA,CAAA,OAAA,EAAA,EAAA,CAAA,CAAA,OAAA,EAAA,EAAA,CAAA,CAAA,OAAA,EAAA,EAAA,CAAA,CAAA,OAAA,EAAA,EAAA,CAAA,CAAA,OAAA,EAAA,EAAA,CAAA,CAAA,OAAA,EAAA,EAAA,CAAA,CAAA,OAAA,EAAA,EAAA,CAAA,CAAA,MAAA,EAAA,EAAA,CAAA,CAAA,0EKqBuD,CArBpD,UAAa,CAAA,+BAAiC,CAAA,GAAK,QAAA,CAAU,CAAA,SACrD,GAAK,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,AAAkC,CAAA,CAAA,CAAA,CAAA,AAAK,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAU,CAAA,SACtD,CAAA,AAAE,EAAG,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,4BAAsC,CAAA,CAAA,CAAA,CAAA,AAAK,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAU,CAAA,EAClE,0CAA8C,CCAxC,ADAwC,CAAA,ACAxC,CAAA,ADAwC,CCAxC,ADAwC,UAAe,CAC9D,ACDO,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CDC8C,ACD9C,CDC8C,ACD9C,CDC8C,ACD9C,CAAA,ADC8C,CAAK,AAAL,ACD9C,CAAA,ADCmD,CAAA,ACDnD,CDCmD,ACDnD,CDCmD,ACDnD,CAAA,ADCmD,CCDnD,ADCmD,CCDnD,ADCmD,CCDnD,ADCmD,CCDnD,ADC6D,CCD7D,ADC6D,CCD7D,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CDEE,ACFF,CAAA,ADEE,CCFF,CDEO,ACFP,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,sBDEyC,CAAA,CAAA,CAAA,CAAK,CAAA,CAAA,MAAA,EAAU,SACtD,CAAA,sCAA0C,CAAA,CAAA,CAAA,CAAA,AAAK,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAU,CAAA,EACjE,+CAAmD,CAAA,CAAA,CAAA,CAAK,CAAA,OAAA,CAAU,CAAA,CACrE,ELRA,IAAA,EAAA,EAAA,CAAA,CAAA,MAAA,EAAA,EAAA,CAAA,CAAA,OAAA,EAAA,EAAA,CAAA,CAAA,OAAA,EAAA,EAAA,CAAA,CAAA,OAAA,EAAA,EAAA,CAAA,CAAA,OAAA,EAAA,EAAA,CAAA,CAAA,OAAA,EAAA,EAAA,CAAA,CAAA,UM2BM,EAAA,CAAA,EAAe,EAAA,OAAA,EAAiB,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,QAAiB,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAU,CAAA,gJAvB3D,CDAH,GAAA,QCAQ,CDCR,UCEQ,CDAA,ACAA,AAAE,EAAA,gBAAqB,CDAlB,ACAkB,CDAlB,ACAkB,SAChC,CAAC,OAAQ,CAAE,EAAA,SAAa,CAAA,CAAA,CAAA,CAAK,CAAA,CAAA,CAAA,KAAA,CAAU,UAC9B,GAAK,2BACb,OAAQ,GAAK,CAAA,CAAA,QAAW,CAAA,CAAA,CAAA,CAAA,QAAK,CAAU,CAAA,CACxC,CAAC,CAAA,CAAA,KAAQ,GAAK,CAAA,QAAU,CAAA,CAAA,CAAA,CAAA,QAAK,CAAU,CAAA,EACtC,OAAQ,CAAE,EAAG,YAAa,CAAA,CAAA,CAAA,CAAK,AAAL,QAAK,CAAU,CAAA,EACzC,OAAQ,CAAA,AAAE,EAAA,UAAc,IAAK,UAAU,CAC1C,ENdA,IAAA,EAAA,EAAA,CAAA,CAAA,OAwBA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,OAAA,EAAA,EAAA,CAAA,CAAA,6BC1BgB,EACd,CAAA,CACA,CAAA,CACA,CAAA,EAOA,IAEI,IADO,EAAK,WAAA,EAAe,CAAA,CAAA,CAE3B,EAAA,CAAA,WAEK,kBACH,CAD+B,WAEnB,OAAA,EAAA,EAAK,KAAA,EAAL,KAAA,EAAA,EAAA,IAAA,CAAA,EAAA,IAAgB,EAAU,KAAK,GAAA,EAAA,MAEzC,EAAU,QAGd,CGSmB,EHTX,MAAA,GAAA,EAAA,MAAA,EACR,EAAQ,IAAA,CAAK,CAAC,EAAU,IAAkB,CAAA,CAAK,EAAK,GAAA,AAAM,EAAG,0BAS/C,CI3BJ,CAAA,CF4DX,AE5DW,CAAA,CAAA,CAAA,YAAA,KAAA,EAAA,EAAA,IAAA,CAAA,EAAA,IJ2BoB,EAAa,KAAK,GAAA,EAAA,IAEzC,KAAM,CI5BH,CAAA,CAAA,CAAA,CAAA,CAAA,CJ4BU,AI5BV,IJ8BI,kBAAA,KAAA,EAAA,EAAA,IAAA,CAAA,EAAA,EAAgB,KACxB,EAAA,KAAkB,KAAA,CAAA,CAAO,CK7BN,IL6BW,GAAA,GAAQ,CAAA,CAAA,CAAY,GAAG,EAAI,6BAChB,CAAA,EAAe,KAAO,QACzB,KAEhC,CAAA,EAAA,qBAEH,EAAI,CK9BH,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,IL8BiB,CK9BD,AL+BhB,CK/BgB,CAAA,CAAA,CL+BV,ME+BY,GF7BnB,CACT,UAEQ,IAAA,CACN,CAAA,IAAA,EAAO,EAAI,EAAA,GAAA,EAAA,EAAsB,EAAI,EAAY,CAAC,CAAC,CAAA,GAAA,CAAA,CAAA,CACnD;;;yBAGiB,KAAA,GAAK,CAAA,EAEhB,KAAA,GAAK,CAAI,IAAM,IAAM,EAAqB,GAAG,GAAA,cAAA,CAAA,CAAA,MAAA,EAAA,KAAA,EAAA,EAE7C,GAAA,SAIN,QAAA,KAAA,EAAA,EAAM,QAAA,GAAY,CAAA,CAAE,GAAa,EAAK,mBAAA,GAAsB,EACzD,QAAA,CAAS,MAGJ,EAEL,WAIQ,UAAA,CAAa,AAAC,SAIxB,WAGO,EAAgB,CAAA,CAAsB,CAAA,EAAiB,GACvD,KAAA,GAAW,kBACb,AAAJ,MAAU,CAAA,oBAAA,EAAuB,EAAM,CAAA,EAAA,EAAK,EAAA,CAAG,CAAK,EAAE,CAAA,CAAE,QEvClD,AAAC,IACf,GAAM,aAAE,CAAA,cAAa,CAAA,CAAA,CAAiB,QAC/B,CAAE,MAAA,EAAoB,OAAQ,CAAA,GAG1B,EAAA,AAAuB,GAAkB,EAEzC,EAAwB,AAAC,QAC9B,EAD+C,AACvC,KAAK,GAAA,CAAI,EAAM,UAAA,CAAa,EAAM,QAAA,CAAU,GACpD,EAAM,KAAK,GAAA,CAAI,EAAM,GFhCT,KEgCS,CAAW,EAAM,QAAA,CAAU,EAAM,KAAA,CAAQ,CAAC,IAEzD,CAAA,CAAA,WAEC,EAAA,GAAA,EAAiB,CEvDhB,GFuDqB,kBAKrC,CEzDgE,ACAvD,CH2DI,CEzDV,CAAA,CF0DD,CE1Dc,CAAA,CAAA,QF6DR,CE5DL,CAAA,AF4De,EAAS,CE5DX,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,IF6DV,CAAC,eAGgB,EAAA,YAAA,kBAKf,CAJa,CG5DL,AHgEE,CGhEF,MHiEN,OAAE,CAAA,CGjDN,OAAA,CAAA,CAAA,CHiDwB,CGjDT,CAAA,CAAA,CHkDd,OAAS,KAAK,KAAA,CAAM,GAAQ,OAAA,KAAa,KAAA,CAAM,EAAM,CAAG,CAC7D,OAEQ,EAAQ,IAEZ,CAAA,EAF6C,AAE/B,CAFgC,aAEhC,EAAgB,KACzB,KAAO,MAGV,EAAW,IAAI,EAAa,cAAA,CAAe,AAAC,UACpC,EADgD,SAE5C,CAAA,CAAA,EAAS,IACnB,QAAA,KAAA,EAAA,EAAO,aAAA,CAAe,KAClB,EAAM,EAAM,aAAA,CAAc,CAAC,CAAA,IAC7B,EAAK,cACC,OAAS,EAAI,UAAA,CAAY,OAAQ,EAAI,SAAA,CAAW,CAG5D,GACQ,EAAQ,OAGT,OAAA,CAAQ,mCAAA,CACb,sBAAsB,GAAG,AACzB,IAAA,mBAGW,EAAS,CAAE,IAAK,YAAA,CAAc,EAExC,gBACI,CAAU,KAIvB,EAJ8B,AAIE,CAC9B,SAAS,CACX,EA4Ba,EAAA,CACX,EACA,OACG,MACH,IFnDI,EEmDE,EAAU,EAAS,aAAA,CACzB,GAAI,CAAC,EACH,OADY,AAGd,IAAA,EAAqB,EAAS,YAAA,CAC9B,GAAI,CAAC,EACH,OAGF,IAAI,CAJe,CAIN,EACb,EAAA,EACW,OAAA,CAAQ,iBAAA,IAAqB,IAC5B,KAAA,GFlEZ,CEmEM,CAEE,KACE,EAAG,GAAQ,EACb,EFtER,EEuEQ,EAAS,GFtEd,IEsEc,CAAQ,qBAAA,aFpEM,CAAA,EEgEvB,EF/DO,YAAA,CAAa,KACd,EAAa,UAAA,CAAW,IAAM,EAAG,KAAA,CAAM,IAAA,CAAM,GAAO,CAAH,CAAK,AACpE,GEoEM,EAAgB,AAAC,GAAyB,KAC9C,GAAM,YAAE,CAAA,CAAY,OAAA,CAAA,CAAU,EAAS,OAAA,CACvC,EAAS,EACL,EAAQ,KAAR,KAAoB,EAAM,CAAN,EAAe,CAAA,IAAO,CAAA,CAC1C,EAAQ,KAAR,IAAmB,CACvB,CADuB,GAEvB,EAAG,EAAQ,IAEP,EAAU,GAAc,GACxB,EAAa,EAAc,IAEjC,CAFsC,CAEtC,gBAAQ,CAAiB,SAAU,EAAS,GAC5C,IAAM,EACJ,EAAS,OAAA,CAAQ,IAFgD,aAEhD,GA1CY,CA0CS,CAIxC,KA9CsC,EA2ClC,GACF,EAAQ,UA5C6C,MA4C7C,CAAiB,EADC,UACY,EAAY,GAE7C,KACL,CADW,CACH,aAHiE,MAGjE,CAAoB,SAAU,GAClC,GACF,CAF2C,CAE3C,mBAD0B,AAClB,CAAoB,YAAa,GAG/C,EAiDa,EAAiB,CAC5B,EACA,EACA,KAEA,GAAI,KADD,CACC,EAAA,KAAA,EAAA,EAAO,aAAA,CAAe,CACxB,IAAM,EAAM,EAAM,aAAA,CAAc,CAAC,CAAA,CACjC,GAAI,EAIF,GAJO,IACM,KAAK,KAAA,CAChB,CAAA,CAAI,EAAS,OAAA,CAAQ,UAAA,CAAa,aAAe,WAAW,CAAA,CAIlE,CAEA,OAAQ,CAAA,CACN,EAAS,OAAA,CAAQ,UAAA,CAAa,cAAgB,cAChD,CAAA,AACF,EAkBa,EAAgB,CAC3B,EACA,aACE,EAAc,CAAA,UACd,CAAA,CACF,CACA,YAIA,OAAA,CAAA,EAAA,EAAA,KAAA,EAAA,EAAS,aAAA,EAAT,KAAA,EAAA,EAAwB,QAAA,GAAxB,EAAA,IAAA,CAAA,EAAmC,EAChC,EAAS,OAAA,CAAQ,UAAA,CAAa,OAAS,KAAK,CAAA,CAH9B,CAGiC,CAHxB,EAIxB,YAEJ,QA0Da,EAiEX,UA9DA,EA8DY,CAAA,CAAwD,CA7DpE,IAAA,CAAA,MAAQ,CAAqC,CAAA,CAAA,CAE7C,IAAA,CAAA,aAAA,CAAA,KACA,IAAA,CAAA,YAAA,CAAoD,KACpD,IAAA,CAAA,WAAA,EAAc,EACd,IAAA,CAAQ,oBAAA,CAAsC,KAC9C,IAAA,CAAA,iBAAA,CAAwC,CAAA,CAAA,CACxC,IAAA,CAAQ,aAAA,CAAA,EAAA,EAAoB,IAAA,AAC5B,IAAA,CAAQ,EADA,aACA,CAAA,EAAA,EAAsB,IAAA,AAC9B,IAAA,CAAQ,EADA,yBACA,CAA6C,CAAA,CAAA,CACrD,IAAA,CAAQ,SAAA,CAAgC,KAAA,EACxC,IAAA,CAAA,gBAAQ,EAAmB,EAC3B,IAAA,CAAQ,aAAA,EAAgB,EACxB,IAAA,CAAA,UAAA,CAA0B,KAC1B,IAAA,CAAA,YAAA,CAAA,KACA,IAAA,CAAA,eAAA,CAA0C,KAC1C,IAAA,CAAQ,iBAAA,CAAoB,EAQ5B,IAAA,CAAA,aAAA,CAAA,EAAA,EAAoB,IAAA,AACpB,IAAA,CAAQ,EADR,MACQ,CAAY,CAAA,CAAA,IAClB,CADwB,GACpB,EAA6B,GADf,EAGZ,EAAM,IACV,AAAI,EADY,EAKZ,AAAC,CAJI,GAIJ,CAAK,YAAA,EAAiB,EAAD,EAAC,CAAK,YAAA,CAAa,cAAA,CAIrC,CAJqD,CAI/C,IAAI,IAAA,CAAK,YAAA,CAAa,cAAA,CAAgB,AAAD,IACjD,EAAQ,MADsD,CACtD,CAAQ,AAAC,IACf,IAAM,EAAM,KACV,IAAA,CAAK,eAAA,CAAgB,EAAA,MAAM,CAAwB,EACrD,EACA,CAF0D,GAE1D,CAAK,OAAA,CAAQ,mCAAA,CACT,sBAAsB,GAAG,AACzB,GACN,CADM,AACL,CACH,GAZS,MAeX,MAAO,CACL,WAAY,MAAM,IAChB,OAAA,CAAA,EAAA,EAAA,CAAA,CAAA,EAAA,EAAO,UAAA,GACP,EAAM,IACR,EACA,QAAS,AAAC,UACR,CADQ,MACR,OAAA,EAAA,GAAA,CAAA,CAAA,KAAA,EAAA,EAAO,OAAA,CAAQ,EAAQ,CAAE,IAAK,YAAA,IAChC,UAAA,AAAY,UAAoB,OAAA,OAAA,EAAA,GAAA,CAAA,CAAA,KAAA,EAAA,EAAO,SAAA,CAAU,EAAA,CAAM,GAE3D,EAAA,CACA,IAAA,CAAA,KAAA,CAAyD,KAMzD,IAAA,CAAA,UAAA,CAAa,AAACC,IACZ,MADuE,CAChE,OAAA,CAAQA,GAAAA,OAAM,CAAQ,CAAC,CAAC,EAAA,EAAU,IAC5B,AAAP,CADyC,IAClC,IAAA,GAAuB,OAAQA,CAAAA,CAAa,EAAG,CAAA,EAG5D,IAAA,CAAK,OAAA,CAAU,CACb,OAAO,EACP,cAAe,EACf,SAAU,EACV,aAAc,EACd,WAAY,qBACQ,EACpB,iBAAkB,EAClB,YAAY,EACZ,WAAY,EACZ,eAAgB,EAChB,SAAU,KAAO,CAAD,gBAChB,EACA,YAAa,CAAE,MAAO,EAAG,OAAQ,CAAA,EACjC,aAAc,EACd,IAAK,EACL,eAAgB,aAChB,yBAA0B,CAAA,CAAA,CAC1B,MAAO,EACP,sBAAuB,IACvB,QAAS,GACT,OAAO,EACP,mBAAmB,EACnB,qCAAqC,EACrC,GAAGA,CAAAA,CAEP,EAEA,IAAA,CAAQ,MAAA,CAAA,AAAU,SAAkB,EAClC,OAAA,CAAA,EAAA,CAAA,CAAA,CAAA,IAAA,CAAK,OAAA,EAAQ,QAAA,GAAb,EAAA,IAAA,CAAA,EAAwB,IAAA,CAAM,EAChC,EAEA,IAAA,CAAQ,WAAA,CAAc,EACpB,KACE,IAAA,CAAK,cAAA,CAAA,EAEE,CACL,IAAA,CAAK,WAAA,KACL,CAAA,KAAK,CAAQ,IAAA,CAAK,KAAA,CAAM,UAAA,CAAa,KACrC,IAAA,CAAA,KAAK,CAAQ,IAAA,CAAK,KAAA,CAAM,QAAA,CAAW,KAAA,EAGvC,AAAC,IACC,IAAA,CAAK,MAAA,CAAO,IAEd,KACO,EAHkB,CAIvB,MAAO,IAAM,IAAA,CAAK,OAAA,CAAQ,KAAA,CAC1B,YAAa,CACX,IAAA,CAAK,CAHuB,UAGvB,CACL,IAAA,CAJ4C,AAIvC,KAAA,CAAQ,IAAA,CAAK,KAAA,CAAM,UAAA,CAAa,KACrC,IAAA,CAAA,KAAK,CAAQ,IAAA,CAAK,KAAA,CAAM,QAAA,CAAW,KAAA,AACrC,GAIJ,IAAA,CAAQ,OAAA,CAAU,KAChB,CADsB,GACtB,CAAK,MAAA,CAAA,MAAO,CAAO,OAAO,EAAE,OAAA,CAAQ,AAAC,GAAM,GAAI,EAC/C,IAAA,CAAK,MAAA,CAAS,CAAA,CAAA,CACd,IAAA,CAAK,QAAA,CAAS,UAAA,CAAA,EACd,IAAA,CAAK,aAAA,CAAgB,KACrB,IAAA,CAAK,YAAA,CAAe,IACtB,EAEA,IAAA,CAAA,SAAA,CAAY,IACH,EADS,GAEd,CADW,GACX,CAAK,OAAA,CAAA,GAIT,IAAA,CAAA,WAAA,CAAc,MAAM,KAClB,IAAM,EAAgB,IAAA,CAAK,OAAA,CAAQ,OAAA,CAC/B,IAAA,CAAK,OAAA,CAAQ,gBAAA,GACb,KAEJ,GAAI,IAAA,CAAK,aAAA,GAAkB,EAAe,CAGxC,GAFA,IAAA,CAAK,OAAA,CAAA,EAED,CAAA,EAAgB,YAClB,IAAA,CAAK,WAAA,CAAA,EAIP,IAAA,CAAK,aAAA,CAAgB,EAEjB,IAAA,CAAK,aAAA,EAAiB,kBAAmB,IAAA,CAAK,aAAA,CAChD,CAD+D,GAC/D,CAAK,YAAA,CAAe,IAAA,CAAK,aAAA,CAAc,aAAA,CAAc,WAAA,CAErD,IAAA,CAAK,YAAA,CAAA,CAAA,AAAe,MAAf,CAAA,EAAe,IAAA,CAAK,aAAA,EAAL,KAAA,EAAA,EAAoB,MAAA,GAAU,KAGpD,IAAA,CAAK,aAAA,CAAc,OAAA,CAAQ,AAAC,IAC1B,IAAA,CAAK,EADgC,MAChC,CAAS,OAAA,CAAQ,KAGxB,CAH8B,GAG9B,CAAK,MAAA,CAAO,IAAA,CACV,IAAA,CAAK,OAAA,CAAQ,kBAAA,CAAmB,IAAA,CAAM,AAAC,IACrC,IAAA,CAAK,AADyC,UACzC,CAAa,EAClB,IAAA,CAAK,WAAA,CAAA,CACP,CAAC,GAGH,IAAA,CAAA,MAAK,CAAO,IAAA,CAAA,IACV,CAAA,OAAK,CAAQ,oBAAA,CAAqB,IAAA,CAAM,CAAC,EAAQ,KAC/C,IAAA,CAAK,MAD0D,WAC1D,CAAoB,EACzB,IAAA,CAAK,eAAA,CAAkB,EACnB,IAAA,CAAK,eAAA,GAAoB,EACvB,UACA,WACF,KACJ,IAAA,CAAK,YAAA,CAAe,EACpB,IAAA,CAAK,WAAA,CAAc,EAEnB,IAAA,CAAK,WAAA,CAAA,CACP,CAAC,GAGH,IAAA,CAAK,eAAA,CAAgB,IAAA,CAAK,eAAA,GAAmB,CAC3C,YAAa,KAAA,EACb,SAAU,KAAA,CAAA,CACX,CACH,CACF,EAEA,IAAA,CAAQ,OAAA,CAAU,IACX,AAAL,EADsB,EACjB,AAAD,CAAM,OAAA,CAAQ,OAAA,EAAS,AAK3B,IAAA,CAAK,UAAA,CAAa,IAAA,CAAK,UAAA,EAAc,IAAA,CAAK,OAAA,CAAQ,WAAA,CAE3C,IAAA,CAAK,UAAA,CAAW,IAAA,CAAK,OAAA,CAAQ,UAAA,CAAa,QAAU,QAAQ,CAAA,GANjE,IAAA,CAAK,UAAA,CAAa,KACX,GAQX,IAAA,CAAQ,eAAA,CAAkB,IACxB,AAAK,EADyB,EAC1B,AAAC,CAAA,OAAK,CAAQ,OAAA,EAAS,AAK3B,IAAA,CAAK,YAAA,CACH,IAAA,CAAK,YAAA,GACkC,AAAtC,CADI,kBACG,IAAA,CAAK,OAAA,CAAQ,aAAA,CACjB,IAAA,CAAK,OAAA,CAAQ,aAAA,CAAA,EACb,IAAA,CAAK,OAAA,CAAQ,aAAA,EAEZ,IAAA,CAAK,YAAA,GAVV,IAAA,CAAK,YAAA,CAAe,KACb,GAYX,IAAA,CAAA,sBAAQ,CAAA,CACN,EACA,KAEA,IAAM,EAAA,IAAgC,IAAA,AAChC,EAAA,IAA2B,IACjC,IAAA,IAFM,AAEG,EAAI,EAAQ,CADf,CACkB,GAAK,EAAG,EAF1B,EAE+B,CACnC,EAFI,EAEE,EAAc,CAAA,CAAa,CAAC,CAAA,CAElC,GAAI,EAA0B,GAAA,CAAI,EAAY,IAAI,EAChD,CADmD,QAIrD,IAAA,EAAoC,EAAqB,GAAA,CACvD,EAAY,IAAA,EAWd,GARiC,MAA/B,GACA,EAAY,GAAA,CAAM,EAA4B,GAAA,CAE9C,CADA,CACqB,GAAA,CAAI,EAAY,IAAA,CAAM,GAClC,EAAY,GAAA,CAAA,EAAkC,GAAA,EACvD,AAD4D,EAClC,GAAA,CAAI,EAAY,IAAA,EAAM,GAG9C,CAHkD,CAGxB,IAAA,GAAS,IAAA,CAAK,OAAA,CAAQ,KAAA,CAClD,CADyD,IAG7D,CAEA,OAAO,EAAqB,IAAA,GAAS,IAAA,CAAK,OAAA,CAAQ,KAAA,CAC9C,MAAM,IAAA,CAAK,EAAqB,MAAA,CAAA,CAAQ,EAAE,IAAA,CAAK,CAAC,EAAG,IACjD,AAAI,EADmD,AACjD,GAAA,GAAQ,EAAE,GAAA,CACP,CADY,CACV,KAAA,CAAQ,EAAE,KAAA,CAGd,EAAE,GAAA,CAAM,EAAE,GAAA,CAClB,CAAE,CAAC,CAAA,CACJ,KAAA,GAGN,IAAA,CAAQ,qBAAA,CAAwB,EAC9B,IAAA,CACE,IAAA,CAAK,OAAA,CAAQ,KAAA,CACb,IAAA,CAAK,OAAA,CAAQ,YAAA,KACb,CAAK,OAAA,CAAQ,YAAA,CACb,IAAA,CAAK,OAAA,CAAA,UAAQ,KACb,CAAK,OAAA,CAAQ,OAAA,CACb,IAAA,CAAK,OAAA,CAAQ,KAAA,CAAA,CAEf,CAAC,EAAO,EAAc,EAAc,EAAY,EAAS,KAInD,AAFiB,KAAA,AAF4C,IAC3D,IACJ,CAEgB,AAFX,SAAA,EAA2B,IAAA,CAAK,SAAA,GAAc,IAInD,IAAA,CAAK,gBAAA,EAAmB,CAAA,EAG1B,IAAA,CAAK,SAAA,CAAY,EACjB,IAAA,CAAK,2BAAA,CAA8B,CAAA,CAAA,CAE5B,OACL,eACA,eACA,aACA,UACA,QACA,IAGJ,CACE,KAAK,CAAA,GAIT,IAAA,CAAA,eAAQ,CAAkB,EACxB,IAAM,CAAC,IAAA,CAAK,qBAAA,OAAyB,CAAK,aAAa,CAAA,CACvD,CACE,CAAE,OAAA,cAAO,CAAA,cAAc,CAAA,YAAc,CAAA,SAAY,CAAA,OAAS,CAAA,CAAA,CAC1D,KAEA,GAAI,CAAC,EAIH,OALC,AACW,AACZ,IAAA,CAAK,iBAAA,CAAoB,CAAA,CAAA,CACzB,IAAA,CAAK,aAAA,CAAc,KAAA,CAAA,EACnB,IAAA,CAAK,eAAA,CAAgB,KAAA,CAAA,EACd,CAAA,CAAA,CAIT,GAAI,IAAA,CAAK,eAAA,CAAgB,IAAA,CAAO,EAC9B,IAAA,CADqC,GAC1B,KAAA,IAAS,CAAK,eAAA,CAAgB,IAAA,CAAA,EAAQ,AAC3C,GAAS,GACX,IADkB,AAClB,CAAK,eAAA,CAAgB,MAAA,CAAO,GAM9B,IAAA,CAAK,gBAAA,EAAkB,CACzB,IAAA,CAAK,gBAAA,EAAmB,EACxB,IAAA,CAAK,aAAA,EAAgB,EACrB,IAAA,CAAK,iBAAA,CAAoB,EAAA,CACzB,IAAA,CAAK,aAAA,CAAc,KAAA,CAAA,EACnB,IAAA,CAAK,eAAA,CAAgB,KAAA,CAAA,EAErB,IAAA,CAAK,2BAAA,CAA8B,CAAA,CAAA,EAKC,IAAlC,CAAuC,GAAvC,CAAK,iBAAA,CAAkB,MAAA,EAAiB,IAAA,CAAK,aAAA,EAAe,CAC9D,IAAA,CAAK,iBAAA,CAAoB,IAAA,CAAK,OAAA,CAAQ,wBAAA,CACtC,IAAA,CAAK,iBAAA,CAAkB,OAAA,CAAQ,AAAC,IAC9B,IAAA,CADuC,AAClC,aAAA,CAAc,GAAA,CAAI,EAAK,GAAA,CAAK,EAAK,IAAI,CAC5C,CAAC,GAIH,IAAM,EAAM,IAAA,CAAK,aAAA,CACb,EACA,IAAA,CAAK,2BAAA,CAA4B,MAAA,CAAS,EACxC,KAAK,GAAA,CAAI,GAAG,IAAA,CAAK,2BAA2B,EAC5C,EACN,IAAA,CAAK,2BAAA,CAA8B,CAAA,CAAA,CAG/B,IAAA,CAAK,aAAA,EAAiB,IAAA,CAAK,iBAAA,CAAkB,MAAA,GAAW,IAC1D,GADiE,CACjE,CAAK,aAAA,EAAgB,CAAA,EAGvB,IAAM,EAAe,IAAA,CAAK,iBAAA,CAAkB,KAAA,CAAM,EAAG,GAAG,AAGlD,EAA2C,AAAI,MAAM,GAAO,EAAF,EAAE,CAChE,KAAA,GAIF,IAAA,IAAS,EAAI,EAAG,EAAI,EAAK,IAAK,CAC5B,IAAM,EAAO,CAAA,CAAa,CAAC,CAAA,CACvB,GACF,EAAA,CADQ,AACM,EAAK,IAAI,CAAA,EAAI,CAE/B,CAEA,IAAA,IAAS,EAAI,EAAK,EAAI,EAAO,IAAK,CAChC,IAII,EACA,EALE,EAAM,EAAW,CAAC,EAGlB,EAAa,IAAA,CAAK,eAAA,CAAgB,GAAA,CAAI,CAAC,EAI7C,GAAmB,AAAf,KAAe,OAAa,IAAA,CAAK,OAAA,CAAQ,KAAA,CAAQ,EAAG,CAGtD,IAAM,EAAA,CAAY,CAAc,AADhC,EAAO,EAC6B,CAC9B,EACJ,AAAc,KAAA,MAAY,CAAA,CAAa,EAAS,CAAI,KAAA,CAAJ,CAClD,EAAQ,EACJ,EAAW,GAAA,CAAM,IAAA,CAAK,OAAA,CAAQ,GAAA,CAC9B,EAAe,CACrB,KAAO,CAEL,IAAM,EACmB,IAAvB,IAAA,CAAK,OAAA,CAAQ,KAAA,CACT,CAAA,CAAa,EAAI,CAAC,CAAA,CAClB,IAAA,CAAK,sBAAA,CAAuB,EAAc,CAAC,EAEjD,EAAQ,EACJ,EAAoB,GAAA,CAAM,IAAA,CAAK,OAAA,CAAQ,GAAA,CACvC,EAAe,EAEnB,EAAO,EACH,EAAoB,IAAA,CACpB,EAAI,IAAA,CAAK,OAAA,CAAQ,KAAA,CAGjB,IAAA,CAAK,OAAA,CAAQ,KAAA,CAAQ,GAAG,AAC1B,IAAA,CAAK,eAAA,CAAgB,GAAA,CAAI,EAAG,EAEhC,CAEA,CAJoC,GAI9B,EAAe,EAAc,GAAA,CAAI,GAAG,AACpC,EACoB,UAAxB,OAAO,EACH,EACA,IAAA,CAAK,OAAA,CAAQ,YAAA,CAAa,CAAC,EAE3B,EAAM,EAAQ,EAEpB,CAAA,CAAa,CAAC,CAAA,CAAI,CAChB,MAAA,QACA,OACA,EACA,UACA,OACA,CAAA,EAIF,CAAA,CAAc,EAAI,CAAI,CAAJ,CAKpB,OAFA,IAAA,CAAK,iBAAA,CAAoB,EAElB,GAET,CACE,KAAK,EACL,MAAO,IAAM,IAAA,CAAK,OAAA,CAAQ,KAAA,GAI9B,IAAA,CAAA,aALkC,CAKlC,CAAiB,EAAA,IACT,CACJ,IAAA,CAAK,EAPyC,aAOzC,CAAA,EACL,IAAA,CAAK,OAAA,CAAA,EACL,IAAA,CAAK,eAAA,CAAA,EACL,IAAA,CAAK,OAAA,CAAQ,KAAA,CAAA,CAEf,CAAC,EAAc,EAAW,EAAc,IAC9B,IAAA,CAAK,KAAA,CACX,EAAa,MAAA,CAAS,GAAK,EAAY,EACnC,AAmbZ,SAAwB,AAAf,cACP,CAAA,WACA,CAAA,cACA,CAAA,CAAA,MAAA,CACA,CACF,EAKG,AACD,IAAM,EAAY,EAAa,MAAA,CAAS,EAIxC,GAAI,EAAa,MAAA,EAAU,EACzB,KADgC,CACzB,CACL,WAAY,EACZ,SAAU,CAAA,EAId,IAAI,EAAa,EACf,EACA,EAZgB,AAAC,GAAA,CAAkB,CAAa,EAAK,CAAG,CAaxD,CAbqD,GAAG,CAcxD,GAEE,EAAW,EAEf,GAAI,AAAU,GAAG,GACf,KACE,EAAW,GACX,CAAA,CAAa,EAAQ,CAAG,GAAA,CAAM,EAAe,GAE7C,OADA,EAGJ,GAAW,EAAQ,EAAG,CAGpB,IAAM,EAAa,MAAM,GAAO,IAAA,CAAK,CAAC,EACtC,KACE,EAAW,GACX,EAAW,IAAA,CAAK,AAAC,GAAQ,EAAM,EAAe,IAC9C,CACA,IAAM,AAFiD,EAE1C,CAAA,CAAa,EAAQ,CAClC,CAAA,CAAW,EAAK,CADkB,GACd,CAAA,CAAI,EAAK,GAAA,CAC7B,GACF,CAIA,IAAM,EAAe,MAAM,GAAO,IAAA,CAAA,EAAoB,GACtD,KAAA,CAD+D,EAC1C,GAAK,EAAa,IAAA,CAAK,AAAC,GAAQ,GAAO,IAAe,CACzE,IAAM,EAAO,CADyD,AACzD,CAAa,EAAU,CACpC,CAAA,CAAa,EAAK,GADkB,CACd,CAAA,CAAI,EAAK,KAAA,CAC/B,GACF,CAGA,EAAa,KAAK,GAAA,CAAI,EAAG,EAAc,EAAA,GAEvC,EAAW,KAAK,GAAA,CAAI,EAAW,GAAY,EAAQ,EAAK,EAAW,CAAA,CAApC,AAAoC,CAAO,AAC5E,CAEA,MAAO,CAAE,sBAAY,CAAA,CACvB,EArf2B,cACb,YACA,eACA,QACA,CAAA,CACD,EACD,KAER,CACE,KAAK,EACL,MAAO,AADM,IAAI,AACJ,IAAA,CAAK,OAAA,CAAQ,KAAA,GAI9B,IAAA,CAAA,aALkC,IAKlC,CAAoB,EAClB,KACE,IAAI,AAP0C,EAOd,KAC5B,EAA0B,KACxB,EAAQ,IAAA,CAAK,cAAA,CAAA,EAMnB,OALI,IACF,EAAa,CADJ,CACU,UAAA,CACnB,EAAW,EAAM,QAAA,EAEnB,IAAA,CAAK,WAAA,CAAY,UAAA,CAAW,CAAC,IAAA,CAAK,WAAA,CAAa,EAAY,EAAS,EAC7D,IAD4D,CAEjE,CAAK,OAAA,CAAQ,cAAA,CACb,IAAA,CAAK,OAAA,CAAQ,QAAA,CACb,IAAA,CAAK,OAAA,CAAQ,KAAA,CACb,EACA,EAAA,AAEJ,EACA,CAAC,EAAA,EAA0B,EAAO,EAAY,IACtB,OAAf,GAAoC,OAAb,EAC1B,CAAA,CAAA,CACA,EAAe,YACb,WACA,WACA,QACA,CAAA,CACD,EAEP,CACE,KAAK,EACL,MAAO,IAAM,IAAA,CAAK,OAAA,CAAQ,KAAA,GAI9B,IAAA,CAAA,aALkC,GAKlC,CAAmB,AAAC,IAClB,IAAM,EAAA,EAN0C,EAM1B,CAAK,OAAA,CAAQ,cAAA,CAC7B,EAAW,EAAK,YAAA,CAAa,UAEnC,AAAK,EAOE,CATyC,CAE5C,MAAW,CAOC,EAAU,EAAE,GAN1B,QAAQ,IAAA,CACN,CAAA,wBAAA,EAA2B,EAAa,WAAA,mBAAA,CAAA,EAEnC,CAAA,IAMX,IAAA,CAAQ,eAAA,CAAkB,CACxB,EACA,KAEA,IAAM,CADH,CACW,IAAA,CAAK,gBAAA,CAAiB,GAC9B,CADkC,CAC3B,IAAA,CAAA,iBAAK,CAAkB,EAAK,CACzC,EADyC,CACrC,CAAC,EACH,IADS,GAGX,IAAM,EAAM,EAAK,GAAA,CACX,EAAW,IAAA,CAAK,aAAA,CAAc,GAAA,CAAI,GAAG,AAEvC,IAAa,IACX,EADiB,CAEnB,IAAA,CAAK,EADO,MACP,CAAS,SAAA,CAAU,GAE1B,IAAA,CAFkC,AAE7B,QAAA,CAAS,OAAA,CAAQ,GACtB,CAD0B,GAC1B,CAAK,aAAA,CAAc,GAAA,CAAI,EAAK,IAG1B,AAH8B,EAGzB,WAAA,EAAa,AACpB,IAAA,CAAK,UAAA,CAAW,EAAO,IAAA,CAAK,OAAA,CAAQ,cAAA,CAAe,EAAM,EAAO,IAAI,CAAC,GAIzE,IAAA,CAAA,UAAA,CAAa,CAAC,EAAe,KAC3B,IAD4C,AACtC,EAAO,IAAA,CAAK,iBAAA,CAAkB,EAAK,CACzC,EADyC,CACrC,CAAC,EACH,IADS,GAIX,IAAM,EAAQ,GADG,IAAA,AACI,CADC,aAAA,CAAc,GAAA,CAAI,EAAK,GAAG,GAAK,EAAK,IAAA,EAG5C,GAAG,CAAb,KAEoD,KAAA,IAApD,IAAA,CAAK,0CAAA,CACD,IAAA,CAAK,0CAAA,CAA2C,EAAM,EAAO,IAAI,EACjE,EAAK,KAAA,CAAQ,IAAA,CAAK,eAAA,CAAA,EAAoB,IAAA,CAAK,iBAAA,EAC/C,CAKA,IAAA,CAAK,eAAA,CAAA,IAAgB,CAAK,eAAA,GAAmB,CAC3C,YAAc,IAAA,CAAK,iBAAA,EAAqB,EACxC,SAAU,KAAA,CAAA,CACX,EAGH,IAAA,CAAK,2BAAA,CAA4B,IAAA,CAAK,EAAK,KAAK,EAChD,IAAA,CAAK,aAAA,CAAgB,IAAI,IAAI,IAAA,CAAK,aAAA,CAAc,GAAA,CAAI,EAAK,GAAA,CAAK,IAE9D,AAFkE,CAAC,GAEnE,CAAK,MAAA,EAAO,GAEhB,EAFqB,AAIrB,IAAA,CAAA,cAAA,CAAiB,AAAC,IAChB,AAAK,EAUL,EAVI,CADsD,CAW1D,AAVW,CAUN,eAAA,CAAgB,EAAM,KAAA,CAAS,EATlC,IAAA,CAAK,aAAA,CAAc,OAAA,CAAQ,CAAC,EAAQ,KAC7B,EAAO,CAD8B,UAC9B,EAAa,CACvB,IAAA,CAAK,QAAA,CAAS,SAAA,CAAU,GACxB,GAD8B,CAC9B,CAAK,aAAA,CAAc,MAAA,CAAO,GAAG,AAEjC,CAAC,CAKL,EAEA,IAAA,CAAA,eAAA,CAAkB,EAChB,IAAM,CAAC,IAAA,CAAK,iBAAA,GAAqB,IAAA,CAAK,eAAA,EAAiB,CAAA,CACvD,CAAC,EAAS,KACR,IAAM,EAAmC,CAAA,CAAA,CAEzC,IAAA,IAAS,EAAI,EAAA,EAAS,EAAQ,MAAA,CAAQ,EAAI,EAAK,IAAK,CAElD,IAAM,EAAc,CAAA,CADV,AACuB,CADvB,AACwB,CADhB,CAAC,CAAA,CACe,CAElC,EAAa,IAAA,CAAK,EACpB,CAEA,OAAO,CACT,EACA,CACE,KAAK,EACL,MADa,AACN,IAAM,IAAA,CAAA,OAAK,CAAQ,KAAA,GAI9B,IAAA,CAAA,aALkC,UAKlC,CAA0B,AAAC,IACzB,CANgD,GAM1C,EAAe,IAAA,CAAK,eAAA,CAAA,EAC1B,GAA4B,GAAG,CAA3B,EAAa,MAAA,CAGjB,OAAO,EACL,CAAA,CACE,EACE,EACA,EAAa,MAAA,CAAS,EACtB,AAAC,GAAkB,EAAa,CAAA,CAAa,EAAM,EAAE,CAAH,IAAG,CACrD,GAEJ,CAEJ,EAEA,IAAA,CAAQ,kBAAA,CAAqB,KAC3B,CADiC,EAC7B,CAAC,IAAA,CAAK,aAAA,CAAe,OAAO,EAEhC,GAAI,iBAAkB,IAAA,CAAK,aAAA,CAEzB,CAFwC,MAEjC,IAAA,CAAK,OAAA,CAAQ,UAAA,CAChB,IAAA,CAAK,aAAA,CAAc,WAAA,CAAc,IAAA,CAAK,aAAA,CAAc,WAAA,CACpD,IAAA,CAAK,aAAA,CAAc,YAAA,CAAe,IAAA,CAAK,aAAA,CAAc,YAAA,AACpD,EAEL,IAAM,EAAM,IAAA,CAAK,aAAA,CAAc,QAAA,CAAS,eAAA,CACxC,OAAO,IAAA,CAAK,OAAA,CAAQ,UAAA,CAChB,EAAI,WAAA,CAAc,IAAA,CAAK,aAAA,CAAc,UAAA,CACrC,EAAI,YAAA,CAAe,IAAA,CAAK,aAAA,CAAc,WAAA,AAC5C,CACF,EAEA,IAAA,CAAA,qBAAA,CAAwB,CACtB,EACA,EACA,EAAW,CAAA,IAEX,CADG,EACC,CAAA,IAAC,CAAK,aAAA,CAAe,OAAO,EAEhC,IAAM,EAAO,IAAA,CAAK,OAAA,CAAA,EACZ,EAAe,IAAA,CAAK,eAAA,CAAA,EAgB1B,MAdc,QAAQ,CAAlB,GACF,GAAQ,GAAY,EAAe,EAAO,MAAQ,OAAA,EAGtC,UAAU,CAApB,EAGF,GAAA,CAAa,EAAW,CAAA,CAAA,CAAQ,EACb,OAAO,CAAjB,IACT,GAAY,CAAA,EAKP,KAAK,GAAA,CAAI,KAAK,GAAA,CAFH,IAAA,CAAK,kBAAA,CAAA,EAEF,GAA0B,CAAC,CAClD,EAEA,IAAA,CAAA,iBAAA,CAAoB,CAAC,EAAe,EAAyB,MAAA,IAC3D,CADsE,CACtE,KAAa,GAAA,CAAI,EAAG,KAAK,GAAA,CAAI,EAAO,IAAA,CAAK,OAAA,CAAQ,KAAA,CAAQ,CAAC,CAAC,EAE3D,IAAM,EAAO,IAAA,CAAK,iBAAA,CAAkB,EAAK,CACzC,EADyC,CACrC,CAAC,EACH,IADS,GACF,AAGT,IAAA,CAHS,CAGI,IAAA,CAAK,OAAA,CAAA,EACZ,EAAe,IAAA,CAAK,eAAA,CAAA,EAE1B,GAAc,QAAQ,CAAlB,EACF,GAAI,EAAK,GAAA,EAAO,EAAe,EAAO,IAAA,CAAK,OAAA,CAAQ,gBAAA,CACjD,CADmE,CAC3D,WACV,KAAW,EAAK,KAAA,EAAS,EAAe,IAAA,CAAK,OAAA,CAAQ,kBAAA,EAAoB,AAGvE,MAAO,CAAC,EAAc,EAAK,CAF3B,EAAQ,AAEmB,QAM/B,GAAc,QAAV,GAAmB,IAAU,IAAA,CAAK,OAAA,CAAQ,KAAA,CAAQ,EACpD,CADuD,KAChD,CAAC,IAAA,CAAK,kBAAA,CAAA,EAAsB,EAAK,CAG1C,EAH0C,EAGpC,EACM,QAAV,EACI,EAAK,GAAA,CAAM,IAAA,CAAK,OAAA,CAAQ,gBAAA,CACxB,EAAK,KAAA,CAAQ,IAAA,CAAK,OAAA,CAAQ,kBAAA,CAEhC,MAAO,CACL,IAAA,CAAK,qBAAA,CAAsB,EAAU,EAAO,EAAK,IAAI,IACrD,AAEJ,EAEA,IAAA,CAAQ,aAAA,CAAgB,IAAM,IAAA,CAAK,aAAA,CAAc,IAAA,CAAO,EAExD,IAAA,CAAA,cAAA,CAAiB,CACf,EACA,OAAE,EAAQ,OAAA,UAAS,CAAA,CAAA,CAAoC,CAAA,CAAA,IAEtC,CADd,UACC,GAAyB,IAAA,CAAK,aAAA,CAAA,GAAiB,AACjD,QAAQ,IAAA,CACN,0EAIJ,IAAA,CAAK,eAAA,CAAgB,IAAA,CAAK,qBAAA,CAAsB,EAAU,GAAQ,CAChE,CAD6D,WAChD,KAAA,EACb,UAAA,CACD,CACH,EAEA,IAAA,CAAA,aAAA,CAAgB,CACd,EACA,CAAE,MAAO,EAAe,MAAA,UAAQ,CAAA,CAAA,CAAmC,CAAA,CAAA,IAElD,CADd,UACC,GAAyB,IAAA,CAAK,aAAA,CAAA,GAAiB,AACjD,QAAQ,IAAA,CACN,0EAIJ,EAAQ,KAAK,GAAA,CAAI,EAAG,KAAK,GAAA,CAAI,EAAO,IAAA,CAAK,OAAA,CAAQ,KAAA,CAAQ,CAAC,CAAC,EAC3D,IAAA,CAAK,oBAAA,CAAuB,EAE5B,IAAA,EAAe,EAGT,EAAY,AAAC,IACjB,GAAI,CAAC,IAAA,CAAK,IADyC,QACzC,CAAc,OAExB,IAAM,EAAa,IAAA,CAAK,iBAAA,CAAkB,EAAO,GACjD,GAAI,CAAC,EAAA,GADwD,SAE3D,QAAQ,IAAA,CAAK,kCAAmC,GAGlD,EAHuD,CAGjD,CAAC,EAAQ,EAAK,CAAI,EAAJ,AACpB,IAAA,CAAK,eAAA,CAAgB,EAAQ,CAAE,YAAa,KAAA,WAAW,CAAA,CAAU,EAEjE,IAAA,CAAK,YAAA,CAAa,qBAAA,CAAsB,KACtC,CAD4C,GACtC,EAAS,KAEb,CAFmB,EAEf,IAAA,CAAK,oBAAA,GAAyB,EAAO,IAAA,GAEzC,IAAM,EAAgB,IAAA,CAAK,eAAA,CAAA,EACrB,EAAY,IAAA,CAAK,iBAAA,CAAkB,EAAO,EAChD,CAAK,EFn/BoD,AEk/BJ,AAMjD,CALA,AAKC,IFx/BsC,IEm/B3B,CFn/BgC,GAAA,CAAI,AEw/BnC,CAAA,CAAU,CAAC,CAAA,AFx/B4B,CAAC,AEw/B1B,IAC7B,EAAc,GALd,EAKmB,EADuB,GAAG,CAJrC,IAAA,CAAK,kCAAmC,IAUhD,CAVqD,GAUrD,CAAK,aAAA,GACP,CADwB,GACxB,CAAK,YAAA,CAAc,qBAAA,CAAsB,GAEzC,GAF+C,EAKrD,EAHM,AAKA,EAAgB,AAAC,IACrB,AAAK,IAAD,AAAC,CAAK,CADsC,WACtC,CAAc,CAGpB,AAHoB,IAGpB,CAAK,oBAAA,GAAyB,IAG9B,EAHqC,CAAA,CA3CvB,GAkDhB,IAJa,AAIb,CAAK,YAJqB,AAIrB,CAAa,qBAAA,CAAsB,IAAM,EAAU,IAExD,CAF6D,CAAC,MAEtD,IAAA,CACN,CAAA,0BAAA,EAA6B,KAAK,CAAA,OAAA,EAAU,OAAW,EAG7D,EAH6D,AAK7D,CAL6D,CAKnD,IAGZ,IAAA,CAR+D,AAQ/D,GAHwB,KAGxB,CAAW,CAAC,EAAe,UAAE,CAAA,CAAA,CAAoC,CAAA,CAAA,IAC9C,CADqD,UAClE,GAAyB,IAAA,CAAK,aAAA,CAAA,GAAiB,AACjD,QAAQ,IAAA,CACN,0EAIJ,IAAA,CAAA,eAAK,CAAgB,IAAA,CAAK,eAAA,CAAA,EAAoB,EAAO,CACnD,YAAa,KAAA,WACb,CAAA,CACD,CACH,EAEA,IAAA,CAAA,YAAA,CAAe,eAGT,EAFE,EAAe,IAAA,CAAK,eAAA,CAAA,EAM1B,GAA4B,GAAG,CAA3B,EAAa,MAAA,CACf,EAAM,IAAA,CAAA,OAAK,CAAQ,YAAA,MACrB,GAAkC,GAAG,CAA1B,IAAA,CAAK,OAAA,CAAQ,KAAA,CACtB,EAAA,CAAA,AAAM,OAAA,EAAA,CAAA,CAAa,EAAa,MAAA,CAAS,EAAC,EAApC,KAAA,EAAA,EAAuC,GAAA,GAAO,MAC/C,CACL,IAAM,EAAY,MAAqB,IAAA,CAAK,OAAA,CAAQ,KAAK,EAAE,IAAA,CAAK,IAAI,EAChE,EAAW,EAAa,MAAA,CAAS,EACrC,KAAO,GAAY,GAAK,EAAU,IAAA,CAAK,AAAC,GAAgB,IAAI,GAAZ,IAAe,CAC7D,IAAM,EAAO,CAAA,CAAa,EAAQ,AACL,MADK,AACC,EAA/B,CAAA,CAAU,EAAK,IAAI,CAAA,GACrB,CAAA,CAAU,EAAK,IAAI,CAAA,CAAI,EAAK,GAAA,EAG9B,GACF,CAEA,EAAM,KAAK,GAAA,CAAI,GAAG,EAAU,MAAA,CAAO,AAAC,GAA+B,IAAI,CAAC,EAAb,GAC7D,CAEA,OAAO,KAAK,GAAA,CAAA,EACJ,IAAA,CAAK,OAAA,CAAQ,YAAA,CAAe,IAAA,CAAK,OAAA,CAAQ,UAAA,CAC/C,EAEJ,EAEA,IAAA,CAAQ,eAAA,CAAkB,CACxB,EACA,CAAA,YAAA,CACE,CAAA,SAAA,CACA,CAAA,IAMF,IAAA,CAAK,OAAA,CAAQ,UAAA,CAAW,EAAQ,UAAE,cAAU,CAAA,EAAe,IAAI,CACjE,EAEA,IAAA,CAAA,OAAA,CAAU,KACR,CADc,GACd,CAAK,aAAA,CAAA,EAAA,EAAoB,IAAA,AACzB,IAAA,CAAK,EADA,aACA,CAAA,EAAA,EAAsB,IAC3B,AAD2B,IAC3B,CAAK,EADA,IACA,EAAO,EACd,EArxBE,IAAA,CAAK,UAAA,CAAW,EAClB,CAqxBF,CAtxBwB,AAwxBxB,IAAM,EAA0B,CAC9B,EACA,EACA,EACA,KAEA,KADG,AACI,GAAO,GAAA,CACZ,IAAM,EAAA,CAAW,EAAM,CAAA,CAAA,CAAQ,EAAK,EAC9B,EAAe,EAAgB,GAErC,GAF2C,AAEvC,EAAe,EACjB,EAAM,EAAS,CADS,MAE1B,KAAW,EAAe,CAAA,EAGxB,CAH+B,MAG/B,EAFA,EAAO,EAAS,UAMpB,AAAI,EAAM,EACD,CADI,CACE,EAEN,CAEX,ECjsCM,EACgB,IAApB,OAAO,SAA2B,EAAM,IAAA,WAAA,CAAkB,EAAM,IAAA,KAAA,CJgBlE,IAAA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,OFlCA,EAAA,EAAA,CAAA,CAAA,OAAA,EAAA,EAAA,CAAA,CAAA,OAAA,EAAA,EAAA,CAAA,CAAA,OAAA,EAAA,EAAA,CAAA,CAAA,OAAA,EAAA,EAAA,CAAA,CAAA,OAAA,EAAA,EAAA,CAAA,CAAA,OAAA,GAAA,EAAA,CAAA,CAAA,OAAA,GAAA,EAAA,CAAA,CAAA,OAAA,GAAA,EAAA,CAAA,CAAA,MAmBO,IAAM,GAAyD,CACpE,KAAM,EAAA,KAAK,CACX,MAAO,EAAA,IAAI,CACX,QAAS,EAAA,QAAQ,CACjB,MAAO,GAAA,MAAM,CACb,KAAM,EAAA,WAAW,CACjB,YAAa,EAAA,SAAS,CACtB,SAAU,EAAA,aACZ,AADyB,EAGZ,GAA2C,CACtD,KAAM,UACN,MAAO,SACP,QAAS,UACT,MAAO,SACP,KAAM,SACN,YAAa,YACb,SAAU,UACZ,EAYa,GAAiE,CAC5E,KAAM,CAAE,GAAI,cAAe,KAAM,eAAgB,EACjD,MAAO,CAAE,GAAI,eAAgB,KAAM,gBAAiB,EACpD,QAAS,CAAE,GAAI,gBAAiB,KAAM,iBAAkB,EACxD,MAAO,CAAE,GAAI,gBAAiB,KAAM,iBAAkB,EACtD,KAAM,CAAE,GAAI,iBAAkB,KAAM,kBAAmB,EACvD,YAAa,CAAE,GAAI,gBAAiB,KAAM,iBAAkB,EAC5D,SAAU,CAAE,GAAI,eAAgB,KAAM,gBAAiB,CACzD,EAYa,GAAmC,CAC9C,OACA,QACA,UACA,QACA,OACA,YACA,WACD,CAOU,GAAA,KAAK,CACH,EAAA,YAAY,CACd,GAAA,WAAW,CACT,EAAA,OAAO,CCnFpB,IAAA,GAAA,EAAA,CAAA,CAAA,OACA,GAAA,EAAA,CAAA,CAAA,OAkBO,SAAS,GAAsB,CAClC,MAAI,cACJ,CAAY,OACZ,CAAK,aACL,CAAW,SACX,CAAO,CACkB,EACzB,GAAM,CAAC,EAAQ,EAAU,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,GAAC,GAC/B,CAAC,EAAW,EAAa,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAgB,MAUpD,EAAa,UACf,GAAI,CACA,MAAM,UAAU,SAAS,CAAC,SAAS,CAAC,GACpC,EAAU,IACV,EAAa,MACb,WAAW,IAAM,GAAU,GAAQ,IACvC,CAAE,KAAM,CACJ,EAAa,kDACjB,CACJ,EAEA,MACI,CAAA,EAAA,EAAA,GAAA,EAAC,GAAA,MAAM,CAAA,CAAC,KAAM,EAAM,aApBC,AAAC,CAoBY,GAnB9B,IACA,GAAU,GADA,AAEV,EAAa,OAEjB,EAAa,EACjB,WAeQ,CAAA,EAAA,EAAA,IAAA,EAAC,GAAA,aAAa,CAAA,CAAC,UAAU,6BACrB,CAAA,EAAA,EAAA,IAAA,EAAC,GAAA,YAAY,CAAA,WACT,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,oCACX,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,6FACX,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,QAAQ,CAAA,CAAC,UAAU,cAExB,CAAA,EAAA,EAAA,GAAA,EAAC,GAAA,WAAW,CAAA,UAAE,OAEjB,GAAe,CAAA,EAAA,EAAA,GAAA,EAAC,GAAA,iBAAiB,CAAA,UAAE,OAGxC,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,2EACX,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,+DACV,IAEL,CAAA,EAAA,EAAA,GAAA,EAAC,GAAA,MAAM,CAAA,CACH,KAAK,OACL,QAAQ,QACR,UAAU,mEACV,QAAS,WAER,EACG,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,KAAK,CAAA,CAAC,UAAU,6BAEjB,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,IAAI,CAAA,CAAC,UAAU,iBAK3B,EACG,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,qCAA6B,IAC1C,KAEJ,CAAA,EAAA,EAAA,IAAA,EAAC,GAAA,YAAY,CAAA,CAAC,UAAU,2BACpB,CAAA,EAAA,EAAA,GAAA,EAAC,GAAA,WAAW,CAAA,CAAC,OAAO,CAAA,CAAA,WAChB,CAAA,EAAA,EAAA,GAAA,EAAC,GAAA,MAAM,CAAA,CAAC,QAAQ,mBAAU,aAE9B,CAAA,EAAA,EAAA,IAAA,EAAC,GAAA,MAAM,CAAA,CAAC,QAAS,EAAY,UAAU,kBAClC,EAAS,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,KAAK,CAAA,CAAC,UAAU,YAAe,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,IAAI,CAAA,CAAC,UAAU,YACzD,EAAS,UAAY,4BAM9C,CGlGA,IAAA,GAAA,EAAA,CAAA,CAAA,OAQO,SAAS,GAAW,CAAU,EACnC,OAAO,IAAI,KAAK,EAAK,WAAW,GAAI,EAAK,QAAQ,GAAI,EAAK,OAAO,GACnE,CAEO,SAAS,GAAa,CAAe,EAC1C,GAAM,CAAC,EAAM,EAAO,EAAI,CAAG,EAAQ,KAAK,CAAC,KAAK,GAAG,CAAC,QAClD,OAAO,IAAI,KAAK,EAAM,EAAQ,EAAG,EACnC,CAEO,SAAS,GAAU,CAAU,EAClC,IAAM,EAAI,EAAK,WAAW,GACpB,EAAI,OAAO,EAAK,QAAQ,GAAK,GAAG,QAAQ,CAAC,EAAG,KAC5C,EAAI,OAAO,EAAK,OAAO,IAAI,QAAQ,CAAC,EAAG,KAC7C,MAAO,CAAA,EAAG,EAAE,CAAC,EAAE,EAAE,CAAC,EAAE,EAAA,CAAG,AACzB,CAEO,SAAS,GAAQ,CAAU,CAAE,CAAY,EAC9C,OAAO,IAAI,KAAK,EAAK,WAAW,GAAI,EAAK,QAAQ,GAAI,EAAK,OAAO,GAAK,EACxE,CAEO,SAAS,GAAa,CAAU,EACrC,OAAO,IAAI,KAAK,EAAK,WAAW,GAAI,EAAK,QAAQ,GAAI,EACvD,CA6BO,SAAS,GAAa,CAAe,EAC1C,OAAO,GAAa,GAAS,kBAAkB,CAAC,QAAS,CACvD,IAAK,UACL,MAAO,SACT,EACF,CAEO,SAAS,GAAe,CAAe,EAC5C,OAAO,GAAa,GAAS,kBAAkB,CAAC,QAAS,CACvD,IAAK,UACL,MAAO,OACT,EACF,CA2CO,SAAS,GAAkB,CAAkB,CAAE,CAAS,EAC7D,MAAO,CAAA,EAAA,GAAA,mBAAA,AAAmB,EAAC,EAAU,EACvC,CAEO,SAAS,GAAU,CAAkB,CAAE,CAAS,EACrD,MAAO,CAAA,EAAA,GAAA,mBAAA,AAAmB,EAAC,EAAU,EACvC,CAEO,SAAS,GAAqB,CAAkB,CAAE,CAAS,EAChE,IAAM,EAAU,GAAW,GAAa,EAAS,OAAO,GAClD,EAAQ,GAAW,GACnB,EAAW,KAAK,KAAK,CAAC,CAAC,EAAQ,OAAO,GAAK,EAAM,OAAO,EAAA,CAAE,CAvH5C,GAuHgD,EAvH3C,EAyHzB,GAAI,AAzH0B,GAyHR,EAAU,AAzHG,GAyHG,CACpC,GAAiB,GAAG,CAAhB,EACF,OAAO,EAAS,OAAO,CAAG,CAAC,eAAe,EAAE,EAAS,OAAO,CAAA,CAAE,CAAG,oBA3B1C,EA6BL,KAAK,GAAG,CA7BgB,AA6Bf,EAAG,KAAK,GAAG,CAAC,IA5B3C,GAAI,GAAe,EAAG,MAAO,GAC7B,GAAoB,IAAhB,EAAmB,MAAO,kBAC9B,GAAI,EAAc,EAAG,MAAO,CAAA,EAAG,EAAY,eAAe,CAAC,CAC3D,GAAI,EAAc,GAAI,CACpB,IAAM,EAAQ,KAAK,KAAK,CAAC,EAAc,GACvC,OAAiB,IAAV,EAAc,qBAAuB,CAAA,EAAG,EAAM,kBAAkB,CAAC,AAC1E,CACA,IAAM,EAAS,KAAK,KAAK,CAAC,EAAc,IACxC,OAAkB,IAAX,EAAe,kBAAoB,CAAA,EAAG,EAAO,gBAAgB,CAqBpE,AArBqE,QAuBpD,AAAjB,AAAI,GAAgB,GACX,EAAS,OAAO,CAAG,CAAC,UAAO,EAAE,EAAS,OAAO,CAAA,CAAE,CAAG,OAGvD,AAAa,GAAG,GAAO,SACvB,GAAY,EAAU,CAAP,AAAQ,GAAG,EAAE,EAAS,KAAK,CAAC,CACxC,GAAe,EAAS,OAAO,CACxC,CAEO,SAAS,GAAc,CAAkB,CAAE,CAAS,EAIzD,GAAwB,aAAa,CAAjC,EAAS,MAAM,CACjB,MAAO,CACL,MAAO,YACP,UAAW,sEACb,EAGF,GAAwB,aAAa,CAAjC,EAAS,MAAM,CACjB,MAAO,CACL,MAAO,YACP,UAAW,2CACb,EAGF,GAAI,GAAkB,EAAU,GAC9B,GADoC,GAC7B,CACL,MAAO,WACP,UAAW,mEACb,EAGF,IAAM,EAAM,GAAW,GAAa,EAAS,OAAO,GAC9C,EAAQ,GAAW,UAEzB,AAAI,EAAI,OAAO,KAAO,EAAM,OAAO,GAC1B,CAD8B,AAEnC,MAAO,OACP,UAAW,sEACb,EAGK,CACL,MAAO,WACP,UAAW,6DACb,CACF,CA4BO,SAAS,GAAmB,CAAkB,CAAE,CAAS,EAK9D,IAAM,EAAQ,EAAS,UAAU,EAAI,EAAS,gBAAgB,EAAI,YAC5D,EAAU,GAAkB,EAAU,GAG5C,MAAO,CACL,QACoB,UAAlB,EAAS,IAAI,CACT,CAAC,4EAAmE,EAAE,EAAM,6BAA6B,CAAC,CACxF,YAAlB,EAAS,IAAI,CACX,CAAC,iDAA8C,EAAE,EAAM,oDAA8C,CAAC,CACtG,CAAC,4BAA4B,EAAE,EAAM,UAAU,EAAE,AAR3C,EAAU,UAAY,cAQ6B,uEAA8D,CAAC,CAChI,SACoB,SAAlB,EAAS,IAAI,CACT,qEACA,0EACN,KAAM,EACF,CAAC,YAAY,EAAE,EAAM,kDAAkD,CAAC,CACxE,CAAC,YAAY,EAAE,EAAM,wDAAkD,CAAC,AAC9E,CACF,CF/KA,IAAA,GAAA,EAAA,CAAA,CAAA,OACA,GAAA,EAAA,CAAA,CAAA,OAEA,GAAA,EAAA,CAAA,CAAA,OACA,GAAA,EAAA,CAAA,CAAA,OACA,GAAA,EAAA,CAAA,CAAA,OACA,GAAA,EAAA,CAAA,CAAA,OAYA,GAAA,EAAA,CAAA,CAAA,OAUA,GAAA,EAAA,CAAA,CAAA,MACA,GAAA,EAAA,CAAA,CAAA,OACA,GAAA,EAAA,CAAA,CAAA,OACA,GAAA,EAAA,CAAA,CAAA,OA0CA,IAAM,GAA6D,CACjE,CAAE,MAAO,UAAW,MAAO,UAAW,EACtC,CAAE,MAAO,UAAW,MAAO,UAAW,EACtC,CAAE,MAAO,YAAa,MAAO,WAAY,EACzC,CAAE,MAAO,YAAa,MAAO,WAAY,EAC1C,CAEK,GAAwB,IAAI,IAAoB,CACpD,UACA,UACD,EAEK,GAAqD,CACzD,CAAE,MAAO,MAAO,MAAO,OAAQ,EAC/B,CAAE,MAAO,WAAY,MAAO,WAAY,EACxC,CAAE,MAAO,OAAQ,MAAO,UAAW,EACpC,CAEK,GAAgB,GAAe,GAAG,CAAC,AAAC,GAAW,EAAO,KAAK,EAC3D,GAAwB,IAAI,IAAkB,IAC9C,GAAmB,sBAEzB,SAAS,GAAa,CAAY,CAAE,CAAa,EAC/C,GAAI,EAAK,IAAI,GAAK,EAAM,IAAI,CAAE,OAAO,EACrC,IAAK,IAAM,KAAS,EAClB,GADwB,AACpB,CAAC,EAAM,GAAG,CAAC,GAAQ,OAAO,EAEhC,OAAO,CACT,CAEA,SAAS,GAAmB,CAAkB,CAAE,CAAS,QACvD,AAAwB,cAApB,EAAS,MAAM,EAAwC,aAAa,CAAjC,EAAS,MAAM,CAC7C,EAAS,MAAM,CAEjB,GAAkB,EAAU,GAAO,UAAY,SACxD,CAWA,SAAS,GACP,CAAuB,CACvB,CAA2B,CAC3B,CAAsB,EAEtB,GAAI,CAAC,EAAU,OAAO,IAAI,IAAI,GAE9B,IAAM,EAAU,IAAI,IAAI,GAClB,EAAS,EACZ,KAAK,CAAC,KACN,GAAG,CAAC,AAAC,GAAU,EAAM,IAAI,IACzB,MAAM,CAAC,AAAC,GAAsB,EAAQ,GAAG,CAAC,eAGhC,IADS,GAAG,CAArB,EAAO,MAAM,CACA,EAGF,EACjB,CAoHA,IAAM,GAAgB,CACpB,CAAE,GAAI,gBAAiB,MAAO,gCAAiC,EAC/D,CAAE,GAAI,eAAgB,MAAO,2BAA4B,EACzD,CAAE,GAAI,eAAgB,MAAO,kBAAmB,EAChD,CAAE,GAAI,cAAe,MAAO,8BAA+B,EAC3D,CAAE,GAAI,cAAe,MAAO,0BAA2B,EACxD,CAEc,SAAS,KACtB,MACE,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,QAAQ,CAAA,CACP,SACE,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,6DACb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,sFACb,CAAA,EAAA,EAAA,GAAA,EAAC,GAAA,QAAQ,CAAA,CAAC,UAAU,aACpB,CAAA,EAAA,EAAA,GAAA,EAAC,GAAA,QAAQ,CAAA,CAAC,UAAU,qBAEtB,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,6BACb,CAAA,EAAA,EAAA,GAAA,EAAC,GAAA,QAAQ,CAAA,CAAC,UAAU,6BACpB,CAAA,EAAA,EAAA,GAAA,EAAC,GAAA,QAAQ,CAAA,CAAC,UAAU,4CAK1B,CAAA,EAAA,EAAA,GAAA,EAAC,GAAA,CAAA,IAGP,CAEA,SAAS,KACP,GAAM,YAAE,CAAU,CAAE,CAAG,CAAA,EAAA,EAAA,UAAA,AAAU,IAC3B,MAAE,CAAI,aAAE,CAAW,CAAE,CAAG,CAAA,EAAA,EAAA,YAAY,AAAZ,IACxB,EAAS,CAAA,EAAA,EAAA,SAAA,AAAS,IAClB,EAAW,CAAA,EAAA,EAAA,WAAA,AAAW,IACtB,EAAe,CAAA,EAAA,EAAA,eAAA,AAAe,IAC9B,CACJ,WAAY,CAAe,CAC3B,kBAAgB,CAChB,gBAAc,kBACd,CAAgB,CACjB,CAAG,CAAA,EAAA,EAAA,gBAAgB,AAAhB,IAGE,CAAC,EAAU,EAAY,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAW,QAC7C,CAAC,EAAc,EAAgB,CAAG,CAAA,EAAA,EAAA,QAAQ,AAAR,GAAS,GAC3C,CAAC,EAAiB,EAAmB,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAgB,MAEhE,CAAC,EAAa,EAAe,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAC5C,IAAM,IAAI,IAAI,KAEV,CAAC,EAAgB,EAAkB,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAClD,IAAM,IAAI,IAAI,KAEV,CAAC,EAAiB,EAAmB,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAC,IACjD,CAAC,EAAe,EAAiB,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAC,IAC7C,CAAC,EAAW,EAAa,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAY,OAChD,CAAC,EAAa,EAAe,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAC,IAEzC,CAAC,EAAmB,GAAqB,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAA8B,CACtF,cAAc,EACd,SAAS,EACT,OAAO,EACP,OAAO,EACP,QAAQ,CACV,GAEM,CAAC,GAAe,GAAiB,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAoC,CACpF,aAAc,KACd,QAAS,KACT,MAAO,KACP,MAAO,KACP,OAAQ,IACV,GAEM,CAAC,GAAU,GAAY,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAC,GACnC,CAAC,GAAY,GAAc,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,GAAC,GACvC,CAAC,GAAsB,GAAwB,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAE9D,CAAC,GAEG,CAAC,GAAoB,GAAsB,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAgB,MACtE,CAAC,GAAoB,GAAsB,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAgB,MACtE,CAAC,GAAqB,GAAuB,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAC5D,IAAM,IAAI,KAEN,CAAC,GAAuB,GAAyB,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,GAAC,GAC7D,CAAC,GAAyB,GAA2B,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,GAAC,GACjE,CAAC,GAAkB,GAAoB,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,GAAC,GACnD,CAAC,GAAwB,GAA0B,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAC,IAC/D,CAAC,GAAkB,GAAoB,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EACtD,CAAC,GAEG,CAAC,GAAsB,GAAwB,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAwB,MAClF,CAAC,GAAoB,GAAsB,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAwB,MAC9E,CAAC,GAAuB,GAAyB,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAwB,MACpF,CAAC,GAAwB,GAA0B,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAgB,MAE9E,CAAC,GAAkB,GAAoB,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAgB,MAClE,CAAC,GAAe,GAAiB,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAuB,MACnE,CAAC,GAAa,GAAe,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,GAAC,GACzC,CAAC,GAAgB,GAAkB,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,GAAC,GAG/C,CAAC,GAAoB,GAAsB,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,GAAC,GACvD,CAAC,GAAkB,GAAoB,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAC,CAAE,MAAO,GAAI,QAAS,EAAG,GAC5E,CAAC,GAAwB,GAA0B,CAAG,CAAA,EAAA,EAAA,QAAQ,AAAR,EAAwB,MAE9E,GAAa,CAAA,EAAA,EAAA,MAAA,AAAM,EAAW,EAAE,EAChC,GAAkB,CAAA,EAAA,EAAA,MAAM,AAAN,EAAsB,MACxC,GAAsB,CAAA,EAAA,EAAA,MAAA,AAAM,EAAwB,MACpD,GAAM,CAAA,EAAA,EAAA,MAAA,AAAM,EAAC,KACb,GAAsB,CAAA,EAAA,EAAA,gBAAA,AAAgB,EAAC,GACvC,CAAC,GAAe,GAAiB,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAO,IAAM,GAAa,KACtE,CAAC,GAAsB,GAAwB,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAC9D,IAAM,GAAU,GAAW,MAGvB,IAAmB,EAAQ,GAAa,iBAAmB,GAAM,OAAS,QAAA,EAC1E,IAAoB,CAAQ,GAAa,kBACzC,IAA4B,CAAQ,GAAa,gBACjD,IAAoB,CAAQ,GAAa,kBACzC,IAAsB,CAAQ,GAAa,cAE3C,eAAE,EAAa,WAAE,EAAS,CAAE,CAAG,CAAA,EAAA,EAAA,OAAA,AAAO,EAAC,KAC3C,IAAM,EAAmB,GAAM,IAAM,YAErC,AAAI,GACF,AACE,GACA,EAAgB,IAAI,CAAC,AAAC,GAAa,EAHjB,AAG0B,aAAa,GAAK,GAEvD,CACL,cAAe,AAFjB,EAGE,UAAW,UACb,EAGE,EACK,CAAE,cAAe,CADJ,CACsB,UAAW,MAAgB,EAGhE,CAAE,cAAe,KAAM,UAAW,MAAgB,EAGpD,CAAE,cAAe,EAAkB,UAAW,MAAgB,CACvE,EAAG,CAAC,GAAkB,EAAiB,EAAiB,GAAM,GAAG,EAE3D,GAAc,IAAkC,SAAd,GAElC,GAAa,CAAA,EAAA,EAAA,OAAA,AAAO,EACxB,IACE,AAAI,IAAoB,AAAkB,MAAM,IACvC,EAGJ,GAIE,EAAgB,MAAM,CAAC,AAAC,GAJX,AAIwB,EAAS,aAAa,GAAK,IAH9D,EAAE,CAKb,CAAC,GAAkB,GAAe,EAAgB,EAG9C,GAA8C,IAAtB,GAAW,MAAM,CAEzC,GAAW,CAAA,EAAA,EAAA,WAAA,AAAW,EAAC,CAAC,EAAgB,KAC5C,IAAM,EAAK,OAAO,UAAU,CAAC,KAC3B,IACA,GAAW,OAAO,CAAG,GAAW,OAAO,CAAC,MAAM,CAAC,AAAC,GAAS,IAAS,EACpE,EAAG,GACH,GAAW,OAAO,CAAC,IAAI,CAAC,EAC1B,EAAG,EAAE,EAEC,GAA2B,CAAA,EAAA,EAAA,WAAA,AAAW,EAC1C,AAAC,IACC,GAAwB,GACxB,GAAS,IAAM,GAAwB,MAAO,KAChD,EACA,CAAC,GAAS,EAGN,GAAyB,CAAA,EAAA,EAAA,WAAA,AAAW,EACxC,AAAC,IACC,GAAsB,GACtB,GAAS,IAAM,GAAsB,MAAO,KAC9C,EACA,CAAC,GAAS,EAGN,GAA4B,CAAA,EAAA,EAAA,WAAA,AAAW,EAC3C,AAAC,IACC,GAAyB,GACzB,GAAS,IAAM,GAAyB,MAAO,KACjD,EACA,CAAC,GAAS,EAMZ,CAAA,EAAA,EAAA,SAAA,AAAS,EAAC,KACR,GAAI,CAAC,GAAe,OACpB,IAAM,EAAQ,OAAO,UAAU,CAAC,IAAM,GAAiB,MAAO,KAC9D,MAAO,IAAM,OAAO,YAAY,CAAC,EACnC,EAAG,CAAC,GAAc,EAElB,CAAA,EAAA,EAAA,SAAA,AAAS,EAAC,IACD,KACL,GAAW,OAAO,CAAC,OAAO,CAAE,AAAD,GAAQ,OAAO,YAAY,CAAC,GACzD,EACC,EAAE,EAEL,CAAA,EAAA,EAAA,SAAA,AAAS,EAAC,KACR,IAAM,EAAW,IAAM,GAAkB,OAAO,OAAO,CAAG,GAG1D,OAFA,IACA,OAAO,gBAAgB,CAAC,SAAU,EAAU,CAAE,SAAS,CAAK,GACrD,IAAM,OAAO,mBAAmB,CAAC,SAAU,EACpD,EAAG,EAAE,EAEL,IAAM,GAAuB,CAAA,EAAA,EAAA,WAAA,AAAW,EAAC,AAAC,IACxC,IAAM,EAAa,EAAY,IAAI,GAAG,WAAW,GAOjD,GALA,EAAY,QACZ,EAAe,IAAI,IAAI,KACvB,EAAmB,IACnB,EAAiB,IAEE,YAAf,EAA0B,CAC5B,EAAkB,IAAI,IAAoB,CAAC,UAAW,UAAU,GAChE,EAAa,YACb,MACF,CAEA,GAAmB,SAAf,EAAuB,CACzB,EAAkB,IAAI,IAAoB,CAAC,UAAU,GACrD,EAAa,QACb,MACF,CAEA,GAAmB,SAAf,EAAuB,CACzB,EAAkB,IAAI,IAAoB,CAAC,UAAW,UAAU,GAChE,EAAa,OACb,MACF,CAEA,GAAmB,aAAf,EAA2B,CAC7B,EAAkB,IAAI,IAAoB,CAAC,YAAY,GACvD,EAAa,OACb,MACF,CAEA,GACiB,YAAf,GACe,cAAf,GACA,AAAe,gBACf,CACA,EAAkB,IAAI,IAAoB,CAAC,EAAW,GACtD,EAAa,OACb,MACF,CAEA,EAAkB,IAAI,IAAI,KAC1B,EAAa,MACf,EAAG,EAAE,EAEC,GAA0B,CAAA,EAAA,EAAA,WAAA,AAAW,EACzC,AAAC,IASC,EAAY,EAAK,QAAQ,EACzB,EAAe,EAAK,KAAK,EACzB,EAAe,EAAK,KAAK,EACzB,EAAkB,EAAK,QAAQ,EAC/B,EAAa,EAAK,GAAG,EACrB,EAAmB,EAAK,KAAK,EAC7B,EAAiB,EAAK,GAAG,CAC3B,EACA,EAAE,EAGE,GAAwB,CAAA,EAAA,EAAA,WAAA,AAAW,EAAC,KACxC,EAAY,QACZ,EAAe,IACf,EAAe,IAAI,IAAI,KACvB,EAAkB,IAAI,IAAI,KAC1B,EAAmB,IACnB,EAAiB,IACjB,EAAa,MACf,EAAG,EAAE,EAEL,CAAA,EAAA,EAAA,SAAA,AAAS,EAAC,KACR,IAAM,EAAc,EAAa,QAAQ,GACzC,GAAI,GAAgB,OAAO,GAAK,EAAa,OAC7C,GAAgB,OAAO,CAAG,EAE1B,IAAM,EAAc,EAAa,GAAG,CAAC,UAC/B,EAAc,EAAa,GAAG,CAAC,UAC/B,EAAa,EAAa,GAAG,CAAC,SAC9B,EAAY,EAAa,GAAG,CAAC,QAC7B,EAAkB,EAAa,GAAG,CAAC,eAAiB,EAAa,GAAG,CAAC,MACrE,EAAe,EAAa,GAAG,CAAC,WAChC,EAAY,EAAa,GAAG,CAAC,QAC7B,EAAa,EAAa,GAAG,CAAC,KAC9B,EAAa,EAAa,GAAG,CAAC,SAC9B,EAAgB,EAAa,GAAG,CAAC,YACjC,EAAW,EAAa,GAAG,CAAC,OAC5B,EAAa,EAAa,GAAG,CAAC,SAC9B,EAAW,EAAa,GAAG,CAAC,OA2ClC,GAzCgB,OAAd,GACe,OAAf,GACe,OAAf,GACkB,OAAlB,GACA,AAAa,UACb,AAAe,UACF,OAAb,EAGA,GAAwB,CACtB,SAAwB,WAAd,EAAyB,SAAW,OAC9C,MAAO,GAAc,GACrB,MAAO,GAAc,EAAY,GAAkB,IAAI,IAAI,KAC3D,SAAU,GACR,EACA,GACA,IAAI,IAAI,KAEV,IAAkB,aAAb,GAAwC,SAAb,EAAsB,EAAW,MACjE,MAAO,GAAc,GAAiB,IAAI,CAAC,GAAc,EAAa,GACtE,IAAK,GAAY,GAAiB,IAAI,CAAC,GAAY,EAAW,EAChE,GACS,GACT,GAAqB,GACrB,EAAe,EAFO,GAItB,KAGkB,UAAhB,GAA2B,EAC7B,GAAiB,CACf,KAFsC,EAE9B,UACR,KAAM,CAAC,wCAAwC,EAAE,EAAU,EAAE,CAAC,AAChE,GACS,AAAgB,aAA0B,SAAS,CAAxB,GACpC,GAAiB,CACf,OAAQ,UACR,KAAM,gDACR,GAGE,EAAiB,CACnB,IAAM,EAAiB,EAAgB,IAAI,CACxC,AAAD,GAAc,EAAS,EAAE,GAAK,GAGhC,GAAI,CAAC,EAAgB,CACnB,EAAmB,MACnB,GAAiB,CACf,OAAQ,QACR,KAAM,yDACR,GACA,MACF,CAKA,GAAI,CAAC,CAFH,IAAoB,EAAe,aAAa,GAAK,GAAM,EAAA,EAE/B,CAC5B,EAAmB,MACnB,GAAiB,CACf,OAAQ,QACR,KAAM,6CACR,GACA,MACF,CAEA,EAAmB,GAAmB,EAAe,aAAa,CAAG,MACrE,GAAsB,EAAe,EAAE,EACvC,GAAsB,EAAe,EAAE,EAEvC,GAAS,KACP,IAAM,EAAS,SAAS,cAAc,CACpC,CAAC,cAAc,EAAE,EAAe,EAAE,CAAA,CAAE,EAElC,GACF,EAAO,GADG,WACW,CAAC,CAAE,SAAU,SAAU,MAAO,QAAS,EAEhE,EAAG,IAEC,GACF,GAAyB,CACvB,KAAM,EAFQ,KAGd,QAAS,CAAC,SAAS,EAAE,AA7hB7B,AAAI,CAAC,EAAc,KAAP,OACR,AAAU,QAAQ,CA4hB8B,EA5hBvB,UACzB,AAAU,SAAS,GAAO,SAC1B,AAAU,WAAW,GAAO,UAC5B,AAAU,YAAY,GAAO,WAC1B,YAwhB2D,4CAAsC,CAAC,AACnG,EAEJ,MACE,CADK,CACc,KAEvB,EAAG,CACD,GACA,GACA,GACA,GACA,GACA,GACA,EACA,EACA,GAAM,GACP,EAED,CAAA,EAAA,EAAA,SAAA,AAAS,EAAC,KACR,GAAI,AAA4B,UAAZ,OAAO,CAAW,OAEtC,IAAM,EAAS,IAAI,gBAAgB,EAAa,QAAQ,IAClD,EAAkB,EAAY,IAAI,GAClC,EAAgB,GAAiB,MAAM,CAAE,AAAD,GAAU,EAAY,GAAG,CAAC,IAClE,EAAmB,GAAc,MAAM,CAAC,AAAC,GAC7C,EAAe,GAAG,CAAC,GAGJ,UAAb,EAAqB,EAAO,GAAG,CAAC,OAAQ,GACvC,EAAO,MAAM,CAAC,QAEf,EAAiB,EAAO,GAAG,CAAC,IAAK,GAChC,EAAO,MAAM,CAAC,KAEf,EAAc,MAAM,GAAK,GAAiB,MAAM,CAAE,EAAO,MAAM,CAAC,SAC/D,EAAO,GAAG,CAAC,QAAS,EAAc,IAAI,CAAC,MAExC,EAAiB,MAAM,GAAK,GAAc,MAAM,CAAE,EAAO,MAAM,CAAC,YAC/D,EAAO,GAAG,CAAC,WAAY,EAAiB,IAAI,CAAC,MAEhC,QAAd,EAAqB,EAAO,MAAM,CAAC,OAClC,EAAO,GAAG,CAAC,MAAO,GAEnB,EAAiB,EAAO,GAAG,CAAC,QAAS,GACpC,EAAO,MAAM,CAAC,SAEf,EAAe,EAAO,GAAG,CAAC,MAAO,GAChC,EAAO,MAAM,CAAC,OAGnB,EAAO,MAAM,CAAC,UACd,EAAO,MAAM,CAAC,MACd,EAAO,MAAM,CAAC,cACd,EAAO,MAAM,CAAC,WACd,EAAO,MAAM,CAAC,UACd,EAAO,MAAM,CAAC,SACd,EAAO,MAAM,CAAC,QAEd,IAAM,EAAY,EAAO,QAAQ,GAE7B,IADiB,EAAa,QAAQ,AACxB,KAElB,GAAgB,MAFgB,CAET,CAAG,EAC1B,EAAO,OAAO,CAAC,EAAY,CAAA,EAAG,EAAS,CAAC,EAAE,EAAA,CAAW,CAAG,EAAU,CAChE,QAAQ,CACV,GACF,EAAG,CACD,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACA,EACD,EAED,IAAM,GAAqB,CAAA,EAAA,EAAA,OAAA,AAAO,EAAC,KACjC,IAAM,EAAkB,GAAoB,IAAI,GAAG,WAAW,GAE9D,OAAO,GAAW,MAAM,CAAC,AAAC,IACxB,IAAM,EAAkB,GAAmB,EAAU,UACrD,CAAI,CAAC,EAAY,GAAG,CAAC,EAAS,IAAI,GAAG,CACjC,CAAC,EAAe,GAAG,AADqB,CACpB,MACpB,KAAmB,EAAS,KADU,EACH,CAAG,CAAA,CAAA,EADO,CACU,CACvD,MAD8D,AAC7C,EAAS,OAAO,CAAG,CAAA,CAAA,GAAe,EACnD,IAYE,CAbwD,AAElC,AAWrB,CAVH,EAAS,KAAK,CACd,EAAS,WAAW,EAAI,GACxB,EAAS,UAAU,EAAI,GACvB,EAAS,gBAAgB,EAAI,GAC7B,EAAS,eAAe,CACxB,EAAU,CAAC,EAAS,IAAI,CAAC,CAC1B,CACE,IAAI,CAAC,KACL,WAAW,GAES,QAAQ,CAAC,EAZ9B,GAAiB,CAeH,YAHkC,CAGhD,IAA4B,CAAC,CAH0B,EAGR,EAAU,GAAA,GAAM,CACjD,MADwD,GACtE,IAAwB,CAAC,GAAU,EAAU,GAAA,CAGnD,EAHyD,AAI3D,EAAG,CACD,GACA,CANgE,CAOhE,EACA,EACA,EACA,EACA,GACA,GACD,EAEK,GAAsB,CAAA,EAAA,EAAA,OAAO,AAAP,EAC1B,IACE,GAAmB,MAAM,CACvB,AAAC,GAAa,AAAoB,gBAAX,MAAM,EAAwC,cAApB,EAAS,MAAM,EAEpE,CAAC,GAAmB,EAGhB,GAAyB,CAAA,EAAA,EAAA,OAAA,AAAO,EACpC,IAAM,IAAI,IAAI,GAAoB,GAAG,CAAC,AAAC,GAAa,EAAS,EAAE,GAC/D,CAAC,GAAoB,EAGjB,GAAuB,CAAA,EAAA,EAAA,OAAA,AAAO,EAClC,IACE,MAAM,IAAI,CAAC,IAAqB,MAAM,CAAC,AAAC,GACtC,GAAuB,GAAG,CAAC,IAE/B,CAAC,GAAqB,GAAuB,EAGzC,GACJ,GAAoB,MAAM,CAAG,GAC7B,GAAqB,MAAM,GAAK,GAAoB,MAAM,CAEtD,GAA0B,CAAA,EAAA,EAAA,WAAA,AAAW,EAAC,AAAC,IAC3C,GAAuB,AAAC,IACtB,IAAM,EAAO,IAAI,IAAI,GAGrB,OAFI,EAAK,GAAG,CAAC,GAAa,EAAK,MAAM,CAAC,GACjC,EAAK,GAAG,CAAC,GACP,CACT,EACF,EAAG,EAAE,EAEC,GAAmC,CAAA,EAAA,EAAA,WAAA,AAAW,EAAC,AAAC,IACpD,AAAK,EAKL,EALI,CAKmB,IALT,AAKa,IAAI,GAAoB,GAAG,CAAC,AAAC,GAAa,EAAS,EAAE,IAJ9E,GAAuB,IAAI,IAK/B,EAAG,CAAC,GAAoB,EAElB,GAA0B,CAAA,EAAA,EAAA,WAAA,AAAW,EAAC,KAC1C,GAAuB,IAAI,IAC7B,EAAG,EAAE,EAEC,GAA2B,CAAA,EAAA,EAAA,OAAA,AAAO,EAAC,KACvC,IAAM,EAAS,IAAI,IAEnB,IAAK,IAAM,KAAY,GAAqB,CAC1C,IAAM,EAAM,EAAS,OAAO,CACtB,EAAO,EAAO,GAAG,CAAC,IAAQ,EAAE,CAClC,EAAK,IAAI,CAAC,GACV,EAAO,GAAG,CAAC,EAAK,EAClB,CAEA,IAAK,GAAM,CAAC,EAAK,EAAK,GAAI,EAAO,OAAO,GACtC,AAD0C,EACrC,IAAI,CAAC,CAAC,EAAG,IAAM,CAAC,EAAE,OAAO,EAAI,OAAA,CAAO,CAAE,aAAa,CAAC,EAAE,OAAO,EAAI,UACtE,EAAO,GAAG,CAAC,EAAK,GAGlB,OAAO,CACT,EAAG,CAAC,GAAoB,EAElB,GAAe,CAAA,EAAA,EAAA,OAAA,AAAO,EAAC,KAC3B,ME11BI,MF01BE,EAAa,GAAa,IAC1B,EEh2BD,IAAI,KAAK,AFg2BG,GEh2BE,WAAW,GAAI,AFg2BN,GEh2BW,QAAQ,GAAK,EAAG,GFi2BjD,KE51BI,CADN,EAAQ,IF61BM,AE71BF,KAAK,EAAK,WAAW,GAAI,AF61BX,EE71BgB,QAAQ,GAAI,EAAK,OAAO,KACtD,MAAM,GACjB,GAAQ,EAAO,CAAC,IF41Bf,GEv1BF,EAAM,CADN,EAAM,EFw1BM,EEx1BF,KAAK,EAAK,WAAW,GAAI,EAAK,QAAQ,GAAI,AFw1B9B,EEx1BmC,OAAO,KACtD,MAAM,GACf,GAAQ,EAAK,EAAI,IFw1BhB,EAAe,EAAE,CACnB,EAAS,EAEb,KAAO,EAAO,OAAO,IAAM,EAAQ,OAAO,GAAI,CAC5C,EAAK,IAAI,CAAC,GACV,EAAS,GAAQ,EAAQ,GAG3B,OAAO,CACT,EAAG,CAAC,GAAc,EAEZ,GAAgC,CAAA,EAAA,EAAA,OAAA,AAAO,EAAC,IACrC,GAAyB,GAAG,CAAC,KAAyB,EAAE,CAC9D,CAAC,GAA0B,GAAqB,EAE7C,GAAoB,CAAA,EAAA,EAAA,OAAA,AAAO,EAC/B,IACE,GACG,MAAM,CAAC,AAAC,GAAa,GAAkB,EAAU,KACjD,IAAI,CAAC,CAAC,EAAG,IAAM,GAAa,EAAE,OAAO,EAAE,OAAO,GAAK,GAAa,EAAE,OAAO,EAAE,OAAO,IACvF,CAAC,GAAqB,GAAI,EAGtB,GAAkB,CAAA,EAAA,EAAA,OAAA,AAAO,EAAC,KAC9B,IAAM,EAAY,GAAW,IAAK,OAAO,GACzC,OAAO,GACJ,MAAM,CAAE,AAAD,GACN,CAAI,GAAkB,EAAU,KACzB,CAD+B,EACpB,GAAa,EADc,AACL,OAAO,GAAG,OAAO,KAAO,GAEjE,IAAI,CAAC,CAAC,EAAG,IAAM,CAAC,EAAE,OAAO,EAAI,OAAA,CAAO,CAAE,aAAa,CAAC,EAAE,OAAO,EAAI,SACtE,EAAG,CAAC,GAAqB,GAAI,EAEvB,GAAkB,CAAA,EAAA,EAAA,OAAA,AAAO,EAAC,KAC9B,IAAM,EAAY,GAAW,IACvB,EAAY,GAAQ,EAAW,GAErC,OAAO,GACJ,MAAM,CAAC,AAAC,IACP,GAAI,GAAkB,EAAU,IAAM,OAAO,EAC7C,IAAM,EAAM,GAAW,GAAa,EAAS,OAAO,GACpD,OAAO,EAAM,GAAa,GAAO,CACnC,GACC,IAAI,CAAC,CAAC,EAAG,KACR,IAAM,EAAO,GAAa,EAAE,OAAO,EAAE,OAAO,GAAK,GAAa,EAAE,OAAO,EAAE,OAAO,UAChF,AAAa,GAAG,CAAZ,EAAmB,EAChB,CAAC,EAAE,OAAO,EAAI,OAAA,CAAO,CAAE,aAAa,CAAC,EAAE,OAAO,EAAI,QAC3D,EACJ,EAAG,CAAC,GAAqB,GAAI,EAEvB,GAAmB,CAAA,EAAA,EAAA,OAAA,AAAO,EAAC,KAC/B,IAAM,EAAY,GAAQ,GAAW,IAAM,GAE3C,OAAO,GACJ,MAAM,CAAC,AAAC,GACP,CAAI,GAAkB,EAAU,KACpB,AACL,CAF+B,EACf,GAAa,EADS,AACA,OAAO,GACvC,GAEd,IAAI,CAAC,CAAC,EAAG,KACR,IAAM,EAAO,GAAa,EAAE,OAAO,EAAE,OAAO,GAAK,GAAa,EAAE,OAAO,EAAE,OAAO,UAChF,AAAa,GAAG,CAAZ,EAAmB,EACf,AAAD,GAAG,OAAO,EAAI,OAAA,CAAO,CAAE,aAAa,CAAC,EAAE,OAAO,EAAI,QAC3D,EACJ,EAAG,CAAC,GAAqB,GAAI,EAEvB,GAAsB,CAAA,EAAA,EAAA,OAAA,AAAO,EACjC,IACE,GACG,MAAM,CAAC,AAAC,GAAiC,cAApB,EAAS,MAAM,EACpC,IAAI,CAAC,CAAC,EAAG,KACR,IAAM,EAAQ,EAAE,WAAW,EAAI,EAAE,OAAO,CAExC,MAAO,CADO,EAAE,WAAW,EAAI,EAAE,OAAA,AAAO,EAC3B,aAAa,CAAC,EAC7B,GACJ,CAAC,GAAmB,EAGhB,GAAe,GAAkB,MAAM,CACvC,GAAY,GAAoB,MAAM,CAAC,AAAC,GAAa,GAAU,EAAU,KAAM,MAAM,CACrF,GAAiB,CAAA,EAAA,EAAA,OAAA,AAAO,EAC5B,WEv4BI,YFw4BF,CAAA,EAAG,AE74BD,EAAQ,IAAI,KAAK,cAAc,CAAC,QAAS,CAC7C,QAAS,QACT,IAAK,UACL,MAAO,OACT,GAAG,aAAa,CAAC,AFy4Ba,MEx4Bd,CAAC,EAAM,IAAI,CAAC,AAAC,GAAuB,YAAd,EAAK,IAAI,GAAiB,OAAS,EAAA,CAAE,CACxE,UAAU,CAAC,IAAK,IAChB,IAAI,GACD,EAAM,EAAM,IAAI,CAAC,AAAC,GAAuB,QAAd,EAAK,IAAI,GAAa,OAAS,GAC1D,EAAQ,CAAC,EAAM,IAAI,CAAC,AAAC,GAAuB,UAAd,EAAK,IAAI,GAAe,OAAS,EAAA,CAAE,CACpE,UAAU,CAAC,IAAK,IAChB,IAAI,GACA,CAAA,EAAG,EAAQ,MAAM,CAAC,GAAG,WAAW,GAAK,EAAQ,KAAK,CAAC,GAAG,EAAE,EAAE,EAAI,CAAC,EAAE,EAAA,CAAO,CFi4B5C,cAAQ,EAAE,GAAM,MAAM,OAAO,MAAM,IAAI,CAAC,EAAE,EAAI,WAAA,CAC3E,EACJ,CAAC,GAAK,GAAM,KAAK,EAGb,GAAa,CAAA,EAAA,EAAA,OAAA,AAAO,EAAC,KACzB,IAAM,EAAuC,CAC3C,KAAM,EACN,MAAO,EACP,QAAS,EACT,MAAO,EACP,KAAM,EACN,YAAa,EACb,SAAU,CACZ,EAEA,IAAK,IAAM,KAAY,GACrB,CAAM,CAAC,EAAS,IAAI,CAAC,EAAI,EAG3B,GAJ2C,IAIpC,CACT,EAAG,CAAC,GAAmB,EAEjB,GAAc,CAAA,EAAA,EAAA,OAAA,AAAO,EAAC,IACnB,OAAO,OAAO,CAAC,IAAY,IAAI,CAAC,CAAC,EAAG,IAAM,CAAC,CAAC,EAAE,CAAG,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAG/D,CAAC,GAAW,EAET,GAAuB,CAAA,EAAA,EAAA,OAAA,AAAO,EAAC,KACnC,IAAM,EAAY,GAAW,IACvB,EAAY,GAAQ,EAAW,CAAC,GAEhC,EAAY,GAAmB,MAAM,CAAC,AAAC,IAC3C,IAAM,EAAM,GAAW,GAAa,EAAS,OAAO,GACpD,OAAO,GAAO,GAAa,GAAO,CACpC,UAEA,AAAyB,GAAG,CAAxB,EAAU,MAAM,CAAe,EAG5B,KAAK,KAAK,CADM,AACJ,EADc,MAAM,CAAC,AAAC,GAAiC,cAApB,EAAS,MAAM,EAAkB,MAAM,CACzD,EAAU,MAAM,CAAI,IAC1D,EAAG,CAAC,GAAoB,GAAI,EAEtB,GAAmC,CAAA,EAAA,EAAA,OAAA,AAAO,EAC9C,IAAM,OAnyBF,SApBA,EAAS,IAuzBc,GAvzBC,CAAC,IAAI,CAAC,CAAC,EAAG,KACtC,IAAM,EAAO,GAAa,EAAE,OAAO,EAAE,OAAO,GACtC,EAAO,GAAa,EAAE,OAAO,EAAE,OAAO,GAEtC,EACyB,AAA7B,MAAC,CAAmC,CAAC,CAAlB,EAkzB2B,CAlzBxB,AACtB,GAA0B,KAAd,CAAoB,CAAC,IACjC,QADC,EAAE,IAAI,AAAK,EACS,IAAT,CAAc,CAAC,IAC3B,GADC,EAAE,IAAI,AAAK,EACc,GAAzB,CAAa,CAAiB,CAAC,YAA7B,MAAM,AAAK,EACV,EACJ,AAA6B,MAA5B,CAAmC,CAAC,CAAlB,GAAG,AACtB,GAA0B,IAAzB,CAAW,CAAoB,CAAC,IACjC,UADG,IAAI,AAAK,EACS,IAAT,CAAc,CAAC,IAC3B,GADC,EAAE,IAAI,AAAK,EACc,IAAZ,CAAiB,CAAC,UAA/B,EAAE,MAAM,AAAK,SAEZ,AAAJ,IAAe,EAAe,EAAS,EACnC,EADmB,EACV,EAAa,EAAO,EAAd,AACZ,EAAE,KAAK,CAAC,aAAa,CAAC,EAAE,KAAK,CACtC,KAqyBuD,AAnyBxC,GAAO,EACf,EAAO,KAAK,CAAC,EAAQ,EAAS,GAAG,GAAG,CAAC,CAAC,EAAU,KACrD,IAAM,EAAU,CAAA,EAAG,EAAS,UAAU,EAAI,EAAS,gBAAgB,EAAI,eAAe,MAAG,EAAE,EAAU,CAAC,EAAS,IAAI,CAAC,CAAA,CAAE,CAChH,EAAU,GAAkB,MAElC,IAF4C,EAErC,CACL,GAAI,CAAC,iBAAiB,EAAE,EAAS,EAAE,CAAA,CAAE,CACrC,WAAY,EAAS,EAAE,CACvB,MAAiB,IAAV,EAAc,kBAAoB,2BACzC,EACA,IAAK,EACD,yDACA,0DACJ,mBAAoB,oBACpB,WACoB,SAAlB,EAAS,IAAI,EAAiC,aAAlB,EAAS,IAAI,CACrC,OACkB,YAAlB,EAAS,IAAI,CACX,UACA,SACV,CACF,IA+wBE,CAAC,GAAqB,GAAK,GAAS,EAGhC,GAAmB,CAAA,EAAA,EAAA,OAAA,AAAO,EAC9B,IAAM,GAAW,IAAI,CAAE,AAAD,GAAc,EAAS,EAAE,GAAK,KAAuB,KAC3E,CAAC,GAAY,GAAmB,EAG5B,GAAuB,CAAA,EAAA,EAAA,OAAA,AAAO,EAClC,IAAM,GAAW,IAAI,CAAC,AAAC,GAAa,EAAS,EAAE,GAAK,KAA2B,KAC/E,CAAC,GAAY,GAAuB,EAGhC,GACJ,CAAC,GAAU,EAAa,KACxB,CAAC,GAAU,EAAgB,KACP,KAApB,GACkB,KAAlB,GACc,QAAd,GACA,AAAuB,OAAX,IAAI,GAEZ,GAAoB,CAAA,EAAA,EAAA,OAAA,AAAO,EAAC,KAChC,IAAM,EAAoE,EAAE,CAsE5E,OApEI,EAAY,IAAI,CAAG,GAAiB,MAAM,EAAE,AAC9C,GAAiB,OAAO,CAAC,AAAC,IACnB,EAAY,GAAG,CAAC,IACrB,EAAM,CADsB,GAClB,CAAC,CACT,GAAI,CAAC,KAAK,EAAE,EAAA,CAAM,CAClB,MAAO,CAAC,MAAM,EAAE,EAAU,CAAC,EAAK,CAAA,CAAE,CAClC,SAAU,KACR,EAAe,AAAC,IACd,IAAM,EAAO,IAAI,IAAI,SAErB,CADA,EAAK,MAAM,CAAC,GACM,GAAG,CAAjB,EAAK,IAAI,EAAe,IAAI,IAAI,IAC7B,CACT,EACF,CACF,EACF,GAGE,AAAC,GAAU,EAAgB,KAC7B,GAAe,OAAO,CAAC,AAAC,IACjB,EAAe,EAF+B,CAE5B,CAAC,EAAO,KAAK,GACpC,AADuC,EACjC,IAAI,CAAC,CACT,GAAI,CAAC,OAAO,EAAE,EAAO,KAAK,CAAA,CAAE,CAC5B,MAAO,CAAC,QAAQ,EAAE,EAAO,KAAK,CAAA,CAAE,CAChC,SAAU,KACR,EAAkB,AAAC,IACjB,IAAM,EAAO,IAAI,IAAI,SAErB,CADA,EAAK,MAAM,CAAC,EAAO,KAAK,EACN,GAAG,CAAjB,EAAK,IAAI,EAAe,IAAI,IAAI,IAC7B,CACT,EACF,CACF,EACF,GAGE,GACF,EAAM,IAAI,CAAC,CACT,GAAI,GAFa,UAGjB,MAAO,CAAC,IAAI,EAAE,GAAa,GAAA,CAAkB,CAC7C,SAAU,IAAM,EAAmB,GACrC,GAGE,GACF,EAAM,IAAI,CAAC,CACT,GAAI,CAFW,UAGf,MAAO,CAAC,QAAK,EAAE,GAAa,GAAA,CAAgB,CAC5C,SAAU,IAAM,EAAiB,GACnC,GAGgB,OAAO,CAArB,GACF,EAAM,IAAI,CAAC,CACT,GAAI,MACJ,MAAO,CAAC,KAAK,EAAgB,aAAd,EAA2B,YAAc,WAAA,CAAY,CACpE,SAAU,IAAM,EAAa,MAC/B,GAGE,EAAY,IAAI,IAAI,AACtB,EAAM,IAAI,CAAC,CACT,GAAI,SACJ,MAAO,CAAC,QAAQ,EAAE,EAAY,IAAI,GAAG,CAAC,CAAC,CACvC,SAAU,IAAM,EAAe,GACjC,GAGK,CACT,EAAG,CACD,EACA,EACA,EACA,EACA,EACA,EACD,EAEK,GAAe,CAAA,EAAA,EAAA,WAAA,AAAW,EAAC,KAC/B,EAAe,IAAI,IAAI,KACvB,EAAkB,IAAI,IAAI,KAC1B,EAAmB,IACnB,EAAiB,IACjB,EAAa,OACb,EAAe,IACf,GAAuB,IAAI,IAC7B,EAAG,EAAE,EAEC,GAAgB,CAAA,EAAA,EAAA,WAAA,AAAW,EAAC,AAAC,IACjC,GAAqB,AAAC,IAAU,CAC9B,EAD6B,CAC1B,CAAI,CACP,CAAC,EAAI,CAAE,CAAC,CAAI,CAAC,EAAI,CACnB,CAAC,CACH,EAAG,EAAE,EAEC,GAAqB,CAAA,EAAA,EAAA,WAAA,AAAW,EAAC,KACrC,IAAc,GACd,GAAiB,AAAC,IAAU,CAAE,EAAH,CAAM,CAAI,CAAE,aAAc,KAAK,CAAC,EAE3D,GAAS,KACP,GAAI,AAA+B,OAAX,MAAM,CAAQ,CACpC,IAAc,GACd,GAAiB,AAAC,IAAU,CAC1B,EADyB,CACtB,CAAI,CACP,aAAc,sDAChB,CAAC,GACD,GAAyB,CACvB,KAAM,QACN,QAAS,sDACX,GACA,MACF,CAEA,GAAa,AAAD,GAAU,EAAO,GAC7B,GAAiB,CACf,OAAQ,UACR,KAAM,kDACR,GACA,GAAyB,CACvB,KAAM,UACN,QAAS,kDACX,GACA,IAAc,EAChB,EAAG,IACL,EAAG,CAAC,GAAoB,MAAM,CAAE,GAA0B,GAAS,EAE7D,GAA2B,CAAA,EAAA,EAAA,WAAA,AAAW,EAAC,KAC3C,EAAY,QACZ,EAAkB,IAAI,IAAoB,CAAC,UAAW,UAAU,GAChE,EAAa,YACb,EAAmB,IACnB,EAAiB,GACnB,EAAG,EAAE,EAEC,GAAyB,CAAA,EAAA,EAAA,WAAA,AAAW,EAAC,KACzC,IAAM,EAAW,GAAU,GAAW,KACtC,EAAY,QACZ,EAAkB,IAAI,IAAoB,CAAC,UAAW,UAAU,GAChE,EAAmB,GACnB,EAAiB,GACjB,EAAa,MACf,EAAG,CAAC,GAAI,EAEF,GAA2B,CAAA,EAAA,EAAA,WAAA,AAAW,EAAC,KAC3C,EAAY,QACZ,EAAkB,IAAI,IAAoB,CAAC,UAAU,GACrD,EAAa,QACb,EAAmB,IACnB,EAAiB,GACnB,EAAG,EAAE,EAEC,GAA8B,CAAA,EAAA,EAAA,WAAA,AAAW,EAC7C,AAAC,IACC,AAAK,IAAD,AAQJ,GAAwB,AAAC,GAAU,EACjC,EADgC,CAC7B,CAAI,CACP,CAAC,EAAe,EAAE,CAAC,CAAE,GAVS,OAWhC,CAAC,EAED,GAAS,KACP,IAAM,EAAS,GAAW,IAAI,CAAE,AAAD,GAAU,EAAK,EAAE,GAAK,EAAe,UAAU,EAE9E,GAAI,CAAC,EAAQ,CACX,GAAwB,AAAC,IAAU,CACjC,EADgC,CAC7B,CAAI,CACP,CAAC,EAAe,EAAE,CAAC,CAAE,OACvB,CAAC,GACD,GAAS,KACP,GAAwB,AAAC,IAAU,CACjC,EADgC,CAC7B,CAAI,CACP,CAAC,EAAe,EAAE,CAAC,CAAE,OACvB,CAAC,CACH,EAAG,MACH,MACF,CAEA,GAAsB,EAAO,EAAE,EAC/B,GAAsB,EAAO,EAAE,EAE/B,GAAwB,AAAC,IAAU,CACjC,EADgC,CAC7B,CAAI,CACP,CAAC,EAAe,EAAE,CAAC,CAAE,UACvB,CAAC,EAED,GAAiB,CACf,OAAQ,UACR,KACgC,YAA9B,EAAe,UAAU,CACrB,CAAC,wBAAwB,EAAE,EAAO,UAAU,EAAI,EAAO,gBAAgB,EAAI,YAAY,CAAC,CAAC,CAC3D,SAA9B,EAAe,UAAU,CACvB,CAAC,iCAAiC,EAAE,EAAO,UAAU,EAAI,EAAO,gBAAgB,EAAI,YAAY,CAAC,CAAC,CAClG,CAAC,0CAAoC,EAAE,EAAO,UAAU,EAAI,EAAO,gBAAgB,EAAI,YAAY,CAAC,CAAC,AAC/G,GAEA,GAAS,KACP,GAAwB,AAAC,GAAU,EACjC,EADgC,CAC7B,CAAI,CACP,CAAC,EAAe,EAAE,CAAC,CAAE,OACvB,CAAC,CACH,EAAG,KACL,EAAG,MArDD,GAAiB,CACf,OAAQ,QACR,KAAM,4DACR,EAmDJ,EACA,CAAC,GAAY,GAA2B,GAAS,EAG7C,GAAuC,CAAA,EAAA,EAAA,WAAA,AAAW,EAAC,AAAC,IACxD,GAAsB,GACtB,GAAsB,GAEtB,IAAM,EAAS,SAAS,cAAc,CAAC,CAAC,cAAc,EAAE,EAAA,CAAY,EAChE,GACF,EAAO,GADG,WACW,CAAC,CAAE,SAAU,SAAU,MAAO,QAAS,EAEhE,EAAG,EAAE,EAEC,GAAwB,CAAA,EAAA,EAAA,WAAA,AAAW,EAAC,AAAC,IACzC,GAAqB,AAAD,IAClB,IAAM,EAAO,CAAE,GAAG,CAAI,AAAC,EAEvB,OADA,OAAO,CAAI,CAAC,EAAW,CAChB,CACT,EACF,EAAG,EAAE,EAEC,GAAqB,CAAA,EAAA,EAAA,WAAA,AAAW,EACpC,CAAC,EAAoB,KACnB,GAAoB,AAAC,IAAU,CAC7B,EAD4B,CACzB,CAAI,CACP,CAAC,EAAW,CAAE,CAAE,MAAO,QAAS,SAAQ,EAC1C,CAAC,EAED,GAAS,KACP,GAAsB,EACxB,EAAG,KACL,EACA,CAAC,GAAuB,GAAS,EAG7B,GAAyB,CAAA,EAAA,EAAA,WAAA,AAAW,EACxC,AAAC,GAAuB,GAAW,IAAI,CAAC,AAAC,GAAa,EAAS,EAAE,GAAK,GACtE,CAAC,GAAW,EAGR,GAAyB,CAAA,EAAA,EAAA,WAAA,AAAW,EACxC,CAAC,EAAoB,KACd,AAAL,GAKK,CALD,EAKwB,IAK5B,GAAoB,AAAC,IAAU,CAC7B,CANuC,CAKX,CACzB,CAAI,CACP,CAAC,EAAW,CAAE,AAZgB,CAYd,MAAO,kBAAmB,EAC5C,CAAC,EAED,GAAS,KACP,GAAI,CACF,EAAiB,EAAY,GAC7B,GAAoB,AAAC,IAAU,CAC7B,EAD4B,CACzB,CAAI,CACP,CAAC,EAAW,CAAE,CAAE,MAAO,mBAAoB,QAAS,WAAY,EAClE,CAAC,CACH,CAAE,KAAM,CACN,GAAoB,AAAC,IAAU,CAC7B,EAD4B,CACzB,CAAI,CACP,CAAC,EAAW,CAAE,CAAE,MAAO,QAAS,QAAS,8BAA+B,EAC1E,CAAC,CACH,CACF,EAAG,KAEH,GAAS,KACP,GAAsB,EACxB,EAAG,OA1BD,GAAmB,EAAY,4CAL/B,GAAmB,EAAY,mDAgCnC,EACA,CACE,GACA,GACA,GACA,EACA,GACA,GACD,EAGG,GAAuB,CAAA,EAAA,EAAA,WAAA,AAAW,EACtC,AAAC,IACC,AAAK,GAKA,CALD,EAKwB,IAK5B,GAAqB,AAAD,IAAW,CAC7B,CANuC,AALjB,CAUM,CACzB,CAAI,CACP,CAAC,EAAW,CAAE,CAAE,MAAO,gBAAiB,CAC1C,CAAC,GAED,GAAS,KACP,GAAI,CACF,EAAe,GACf,GAAoB,AAAC,IAAU,CAC7B,EAD4B,CACzB,CAAI,CACP,CAAC,EAAW,CAAE,CAAE,MAAO,mBAAoB,QAAS,WAAY,CAClE,CAAC,EACH,CAAE,KAAM,CACN,GAAoB,AAAC,GAAU,EAC7B,EAD4B,CACzB,CAAI,CACP,CAAC,EAAW,CAAE,CAAE,MAAO,QAAS,QAAS,8BAA+B,EAC1E,CAAC,CACH,CACF,EAAG,KAEH,GAAS,KACP,GAAsB,EACxB,EAAG,OA1BD,GAAmB,EAAY,4CAL/B,GAAmB,EAAY,mDAgCnC,EACA,CACE,GACA,GACA,EACA,GACA,GACA,GACD,EAGG,GAAyB,CAAA,EAAA,EAAA,WAAA,AAAW,EACxC,CAAC,EAAoB,KACnB,AAAK,GAKA,CALD,EAKwB,GAKvB,GAAiB,IAAI,CAAC,EALc,CAWrC,EADa,GAAU,EALU,AAVL,CAeM,EACxB,GACZ,GAAmB,EAAY,EADT,qCAKxB,GAAqB,AAAD,GAAW,EAC7B,EAD4B,CACzB,CAAI,CACP,CAAC,EAAW,CAAE,CAAE,MAAO,kBAAmB,EAC5C,CAAC,EAED,GAAS,KACP,GAAI,CACF,EAAiB,EAAY,GAC7B,GAA0B,GAC1B,GAAoB,AAAC,IAAU,CAC7B,EAD4B,CACzB,CAAI,CACP,CAAC,EAAW,CAAE,CACZ,MAAO,mBACP,QAAS,CAAC,gBAAgB,EAAE,GAAa,GAAA,CAAU,AACrD,EACF,CAAC,CACH,CAAE,KAAM,CACN,GAAoB,AAAC,GAAU,EAC7B,EAD4B,CACzB,CAAI,CACP,CAAC,EAAW,CAAE,CAAE,MAAO,QAAS,QAAS,+BAAgC,EAC3E,CAAC,CACH,CACF,EAAG,KAEH,GAAS,KACP,GAA0B,AAAC,GAAa,IAAY,EAAa,KAAO,GACxE,GAAsB,EACxB,EAAG,OArCD,GAAmB,EAAY,mCAL/B,GAAmB,EAAY,4CAL/B,GAAmB,EAAY,oDAgDnC,EACA,CACE,GACA,GACA,GACA,GACA,GACA,EACA,GACD,EAGG,GAAsC,CAAA,EAAA,EAAA,WAAA,AAAW,EAAC,KACtD,GAAI,AAAgC,GAAG,IAAd,MAAM,EAE/B,GAAI,CAAC,GAA2B,CAC9B,GAAiB,CACf,OAAQ,QACR,KAAM,0DACR,GACA,GAAuB,CACrB,KAAM,QACN,QAAS,0DACX,GACA,MACF,CAEA,IAA2B,GAC7B,EAAG,CAAC,GAA2B,GAAwB,GAAqB,MAAM,CAAC,EAE7E,GAAsC,CAAA,EAAA,EAAA,WAAA,AAAW,EAAC,KACtD,GAAoC,IAAhC,GAAqB,MAAM,CAAQ,YACrC,IAA2B,GAI7B,IAAI,EAAe,EACf,EAAc,EAClB,GAAqB,OAAO,CAAC,AAAC,IAC5B,GAAI,CAAC,GAAuB,GAAa,CACvC,GAAe,EACf,MACF,CACA,GAAuB,GACvB,GAAgB,CAClB,GACA,KACA,GAA2B,IAC3B,IAAM,EACJ,EAAc,EACV,CAAA,EAAG,EAAa,kBAAe,EAAE,EAAY,yBAAsB,CAAC,CACpE,CAAA,EAAG,EAAa,sCAAmC,CAAC,CAC1D,GAAiB,CACf,OAAQ,EAAc,EAAI,QAAU,UACpC,KAAM,CACR,GACA,GAAuB,CACrB,KAAM,EAAc,EAAI,QAAU,kBAClC,CACF,EACF,EAAG,CACD,GACA,GACA,GACA,GACA,GACD,EAEK,GAAoC,CAAA,EAAA,EAAA,WAAA,AAAW,EAAC,KACpD,GAAoC,GAAG,CAAnC,GAAqB,MAAM,EAE/B,GAAI,CAAC,GAAmB,CACtB,GAAiB,CACf,OAAQ,QACR,KAAM,0DACR,GACA,GAAuB,CACrB,KAAM,QACN,QAAS,0DACX,GACA,MACF,CAEA,IAAyB,GAC3B,EAAG,CAAC,GAAmB,GAAwB,GAAqB,MAAM,CAAC,EAErE,GAAoC,CAAA,EAAA,EAAA,WAAA,AAAW,EAAC,KACpD,GAAoC,AAAhC,OAAqB,MAAM,CAAQ,YACrC,IAAyB,GAI3B,IAAI,EAAe,EACf,EAAc,EAClB,GAAqB,OAAO,CAAC,AAAC,IAC5B,GAAI,CAAC,GAAuB,GAAa,CACvC,GAAe,EACf,MACF,CACA,GAAqB,GACrB,GAAgB,CAClB,GACA,KACA,IAAyB,GACzB,IAAM,EACJ,EAAc,EACV,CAAA,EAAG,EAAa,eAAe,EAAE,EAAY,yBAAsB,CAAC,CACpE,CAAA,EAAG,EAAa,mCAAmC,CAAC,CAC1D,GAAiB,CACf,OAAQ,EAAc,EAAI,QAAU,UACpC,KAAM,CACR,GACA,GAAuB,CACrB,KAAM,EAAc,EAAI,QAAU,kBAClC,CACF,EACF,EAAG,CACD,GACA,GACA,GACA,GACA,GACD,EAEK,GAA+B,CAAA,EAAA,EAAA,WAAW,AAAX,EAClC,AAAD,IACE,GAAoC,IAAhC,GAAqB,MAAM,CAAQ,OAEvC,GAAI,CAAC,GAA2B,CAC9B,GAAiB,CACf,OAAQ,QACR,KAAM,2DACR,GACA,GAAuB,CACrB,KAAM,QACN,QAAS,2DACX,GACA,MACF,CAEA,GAAI,CAAC,GAAiB,IAAI,CAAC,GAAa,YACtC,GAAuB,CACrB,KAAM,QACN,QAAS,2CACX,GAKF,GAAI,EADa,GAAU,GAAW,KACrB,AAAU,YACzB,GAAuB,CACrB,KAAM,QACN,QAAS,4CACX,GAIF,IAAI,EAAe,EACf,EAAc,EAClB,GAAqB,OAAO,CAAC,AAAC,IAC5B,GAAI,CAAC,GAAuB,GAAa,CACvC,GAAe,EACf,MACF,CACA,GAAuB,EAAY,GACnC,GAAgB,CAClB,GACA,KACA,IAAoB,GACpB,GAA0B,IAC1B,IAAM,EACJ,EAAc,EACV,CAAA,EAAG,EAAa,gBAAgB,EAAE,EAAY,yBAAsB,CAAC,CACrE,CAAA,EAAG,EAAa,iCAAiC,EAAE,GAAa,GAAY,CAAC,CAAC,CACpF,GAAiB,CACf,OAAQ,EAAc,EAAI,QAAU,UACpC,KAAM,CACR,GACA,GAAuB,CACrB,KAAM,EAAc,EAAI,QAAU,kBAClC,CACF,EACF,EACA,CACE,GACA,GACA,GACA,GACA,GACA,GACA,GACD,EAGG,GAAqC,CAAA,EAAA,EAAA,WAAA,AAAW,EACpD,AAAC,IACC,IAAM,EAAU,GAAmB,EAAU,IACvC,EACJ,EAAS,UAAU,EAAI,EAAS,gBAAgB,EAAI,wBAEtD,GAAsB,EAAS,EAAE,EACjC,GAAoB,CAClB,MAAO,CAAC,wBAAqB,EAAE,EAAA,CAAc,CAC7C,QAAS,CAAC;AAAkB,EAAE,EAAQ,OAAO,CAAC;AAAA;AAAA;AAAoB,EAAE,EAAQ,QAAQ,CAAC;AAAA;AAAA;AAAuB,EAAE,EAAQ,IAAI,CAAA,CAAE,AAC9H,GACA,IAAsB,GACtB,GAAiB,CACf,OAAQ,UACR,KAAM,CAAC,gDAA6C,EAAE,EAAa,CAAC,CAAC,AACvE,GAEA,GAAoB,AAAC,IAAU,CAC7B,EAD4B,CACzB,CAAI,CACP,CAAC,EAAS,EAAE,CAAC,CAAE,CACb,MAAO,OACP,QAAS,uCACX,EACF,CAAC,EACD,GAAS,IAAM,GAAsB,EAAS,EAAE,EAAG,KACrD,EACA,CAAC,GAAuB,GAAK,GAAS,EAGlC,GAAyB,CAAA,EAAA,EAAA,WAAA,AAAW,EACxC,AAAC,IACC,IAAM,EAAU,GAAmB,EAAU,IACvC,EACJ,EAAS,UAAU,EAAI,EAAS,gBAAgB,EAAI,wBAEtD,GAAsB,EAAS,EAAE,EACjC,GAAoB,CAClB,MAAO,CAAC,eAAY,EAAE,EAAA,CAAc,CACpC,QAAS,EAAQ,OAAO,AAC1B,GACA,GAAsB,IACtB,GAAiB,CACf,OAAQ,UACR,KAAM,CAAC,sBAAsB,EAAE,EAAa,CAAC,CAAC,AAChD,GAEA,GAAoB,AAAC,IAAU,CAC7B,EAD4B,CACzB,CAAI,CACP,CAAC,EAAS,EAAE,CAAC,CAAE,CACb,MAAO,OACP,QAAS,uCACX,EACF,CAAC,EACD,GAAS,IAAM,GAAsB,EAAS,EAAE,EAAG,KACrD,EACA,CAAC,GAAuB,GAAK,GAAS,EAGlC,GAAmB,CAAA,EAAA,EAAA,WAAA,AAAW,EAClC,AAAC,IACC,GAAoB,GAEpB,GAAS,KACP,GAAkB,gBAAgB,CAA9B,EACF,EAAa,YACb,EAAY,QACZ,GAAiB,CACf,OAAQ,UACR,KAAM,qCACR,QACK,GAAkB,gBAAd,EAA6B,CACtC,GAAoB,MACpB,EAAO,IAAI,CAAC,wBACZ,MACF,EADU,IACH,GAAkB,gBAAgB,CAA9B,EACT,GAAoB,CAFkB,AAGpC,MAAO,mBACP,QAAS,CAAC;AAAA,gBAAgD,EAAE,GAAoB,MAAM,CAAC;AAAA,aAAe,EAAE,aAAa;AAAA,iBAAmB,EAAE,UAAU;AAAA;AAAA,qGAAsG,CAAC,AAC7P,GACA,IAAsB,GACtB,GAAiB,CACf,OAAQ,UACR,KAAM,iDACR,QACK,GAAkB,kBAAd,EAA+B,CACxC,GAAqB,IAAjB,GAAoB,CACtB,GAAiB,CACf,OAAQ,QACR,KAAM,2DACR,GACA,GAAoB,MACpB,MACF,CAEA,GAAoB,CAClB,MAAO,2BACP,QAAS,CAAC;AAAA;AAAA,wGAAwN,CAAC,AACrO,GACA,IAAsB,GACtB,GAAiB,CAAE,OAAQ,UAAW,KAAM,gCAAiC,EAC/E,KAAyB,EAAlB,aAAiC,CAA7B,GACT,GAAoB,CAClB,MAAO,oBACP,QAAS,CAAC,wCAAkC,EAAE,GAAM,MAAQ,YAAY;AAAA;AAAA;AAAA;AAAA,oEAAgO,CAC1S,AAD2S,GAE3S,IAAsB,GACtB,GAAiB,CAAE,OAAQ,UAAW,KAAM,2BAA4B,IASxE,GAj+CV,AA29CyB,SA39ChB,AACP,CAAiB,CACjB,CAKC,EA09CwB,AAx9CzB,OAAQ,GACN,IAAK,gBACH,GAAI,AAAsB,GAAG,GAApB,YAAY,CACnB,MAAO,CACL,OAAQ,QACR,KAAM,2DACR,EAEF,MAAO,CACL,OAAQ,UACR,KAAM,CAAC,0BAAuB,EAAE,EAAK,YAAY,CAAC,sBAAsB,CAAC,AAC3E,CACF,KAAK,eACH,GAA0B,GAAG,CAAzB,EAAK,YAAY,CACnB,MAAO,CACL,OAAQ,QACR,KAAM,kDACR,EAEF,MAAO,CACL,OAAQ,UACR,KAAM,CAAA,EAAG,EAAK,YAAY,CAAC,2DAAkD,CAAC,AAChF,CACF,KAAK,eACH,MAAO,CACL,OAAQ,UACR,KAAM,CAAC,0BAA0B,EAAE,EAAK,WAAW,CAAC,6BAA6B,CAAC,AACpF,CACF,KAAK,cACH,GAA0B,IAAtB,EAAK,YAAY,EAAU,AAAmB,GAAG,GAAjB,SAAS,CAC3C,MAAO,CACL,OAAQ,QACR,KAAM,0DACR,EAEF,MAAO,CACL,OAAQ,UACR,KAAM,sEACR,CACF,KAAK,cACH,MAAO,CACL,OAAQ,UACR,KAAM,EAAK,gBAAgB,CACvB,CAAC,oCAA8B,EAAE,EAAK,gBAAgB,CAAC,UAAU,EAAI,EAAK,gBAAgB,CAAC,gBAAgB,EAAI,wBAAwB,CAAC,CAAC,CACzI,0DACN,CACF,SACE,MAAO,CACL,OAAQ,QACR,KAAM,+CACR,CACJ,CACF,EA85C4C,EAAW,cAC3C,aACA,GACA,YAAa,GAAoB,MAAM,CACvC,iBAAkB,SAAoB,CACxC,IAIF,GAAoB,KACtB,EAAG,IACL,EACA,CAAC,GAAoB,MAAM,CAAE,GAAc,GAAW,GAAkB,GAAU,EAAQ,GAAM,KAAK,EAGjG,GAAkB,CAAA,EAAA,EAAA,WAAA,AAAW,EAAC,KAClC,GAAI,CAAC,GAAqB,CACxB,GAAiB,CACf,OAAQ,QACR,KAAM,wDACR,GACA,GAA0B,CACxB,KAAM,QACN,QAAS,wDACX,GACA,MACF,CAEA,IAAe,GACf,GAA0B,CACxB,KAAM,OACN,QAAS,mCACX,GAGA,GAAI,CACF,IAAM,EAAO,GAAmB,GAAG,CAAC,AAAC,IACnC,IAAM,EAAkB,GAAmB,EAAU,IACrD,MAAO,CACL,EAAS,KAAK,CACd,EAAU,CAAC,EAAS,IAAI,CAAC,CACL,YAApB,EACI,WACoB,cAApB,EACE,YACA,AAAoB,cAClB,WACA,YACR,EAAS,UAAU,EAAI,GACvB,EAAS,gBAAgB,EAAI,GAC7B,GAAa,EAAS,OAAO,EAC7B,EAAS,OAAO,EAAI,GACpB,EAAS,eAAe,CACzB,AACH,GAEM,EAAa,CACjB,OAAO,IAAI,CAAC,0DACT,EAAK,GAAG,CAAE,AAAD,GAAS,EAAI,GAAG,CAAC,AAAC,GAAS,CAAC,CAAC,EAAE,EAAK,OAAO,CAAC,KAAM,MAAM,CAAC,CAAC,EAAE,IAAI,CAAC,MAC9E,CAAC,IAAI,CAAC,MAGD,EAAO,IAAI,KAAK,CADV,AACW,SAAM,EAAW,CAAE,CAAE,KAAM,wBAAyB,GACrE,EAAO,SAAS,aAAa,CAAC,IACpC,GAAK,IAAI,CAAG,IAAI,eAAe,CAAC,GAChC,EAAK,QAAQ,CAAG,CAAC,WAAW,EAAE,GAAU,IAAK,IAAI,CAAC,CAClD,EAAK,KAAK,GACV,IAAI,eAAe,CAAC,EAAK,IAAI,EAE7B,GAAiB,CACf,OAAQ,UACR,KAAM,CAAA,EAAG,GAAmB,MAAM,CAAC,8BAA8B,CAAC,AACpE,GACA,GAA0B,CACxB,KAAM,UACN,QAAS,CAAA,EAAG,GAAmB,MAAM,CAAC,kCAAkC,CAAC,AAC3E,EACF,CAAE,KAAM,CACN,GAAiB,CACf,OAAQ,QACR,KAAM,0CACR,GACA,GAA0B,CACxB,KAAM,QACN,QAAS,0CACX,EACF,QAAU,CACR,IAAe,EACjB,CACF,EAAG,CAAC,GAAqB,GAAoB,GAAK,GAA0B,EAEtE,GAAoB,CAAA,EAAA,EAAA,WAAA,AAAW,EACnC,CAAC,EAAmB,KAClB,GAAI,EAAa,CAAC,EAAW,CAC3B,CAD6B,KAE3B,CAAA,EAAA,EAAA,GAAA,EAAC,GAAA,CACC,QAAS,EAAa,CAAC,EAAW,EAAI,0BACtC,QAAS,IACP,GAAiB,AAAC,IAAU,CAC1B,EADyB,CACtB,CAAI,CACP,CAAC,EAAW,CAAE,KAChB,CAAC,IAmBT,GAAqB,GAAG,CAApB,EAAM,MAAM,OACd,AAAmB,WAAW,CAA1B,EAEA,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,+EACb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,oCACb,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,YAAY,CAAA,CAAC,UAAU,6BACxB,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,0DAAiD,kDAQnD,SAAS,CAAxB,EAEA,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,uEACb,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,2CAAkC,iCAG/C,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,sCACb,CAAA,EAAA,EAAA,IAAA,EAAC,GAAA,MAAM,CAAA,CACL,KAAK,KACL,UAAU,wDACV,QAAS,IAAM,EAAW,gBAC1B,SAAU,CAAC,aAEX,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,IAAI,CAAA,CAAC,UAAU,gBAAgB,qBAGlC,CAAA,EAAA,EAAA,IAAA,EAAC,GAAA,MAAM,CAAA,CACL,KAAK,KACL,QAAQ,UACR,UAAU,eACV,QAAS,aAET,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,CAAa,UAAU,gBAAgB,8BAShD,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,sEACb,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,2CAAkC,kDAOrD,GAAiB,WAAb,EAAuB,CACzB,IAAM,EAAgB,EAAM,MAAM,CAA6B,CAAC,EAAK,KAC/D,AAAC,CAAG,CAAC,EAAS,OAAO,CAAC,GAAE,CAAG,CAAC,EAAS,OAAO,CAAC,CAAG,EAAA,AAAE,EACtD,CAAG,CAAC,EAAS,OAAO,CAAC,CAAC,IAAI,CAAC,GACpB,GACN,CAAC,GAEE,EAAQ,OAAO,IAAI,CAAC,GAAe,IAAI,CAAC,CAAC,EAAG,IAChD,GAAa,GAAG,OAAO,GAAK,GAAa,GAAG,OAAO,IAGrD,MACE,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,qBACZ,EAAM,GAAG,CAAC,AAAC,GACV,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAe,UAAU,kEACxB,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,mDACb,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,4DACV,GAAe,KAElB,CAAA,EAAA,EAAA,GAAA,EAAC,GAAA,KAAK,CAAA,CAAC,UAAU,kDACd,CAAa,CAAC,EAAK,CAAC,MAAM,MAG/B,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,qBACb,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,eAAe,CAAA,CAAC,QAAS,YACvB,CAAa,CAAC,EAAK,CAAC,GAAG,CAAE,AAAD,GACvB,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,MAAM,CAAC,GAAG,CAAA,CAET,MAAM,CAAA,CAAA,EACN,QAAS,CAAE,QAAS,EAAG,EAAG,CAAE,EAC5B,QAAS,CAAE,QAAS,EAAG,EAAG,CAAE,EAC5B,KAAM,CAAE,QAAS,EAAG,EAAG,CAAC,CAAE,EAC1B,WAAY,CAAE,SAAU,IAAM,KAAM,SAAU,WAE9C,CAAA,EAAA,EAAA,GAAA,EAAC,GAAA,CACC,SAAU,EACV,IAAK,GACL,WAAY,KAAuB,EAAS,EAAE,CAC9C,cAAe,KAA2B,EAAS,EAAE,CACrD,SAAU,GAAoB,GAAG,CAAC,EAAS,EAAE,EAC7C,kBAAmB,GACnB,iBAAkB,GAClB,SAAU,EAAgB,CAAC,EAAS,EAAE,CAAC,CACvC,eAAgB,KACd,GAAsB,AAAC,GACrB,IAAS,EAAS,EAAE,CAAG,KAAO,EAAS,EAAE,EAE3C,GAAsB,EAAS,EAAE,CACnC,EACA,eAAgB,IAAM,GAAwB,EAAS,EAAE,EACzD,WAAY,AAAC,GAAU,GAAuB,EAAS,EAAE,CAAE,GAC3D,SAAU,IAAM,GAAqB,EAAS,EAAE,EAChD,WAAY,AAAC,GAAY,GAAuB,EAAS,EAAE,CAAE,GAC7D,qBAAsB,IAAM,GAAsB,EAAS,EAAE,EAC7D,mBAAoB,IAAM,GAAuB,MA3B9C,EAAS,EAAE,SAbhB,KAkDlB,CAEA,MACE,CAAA,EAAA,EAAA,GAAA,EAAC,GAAA,CACC,MAAO,EACP,aAAc,IACd,WAAY,AAAC,GACX,CAAA,EAAA,EAAA,GAAA,EAAC,GAAA,CACC,SAAU,EACV,IAAK,GACL,WAAY,KAAuB,EAAS,EAAE,CAC9C,cAAe,KAA2B,EAAS,EAAE,CACrD,SAAU,GAAoB,GAAG,CAAC,EAAS,EAAE,EAC7C,kBAAmB,GACnB,iBAAkB,GAClB,SAAU,EAAgB,CAAC,EAAS,EAAE,CAAC,CACvC,eAAgB,KACd,GAAsB,AAAC,GAAU,IAAS,EAAS,EAAE,CAAG,KAAO,EAAS,EAAE,EAC1E,GAAsB,EAAS,EAAE,CACnC,EACA,eAAgB,IAAM,GAAwB,EAAS,EAAE,EACzD,WAAY,AAAC,GAAU,GAAuB,EAAS,EAAE,CAAE,GAC3D,SAAU,IAAM,GAAqB,EAAS,EAAE,EAChD,WAAY,AAAC,GAAY,GAAuB,EAAS,EAAE,CAAE,GAC7D,qBAAsB,IAAM,GAAsB,EAAS,EAAE,EAC7D,mBAAoB,IAAM,GAAuB,MAK3D,EACA,CACE,IA/nDc,EAioDd,EACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,EACA,GACA,GACA,GACA,GACA,GACA,GACD,EAGH,MACE,CAAA,EAAA,EAAA,IAAA,EAAC,EAAA,MAAM,CAAC,GAAG,CAAA,CACT,QAAS,CAAE,QAAS,EAAG,EAAG,CAAE,EAC5B,QAAS,CAAE,QAAS,EAAG,EAAG,CAAE,EAC5B,WAAY,CAAE,SAAU,IAAM,KAAM,CAAC,IAAM,IAAM,IAAM,EAAE,AAAC,EAC1D,UAAU,mCAEV,CAAA,EAAA,EAAA,GAAA,EAAC,GAAA,mBAAmB,CAAA,CAClB,MAAM,aACN,YAAY,sDACZ,UAAW,CAAA,EAAA,GAAA,EAAA,AAAE,EACX,mCACA,IAAkB,kDAEpB,KAAM,GACN,MAAO,CACL,CACE,GAAI,UACJ,MAAO,CAAA,EAAG,GAAa,UAAU,CAAC,CAClC,KAAM,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,aAAa,CAAA,CAAC,UAAU,gBAC/B,KAAM,GAAe,EAAI,SAAW,UACpC,QAAS,EACX,EACA,CACE,GAAI,QACJ,MAAO,CAAA,EAAG,GAAgB,MAAM,CAAC,UAAU,CAAC,CAC5C,KAAM,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,aAAa,CAAA,CAAC,UAAU,gBAC/B,KAAM,GAAgB,MAAM,CAAG,EAAI,OAAS,UAC5C,QAAS,EACX,EACA,GACI,CACE,GAAI,iBACJ,MAAO,CAAA,EAAG,GAAkB,MAAM,CAAC,eAAe,CAAC,CACnD,KAAM,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,MAAM,CAAA,CAAC,UAAU,gBACxB,KAAM,UACN,QAAS,IAAM,GAAgB,EACjC,EACA,CACE,GAAI,WACJ,MAAO,CAAA,EAAG,GAAU,cAAc,CAAC,CACnC,KAAM,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,OAAW,CAAA,CAAC,UAAU,gBAC7B,KAAM,GAAY,EAAI,UAAY,UAClC,QAAS,EACX,EACL,CACD,QACE,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,sCACb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,sHACb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,6GACb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,iEACb,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,MAAM,CAAA,CAAC,UAAU,2FAClB,CAAA,EAAA,EAAA,GAAA,EAAC,GAAA,KAAK,CAAA,CACJ,MAAO,EACP,SAAU,AAAC,GAAU,EAAe,EAAM,MAAM,CAAC,KAAK,EACtD,YAAY,+CACZ,UAAU,kEAId,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,qHACZ,CACC,CAAE,IAAK,OAAiB,MAAO,QAAS,KAAM,EAAA,IAAK,AAAD,EAClD,CAAE,IAAK,SAAmB,MAAO,SAAU,KAAM,EAAA,YAAY,AAAC,EAC/D,CAAC,GAAG,CAAC,AAAC,IACL,IAAM,EAAS,IAAa,EAAK,GAAG,CACpC,MACE,CAAA,EAAA,EAAA,IAAA,EAAC,SAAA,CAEC,QAAS,IAAM,EAAY,EAAK,GAAG,EACnC,UAAW,CAAA,EAAA,GAAA,EAAA,AAAE,EACX,mTACA,EACI,mEACA,gDAGN,CAAA,EAAA,EAAA,GAAA,EAAC,EAAK,IAAI,CAAA,CAAC,UAAU,gBACrB,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,UAAM,EAAK,KAAK,KAVZ,EAAK,GAAG,CAanB,QAIJ,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,mFACb,CAAA,EAAA,EAAA,IAAA,EAAC,GAAA,OAAO,CAAA,CAAC,KAAM,EAAc,aAAc,YACzC,CAAA,EAAA,EAAA,GAAA,EAAC,GAAA,cAAc,CAAA,CAAC,OAAO,CAAA,CAAA,WACrB,CAAA,EAAA,EAAA,IAAA,EAAC,GAAA,MAAM,CAAA,CACL,QAAQ,UACR,UAAU,+JAEV,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,MAAM,CAAA,CAAC,UAAU,YAAY,eAIlC,CAAA,EAAA,EAAA,GAAA,EAAC,GAAA,cAAc,CAAA,CACb,MAAM,MACN,KAAK,SACL,WAAY,EACZ,UAAU,qFAEV,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,sBACb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,WACC,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,iEAAwD,SACrE,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,kCACZ,GAAiB,GAAG,CAAC,AAAC,IACrB,IAAM,EAAO,EAAkB,CAAC,EAAK,CAC/B,EAAS,EAAY,GAAG,CAAC,GAC/B,MACE,CAAA,EAAA,EAAA,IAAA,EAAC,QAAA,CAEC,UAAW,CAAA,EAAA,GAAA,EAAA,AAAE,EACX,mFACA,EACI,wCACA,oDAGN,CAAA,EAAA,EAAA,GAAA,EAAC,GAAA,QAAQ,CAAA,CACP,QAAS,EACT,gBAAkB,AAAD,IACf,EAAe,AAAC,IACd,IAAM,EAAO,IAAI,IAAI,GAGrB,MAFI,CAAY,MAAM,EAAK,GAAG,CAAC,GAC1B,EAAK,MAAM,CAAC,GACI,IAAd,EAAK,IAAI,CAAS,IAAI,IAAI,IAAoB,CACvD,EACF,IAEF,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,CAAK,UAAU,gBAChB,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,UAAM,EAAU,CAAC,EAAK,KApBlB,EAuBX,QAIJ,CAAA,EAAA,EAAA,GAAA,EAAC,GAAA,SAAS,CAAA,CAAA,GAEV,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,WACC,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,iEAAwD,WACrE,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,kCACZ,GAAe,GAAG,CAAC,AAAC,GACnB,CAAA,EAAA,EAAA,IAAA,EAAC,QAAA,CAEC,UAAU,2HAEV,CAAA,EAAA,EAAA,GAAA,EAAC,GAAA,QAAQ,CAAA,CACP,QAAS,EAAe,GAAG,CAAC,EAAO,KAAK,EACxC,gBAAiB,AAAC,IAChB,EAAkB,AAAC,IACjB,IAAM,EAAO,IAAI,IAAI,GAGrB,MAFI,CAAY,MAAM,EAAK,GAAG,CAAC,EAAO,KAAK,EACtC,EAAK,MAAM,CAAC,EAAO,KAAK,EACR,IAAd,EAAK,IAAI,CAAS,IAAI,IAAI,IAAyB,CAC5D,EACF,IAEF,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,UAAM,EAAO,KAAK,KAdd,EAAO,KAAK,QAoBzB,CAAA,EAAA,EAAA,GAAA,EAAC,GAAA,SAAS,CAAA,CAAA,GAEV,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,kCACb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,WACC,CAAA,EAAA,EAAA,GAAA,EAAC,GAAA,KAAK,CAAA,CAAC,UAAU,4CAAmC,QACpD,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,0DACZ,GAAY,GAAG,CAAC,AAAC,GAChB,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CAEC,QAAS,IAAM,EAAa,EAAO,KAAK,EACxC,UAAW,CAAA,EAAA,GAAA,EAAA,AAAE,EACX,6DACA,IAAc,EAAO,KAAK,CACtB,yBACA,4CAGL,EAAO,KAAK,EATR,EAAO,KAAK,UAgB3B,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,mCACb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,WACC,CAAA,EAAA,EAAA,GAAA,EAAC,GAAA,KAAK,CAAA,CAAC,UAAU,4CAAmC,eACpD,CAAA,EAAA,EAAA,GAAA,EAAC,GAAA,KAAK,CAAA,CACJ,KAAK,OACL,MAAO,EACP,SAAW,AAAD,GAAW,EAAmB,EAAM,MAAM,CAAC,KAAK,EAC1D,UAAU,0BAGd,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,WACC,CAAA,EAAA,EAAA,GAAA,EAAC,GAAA,KAAK,CAAA,CAAC,UAAU,4CAAmC,QACpD,CAAA,EAAA,EAAA,GAAA,EAAC,GAAA,KAAK,CAAA,CACJ,KAAK,OACL,MAAO,EACP,SAAU,AAAC,GAAU,EAAiB,EAAM,MAAM,CAAC,KAAK,EACxD,UAAU,6BAKhB,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,uBACb,CAAA,EAAA,EAAA,GAAA,EAAC,GAAA,MAAM,CAAA,CAAC,QAAQ,UAAU,UAAU,sBAAsB,QAAS,YAAc,gBAGjF,CAAA,EAAA,EAAA,GAAA,EAAC,GAAA,MAAM,CAAA,CACL,UAAU,+DACV,QAAS,IAAM,GAAgB,YAChC,sBAQR,IACC,CAAA,EAAA,EAAA,GAAA,EAAC,GAAA,MAAM,CAAA,CACL,QAAQ,QACR,UAAU,oJACV,QAAS,YACV,gBAKH,CAAA,EAAA,EAAA,IAAA,EAAC,GAAA,MAAM,CAAA,CACL,QAAQ,UACR,UAAU,8JACV,QAAS,GACT,SAAU,aAET,GACC,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,OAAO,CAAA,CAAC,UAAU,yBAEnB,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,CAAa,UAAU,YACxB,wBAIJ,CAAA,EAAA,EAAA,IAAA,EAAC,GAAA,MAAM,CAAA,CACL,UAAU,sJACV,QAAS,IAAM,EAAW,gBAC1B,SAAU,CAAC,aAEX,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,IAAI,CAAA,CAAC,UAAU,YAAY,8BASvC,GACC,CAAA,EAAA,EAAA,GAAA,EAAC,GAAA,CACC,KAAM,GAAqB,IAAI,CAC/B,QAAS,GAAqB,OAAO,GAErC,KAEH,IAAoB,GAAkB,MAAM,CAAG,GAC9C,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,gCACZ,GAAkB,GAAG,CAAC,AAAC,GACtB,CAAA,EAAA,EAAA,IAAA,EAAC,SAAA,CAEC,KAAK,SACL,QAAS,EAAK,QAAQ,CACtB,UAAU,6JAEV,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,UAAM,EAAK,KAAK,GACjB,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,yBAAgB,QAN3B,EAAK,EAAE,KAYnB,IAAe,GAAW,MAAM,CAAG,GAClC,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,yEACb,CAAA,EAAA,EAAA,IAAA,EAAC,IAAA,CAAE,UAAU,4CACX,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,yBAAgB,qBAAuB,4DAK5D,IAAyB,CAAC,IACzB,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,qEACb,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,2CAAkC,sEAG/C,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,sCACb,CAAA,EAAA,EAAA,IAAA,EAAC,GAAA,MAAM,CAAA,CACL,KAAK,KACL,UAAU,yEACV,QAAS,IAAM,EAAW,gBAC1B,SAAU,CAAC,aAEX,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,IAAI,CAAA,CAAC,UAAU,gBAAgB,qBAGlC,CAAA,EAAA,EAAA,IAAA,EAAC,GAAA,MAAM,CAAA,CACL,KAAK,KACL,QAAQ,UACR,UAAU,gCACV,QAAS,GACT,SAAU,aAEV,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,CAAa,UAAU,gBAAgB,uBAO/C,AAAa,YAAU,GAAoB,MAAM,CAAG,GACnD,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,yFACb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,8DACb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,0DACb,CAAA,EAAA,EAAA,GAAA,EAAC,GAAA,QAAQ,CAAA,CACP,QAAS,GACT,gBAAiB,AAAC,GAChB,IAAiC,CAAQ,KAG7C,CAAA,EAAA,EAAA,IAAA,EAAC,OAAA,WAAK,8BACwB,GAAoB,MAAM,CAAC,UAG1D,GAAqB,MAAM,CAAG,EAC7B,CAAA,EAAA,EAAA,IAAA,EAAC,OAAA,CAAK,UAAU,8CACb,GAAqB,MAAM,CAAC,qBAG/B,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,iCAAwB,qDAM3C,GAAqB,MAAM,CAAG,GAC7B,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,8CACb,CAAA,EAAA,EAAA,IAAA,EAAC,GAAA,MAAM,CAAA,CACL,KAAK,KACL,UAAU,yEACV,QAAS,GACT,SAAU,CAAC,aAEX,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,YAAY,CAAA,CAAC,UAAU,gBAAgB,sBAG1C,CAAA,EAAA,EAAA,IAAA,EAAC,GAAA,OAAO,CAAA,CAAC,KAAM,GAAkB,aAAc,aAC7C,CAAA,EAAA,EAAA,GAAA,EAAC,GAAA,cAAc,CAAA,CAAC,OAAO,CAAA,CAAA,WACrB,CAAA,EAAA,EAAA,IAAA,EAAC,GAAA,MAAM,CAAA,CACL,KAAK,KACL,QAAQ,UACR,UAAU,gCACV,SAAU,CAAC,aAEX,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,aAAa,CAAA,CAAC,UAAU,gBAAgB,aAI7C,CAAA,EAAA,EAAA,IAAA,EAAC,GAAA,cAAc,CAAA,CACb,MAAM,QACN,WAAY,EACZ,UAAU,yDAEV,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,4EAAmE,sBAGhF,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,qBACZ,CAAC,EAAG,EAAG,EAAE,CAAC,GAAG,CAAC,AAAC,GACd,CAAA,EAAA,EAAA,IAAA,EAAC,SAAA,CAEC,QAAS,IACP,GACE,GAAU,GAAQ,GAAW,IAAM,KAGvC,UAAU,8JAEV,CAAA,EAAA,EAAA,IAAA,EAAC,OAAA,WAAK,IAAE,EAAK,IAAW,IAAT,EAAa,MAAQ,UACpC,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,UAAU,CAAA,CAAC,UAAU,gCATjB,MAaX,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,2BACb,CAAA,EAAA,EAAA,GAAA,EAAC,GAAA,KAAK,CAAA,CAAC,UAAU,iCAAwB,kBACzC,CAAA,EAAA,EAAA,GAAA,EAAC,GAAA,KAAK,CAAA,CACJ,KAAK,OACL,MAAO,GACP,IAAK,GAAU,GAAW,KAC1B,SAAU,AAAC,GAAU,GAA0B,EAAM,MAAM,CAAC,KAAK,EACjE,UAAU,uBAEZ,CAAA,EAAA,EAAA,GAAA,EAAC,GAAA,MAAM,CAAA,CACL,KAAK,KACL,UAAU,2EACV,SAAU,CAAC,GACX,QAAS,IACP,GAA6B,aAEhC,4BAMP,CAAA,EAAA,EAAA,IAAA,EAAC,GAAA,MAAM,CAAA,CACL,KAAK,KACL,QAAQ,QACR,UAAU,6DACV,QAAS,GACT,SAAU,CAAC,aAEX,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,OAAO,CAAA,CAAC,UAAU,gBAAgB,sBAGrC,CAAA,EAAA,EAAA,GAAA,EAAC,GAAA,MAAM,CAAA,CACL,KAAK,KACL,QAAQ,QACR,UAAU,8CACV,QAAS,YACV,sBAMJ,GACC,CAAA,EAAA,EAAA,GAAA,EAAC,GAAA,CACC,KAAM,GAAmB,IAAI,CAC7B,QAAS,GAAmB,OAAO,CACnC,UAAU,SAEV,QAIR,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,uEACb,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,qBACC,WAAb,EACC,CAAA,EAAA,EAAA,GAAA,EAAC,GAAA,CACC,IAAK,GACL,UAAW,GACX,KAAM,GACN,aAAc,GACd,iBAAkB,GAClB,sBAAuB,GACvB,mBAAoB,GACpB,uBAAwB,GACxB,oBAAqB,GACrB,kBAAmB,GACnB,iBAAkB,GAClB,iBAAkB,GAClB,gBAAiB,IACf,GAAiB,AAAC,GAAS,IAAI,KAAK,EAAK,WAAW,GAAI,EAAK,QAAQ,GAAK,EAAG,IAE/E,YAAa,IACX,GAAiB,AAAC,GAAS,IAAI,KAAK,EAAK,WAAW,GAAI,EAAK,QAAQ,GAAK,EAAG,IAE/E,YAAa,KACX,IAAM,EAAY,GAAW,IAC7B,GAAiB,GAAa,IAC9B,GAAwB,GAAU,GACpC,EACA,aAAc,AAAC,IACb,IAAM,EAAa,GAAa,GAEhC,GADY,GAAU,IAEtB,GAAiB,EACnB,EACA,OAH0B,QAGT,AAAD,IACd,GAAsB,AAAC,GAAU,IAAS,EAAa,KAAO,GAC9D,GAAsB,EACxB,EACA,WAAY,GACZ,SAAU,GACV,WAAY,GACZ,uBAAwB,GACxB,qBAAsB,GACtB,mBAAoB,GACpB,sBAAuB,AAAC,IACtB,GAAsB,EAAS,EAAE,EACjC,GAA0B,EAAS,EAAE,CACvC,IAGF,CAAA,EAAA,EAAA,IAAA,EAAA,EAAA,QAAA,CAAA,WACF,CAAA,EAAA,EAAA,GAAA,EAAC,GAAA,CACC,MAAM,6CACN,MAAO,GAAiC,MAAM,CAC9C,UAAW,EAAkB,YAAY,CACzC,SAAU,IAAM,GAAc,gBAC9B,KAAK,kBAEJ,GAAc,YAAY,CACzB,CAAA,EAAA,EAAA,GAAA,EAAC,GAAA,CACC,QAAS,GAAc,YAAY,CACnC,QAAS,KACP,GAAiB,AAAC,IAAU,CAAE,EAAH,CAAM,CAAI,CAAE,aAAc,KAAK,CAAC,EAC3D,IACF,IAQ4C,EAN5C,EAMA,GAAiC,MAAM,CACzC,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,YANf,mEAOE,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,4CAAmC,kCAGhD,CAAA,EAAA,EAAA,IAAA,EAAC,GAAA,MAAM,CAAA,CACL,KAAK,KACL,UAAU,+FACV,QAAS,aAET,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,QAAQ,CAAA,CAAC,UAAU,gBAAgB,2BAKxC,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,qDACZ,GAAiC,GAAG,CAAC,AAAC,IACrC,IAAM,EAAQ,EAAoB,CAAC,EAAe,EAAE,CAAC,EAAI,OAEzD,MACE,CAAA,EAAA,EAAA,IAAA,EAAC,UAAA,CAEC,UAAU,oMAEV,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,uDACb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,sCACb,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,qIACb,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,GAAG,CAAA,CAAC,UAAU,cAEjB,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,oBACb,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,6DACV,EAAe,KAAK,GAEvB,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,yDAAiD,EAAe,OAAO,WAK1F,CAAA,EAAA,EAAA,IAAA,EAAC,IAAA,CAAE,UAAU,0EACX,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,sCAA6B,aAAe,IAAE,EAAe,GAAG,IAGlF,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,2CACb,CAAA,EAAA,EAAA,GAAA,EAAC,GAAA,MAAM,CAAA,CACL,KAAK,KACL,UAAU,sGACV,SAAoB,YAAV,EACV,QAAS,IAAM,GAA4B,YAEhC,YAAV,EACC,CAAA,EAAA,EAAA,IAAA,EAAA,EAAA,QAAA,CAAA,WACE,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,OAAO,CAAA,CAAC,UAAU,6BAA6B,gBAGtC,YAAV,EACF,CAAA,EAAA,EAAA,IAAA,EAAA,EAAA,QAAA,CAAA,WACE,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,KAAK,CAAA,CAAC,UAAU,gBAAgB,eAInC,EAAe,kBAAkB,GAGrC,CAAA,EAAA,EAAA,GAAA,EAAC,GAAA,MAAM,CAAA,CACL,KAAK,KACL,QAAQ,UACR,UAAU,uFACV,QAAS,IACP,GAAqC,EAAe,UAAU,WAEjE,qBAKQ,UAAV,GACC,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,2CAAkC,2CAvD5C,EAAe,EAAE,CA6D5B,OAKN,CAAA,EAAA,EAAA,GAAA,EAAC,GAAA,CACC,MAAM,YACN,MAAO,GAAkB,MAAM,CAC/B,UAAW,EAAkB,OAAO,CACpC,SAAU,IAAM,GAAc,WAC9B,KAAK,kBAEJ,GAAkB,GAAmB,aAGxC,CAAA,EAAA,EAAA,GAAA,EAAC,GAAA,CACC,MAAM,OACN,MAAO,GAAgB,MAAM,CAC7B,UAAW,EAAkB,KAAK,CAClC,SAAU,IAAM,GAAc,SAC9B,KAAK,mBAEJ,GAAkB,GAAiB,WAGtC,CAAA,EAAA,EAAA,GAAA,EAAC,GAAA,CACC,MAAM,kBACN,MAAO,GAAgB,MAAM,CAC7B,UAAW,EAAkB,KAAK,CAClC,SAAU,IAAM,GAAc,SAC9B,KAAK,mBAEJ,GAAkB,GAAiB,WAGtC,CAAA,EAAA,EAAA,GAAA,EAAC,GAAA,CACC,MAAM,UACN,MAAO,GAAiB,MAAM,CAC9B,UAAW,EAAkB,MAAM,CACnC,SAAU,IAAM,GAAc,UAC9B,KAAK,mBAEJ,GAAkB,GAAkB,YAGvC,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,gFACb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,8DACb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,WACC,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,4DAAmD,kBACjE,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,2CAAkC,oDAIjD,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,oCACb,CAAA,EAAA,EAAA,GAAA,EAAC,GAAA,MAAM,CAAA,CACL,KAAK,KACL,QAAQ,UACR,UAAU,uBACV,QAAS,KACP,GAAoB,CAClB,MAAO,gBACP,QAAS,CAAC;AAAA,uBAA4C,EAAE,GAAmB,MAAM,CAAC;AAAA,wBAAuB,EAAE,GAAqB;AAAA,aAAgB,EAAE,aAAa;AAAA;AAAA,qFAAsF,CAAC,AACxP,GACA,IAAsB,EACxB,WACD,eAGA,GACC,CAAA,EAAA,EAAA,GAAA,EAAC,GAAA,MAAM,CAAA,CACL,KAAK,KACL,QAAQ,UACR,UAAU,uBACV,SAAU,GACV,QAAS,YAER,GACC,CAAA,EAAA,EAAA,IAAA,EAAA,EAAA,QAAA,CAAA,WACE,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,OAAO,CAAA,CAAC,UAAU,6BAA6B,mBAIlD,mBAGF,WAIP,GACC,CAAA,EAAA,EAAA,GAAA,EAAC,GAAA,CACC,KAAM,GAAsB,IAAI,CAChC,QAAS,GAAsB,OAAO,CACtC,UAAU,SAEV,KAEJ,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,0DACb,CAAA,EAAA,EAAA,GAAA,EAAC,GAAA,CAAc,MAAM,sBAAsB,MAAO,OAAO,GAAmB,MAAM,IAClF,CAAA,EAAA,EAAA,GAAA,EAAC,GAAA,CAAc,MAAM,oBAAoB,MAAO,CAAA,EAAG,GAAqB,CAAC,CAAC,GAC1E,CAAA,EAAA,EAAA,GAAA,EAAC,GAAA,CACC,MAAM,iBACN,MAAO,GAAc,EAAU,CAAC,EAAW,CAAC,EAAE,CAAC,CAAG,MAEpD,CAAA,EAAA,EAAA,GAAA,EAAC,GAAA,CACC,MAAM,gBACN,MAAO,OAAO,IACd,OAAQ,GAAe,EAAI,SAAW,eAI1C,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,0CACb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,oEACb,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,yFAAgF,aAG7F,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,uBACZ,OAAO,OAAO,CAAC,IACb,IAAI,CAAC,CAAC,EAAG,IAAM,CAAC,CAAC,EAAE,CAAG,CAAC,CAAC,EAAE,EAC1B,KAAK,CAAC,EAAG,GACT,GAAG,CAAC,CAAC,CAAC,EAAM,EAAM,GACjB,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAe,UAAU,sDACxB,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,yBAAiB,EAAU,CAAC,EAAqB,GACjE,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,qCAA6B,MAFrC,WASnB,GAAoB,MAAM,CAAG,GAC5B,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,oEACb,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,yFAAgF,wBAG7F,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,uBACZ,GAAoB,KAAK,CAAC,EAAG,GAAG,GAAG,CAAC,AAAC,GACpC,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAEC,UAAU,oFAEV,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,0CAAkC,EAAS,KAAK,GAC7D,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,iCACb,GAAa,EAAS,WAAW,EAAI,EAAS,OAAO,MALnD,EAAS,EAAE,gBAiB9B,CAAA,EAAA,EAAA,GAAA,EAAC,QAAA,CACC,IAAK,GACL,UAAW,CAAA,EAAA,GAAA,EAAE,AAAF,EACT,kCACA,0CACA,IAAkB,6DAGpB,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,+IACb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,8CACb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,WACC,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,6DAAoD,uBAClE,CAAA,EAAA,EAAA,IAAA,EAAC,IAAA,CAAE,UAAU,gEACX,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,wCAAwC,eAI5D,CAAA,EAAA,EAAA,IAAA,EAAC,GAAA,MAAM,CAAA,CACL,KAAK,KACL,QAAQ,UACR,UAAU,2EACV,QAAS,GACT,SAAU,aAET,GACC,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,OAAO,CAAA,CAAC,UAAU,6BAEnB,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,QAAQ,CAAA,CAAC,UAAU,gBACpB,2BAKN,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,iEACb,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,0FAAiF,uBAG9F,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,gCACb,CAAA,EAAA,EAAA,GAAA,EAAC,GAAA,CAAe,MAAM,YAAY,MAAO,OAAO,IAAe,KAAM,GAAe,EAAI,SAAW,YACnG,CAAA,EAAA,EAAA,GAAA,EAAC,GAAA,CAAe,MAAM,gBAAgB,MAAO,OAAO,GAAkB,MAAM,CAAC,AAAC,GAC3D,AACV,KADe,KAAK,CAAC,CAAC,GAAW,IAAK,OAAO,GAAK,GAAa,EAAE,OAAO,EAAE,OAAO,EAAA,CAAE,IAAI,KAC3E,GAClB,MAAM,EAAG,KAAM,GAAkB,IAAI,CAAC,AAAC,GACvB,AACV,KADe,KAAK,CAAC,CAAC,GAAW,IAAK,OAAO,GAAK,GAAa,EAAE,OAAO,EAAE,OAAO,EAAA,CAAE,IAAI,KAC3E,GAChB,SAAW,YAChB,CAAA,EAAA,EAAA,GAAA,EAAC,GAAA,CAAe,MAAM,gBAAgB,MAAO,OAAO,IAAY,KAAM,GAAY,EAAI,UAAY,YAClG,CAAA,EAAA,EAAA,GAAA,EAAC,GAAA,CACC,MAAM,oBACN,MAAO,GAAc,EAAU,CAAC,EAAW,CAAC,EAAE,CAAC,CAAG,YAClD,KAAK,kBAKX,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,iEACb,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,0FAAiF,sBAG9F,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,oDACZ,GAAc,GAAG,CAAC,AAAC,IAClB,IAAM,EAAU,KAAqB,EAAQ,EAAE,CAC/C,MACE,CAAA,EAAA,EAAA,IAAA,EAAC,SAAA,CAEC,QAAS,IAAM,GAAiB,EAAQ,EAAE,EAC1C,SAAU,EACV,UAAU,+MAEV,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,UAAM,EAAQ,KAAK,GACnB,EACC,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,OAAO,CAAA,CAAC,UAAU,6BAEnB,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,UAAU,CAAA,CAAC,UAAU,iCATnB,EAAQ,EAAE,CAarB,KAGF,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,eAAe,CAAA,UACb,IACC,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,MAAM,CAAC,GAAG,CAAA,CACT,QAAS,CAAE,QAAS,EAAG,EAAG,CAAE,EAC5B,QAAS,CAAE,QAAS,EAAG,EAAG,CAAE,EAC5B,KAAM,CAAE,QAAS,EAAG,EAAG,CAAE,EACzB,WAAY,CAAE,SAAU,GAAK,EAC7B,UAAW,CAAA,EAAA,GAAA,EAAA,AAAE,EACX,+CACyB,YAAzB,GAAc,MAAM,CAChB,2DACA,yDAGL,GAAc,IAAI,QAM3B,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,iEACb,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,0FAAiF,sBAI7F,GACC,CAAA,EAAA,EAAA,GAAA,EAAC,GAAA,CAAyB,SAAU,GAAkB,IAAK,KAE3D,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,2GAAkG,0EAS3H,CAAA,EAAA,EAAA,GAAA,EAAC,GAAA,WAAW,CAAA,CACV,KAAM,GACN,aAAc,YAEd,CAAA,EAAA,EAAA,IAAA,EAAC,GAAA,kBAAkB,CAAA,CAAC,UAAU,2BAC5B,CAAA,EAAA,EAAA,IAAA,EAAC,GAAA,iBAAiB,CAAA,WAChB,CAAA,EAAA,EAAA,GAAA,EAAC,GAAA,gBAAgB,CAAA,CAAC,UAAU,gCAAuB,iCAGnD,CAAA,EAAA,EAAA,IAAA,EAAC,GAAA,sBAAsB,CAAA,CAAC,UAAU,4CAAkC,qBAC/C,GAAqB,MAAM,CAAC,wEAInD,CAAA,EAAA,EAAA,IAAA,EAAC,GAAA,iBAAiB,CAAA,WAChB,CAAA,EAAA,EAAA,GAAA,EAAC,GAAA,iBAAiB,CAAA,CAAC,UAAU,wBAAe,WAG5C,CAAA,EAAA,EAAA,GAAA,EAAC,GAAA,iBAAiB,CAAA,CAChB,UAAU,wDACV,QAAS,YACV,gCAOP,CAAA,EAAA,EAAA,GAAA,EAAC,GAAA,WAAW,CAAA,CACV,KAAM,GACN,aAAc,YAEd,CAAA,EAAA,EAAA,IAAA,EAAC,GAAA,kBAAkB,CAAA,CAAC,UAAU,2BAC5B,CAAA,EAAA,EAAA,IAAA,EAAC,GAAA,iBAAiB,CAAA,WAChB,CAAA,EAAA,EAAA,GAAA,EAAC,GAAA,gBAAgB,CAAA,CAAC,UAAU,gCAAuB,iCAGnD,CAAA,EAAA,EAAA,IAAA,EAAC,GAAA,sBAAsB,CAAA,CAAC,UAAU,4CAAkC,qBAC/C,GAAqB,MAAM,CAAC,wEAInD,CAAA,EAAA,EAAA,IAAA,EAAC,GAAA,iBAAiB,CAAA,WAChB,CAAA,EAAA,EAAA,GAAA,EAAC,GAAA,iBAAiB,CAAA,CAAC,UAAU,wBAAe,WAG5C,CAAA,EAAA,EAAA,GAAA,EAAC,GAAA,iBAAiB,CAAA,CAChB,UAAU,sDACV,QAAS,YACV,mCAOP,CAAA,EAAA,EAAA,GAAA,EAAC,GAAA,CACC,KAAM,GACN,aAAc,GACd,MAAO,GAAiB,KAAK,CAC7B,QAAS,GAAiB,OAAO,GAGnC,CAAA,EAAA,EAAA,GAAA,EAAC,GAAA,CACC,MAAM,CAAQ,GACd,SAAU,GACV,IAAK,GACL,aAAc,AAAC,IACT,AAAC,GACH,GADS,AACiB,KAE9B,EACA,qBAAsB,AAAC,IACrB,GAA0B,MAC1B,GAAmC,EACrC,EACA,mBAAoB,AAAC,IACnB,GAA0B,MAC1B,GAAuB,EACzB,MAIR,CAEA,SAAS,GAAwB,OAC/B,CAAK,CACL,YAAU,cACV,EAAe,GAAG,CAKnB,EACC,IAAM,EAAY,CAAA,EAAA,EAAA,MAAA,AAAM,EAAwB,MAC1C,EAAmB,EAAM,MAAM,CAAG,GAGlC,EIv3FC,SAlDA,AAGP,MJs6FuB,QIr6FvB,GAAe,CAAA,CACf,GAAG,EACL,MAIQ,EAAW,EAAA,UAAA,CAAiB,IAAA,CAAA,EAAO,CAAA,CAAK,CAAA,CAAE,CAAA,CAAE,CAAC,CAAA,CAE7C,EAAoE,IACrE,CAAA,UACO,CAACD,EAAAA,oBACiB,CChChB,CAAA,CAAA,CAAA,QDiCE,CChCF,MDoCF,WAAA,QAAA,GAAA,EAAA,IAAA,CAAA,EAAWA,EAAU,EAC/B,CEhCD,EFmCK,CAAC,CEjCN,CAAA,CAAA,EAAA,QAAA,CFkCC,CEjCD,CAAA,EFiCO,IAAI,EAA0C,aAG7C,UAAA,CAAW,CEtBD,EFwBnB,EAA0B,ID0BI,ACzBrB,EAAS,SAAA,CAAA,EACf,EAAE,EAEL,EAA0B,IACxB,EAAgB,WAAA,IAGX,GAYiD,CDiB7B,mBChBzB,uBACA,EACA,EHhBU,SAAA,KGiBP,AJm3FiC,CACpC,MAAO,AIp3FJ,EJo3FU,MAAM,CACnB,iBAAkB,IAAM,EAAU,OAAO,CACzC,aAAc,IAAM,EACpB,SAAU,CACZ,CAAA,AIx3FK,CACJ,EJy3FD,GAAI,CAAC,EACH,MACE,CAAA,EAAA,EAAA,GAAA,EAFmB,AAElB,MAAA,CAAI,UAAU,qBACb,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,eAAe,CAAA,CAAC,SAAS,WACvB,EAAM,GAAG,CAAC,AAAC,GACV,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,MAAM,CAAC,GAAG,CAAA,CAET,MAAM,CAAA,CAAA,EACN,QAAS,CAAE,QAAS,EAAG,EAAG,CAAE,EAC5B,QAAS,CAAE,QAAS,EAAG,EAAG,CAAE,EAC5B,KAAM,CAAE,QAAS,EAAG,EAAG,CAAC,EAAG,MAAO,IAAM,EACxC,WAAY,CAAE,SAAU,IAAM,KAAM,SAAU,WAE7C,EAAW,IAPP,EAAS,EAAE,OAe5B,IAAM,EAAiB,KAAK,GAAG,CAAC,IAAK,KAAK,GAAG,CAAC,IAAK,KAAK,KAAK,CAAC,EAAM,MAAM,CAAG,KAE7E,MACE,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CACC,IAAK,EACL,UAAU,qBACV,MAAO,CAAE,OAAQ,CAAe,WAEhC,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CACC,MAAO,CACL,OAAQ,CAAA,EAAG,EAAe,YAAY,GAAG,EAAE,CAAC,CAC5C,MAAO,OACP,SAAU,UACZ,WAEC,EAAe,eAAe,GAAG,GAAG,CAAC,AAAC,IACrC,IAAM,EAAW,CAAK,CAAC,EAAW,KAAK,CAAC,CAExC,MACE,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAEC,aAAY,EAAW,KAAK,CAC5B,IAAK,EAAe,cAAc,CAClC,MAAO,CACL,SAAU,WACV,IAAK,EACL,KAAM,EACN,MAAO,OACP,UAAW,CAAC,WAAW,EAAE,EAAW,KAAK,CAAC,GAAG,CAAC,AAChD,WAEA,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,gBAAQ,EAAW,MAX7B,EAAS,EAAE,CActB,MAIR,CAEA,SAAS,GAAuB,KAC9B,CAAG,CACH,WAAS,MACT,CAAI,cACJ,CAAY,kBACZ,CAAgB,uBAChB,CAAqB,CACrB,oBAAkB,wBAClB,CAAsB,qBACtB,CAAmB,mBACnB,CAAiB,kBACjB,CAAgB,kBAChB,CAAgB,iBAChB,CAAe,aACf,CAAW,aACX,CAAW,cACX,CAAY,gBACZ,CAAc,YACd,CAAU,UACV,CAAQ,YACR,CAAU,wBACV,CAAsB,sBACtB,CAAoB,oBACpB,CAAkB,uBAClB,CAAqB,CA0BtB,EACC,IAAM,EAAa,GAAa,GAC1B,EAAoB,GAAe,GAEnC,EAAW,GAAU,GAAW,IAEtC,MACE,CAAA,EAAA,EAAA,IAAA,EAAC,UAAA,CAAQ,UAAU,gFACjB,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,8DACb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,WACC,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,4DAAmD,yBACjE,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,2CAAkC,6DAKjD,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,oCACb,CAAA,EAAA,EAAA,GAAA,EAAC,GAAA,MAAM,CAAA,CACL,KAAK,KACL,QAAQ,UACR,UAAU,uCACV,QAAS,WACV,SAGD,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,0FACb,CAAA,EAAA,EAAA,GAAA,EAAC,GAAA,MAAM,CAAA,CACL,KAAK,OACL,QAAQ,QACR,UAAU,qCACV,QAAS,EACT,aAAW,wBAEX,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,WAAW,CAAA,CAAC,UAAU,cAEzB,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,iGEriGnB,CFsiGM,GEtiGF,KAAK,cAAc,CAAC,QAAS,CACtC,MAAO,OACP,KAAM,SACR,GAAG,MAAM,CFmiGqB,AEniGpB,KFqiGA,CAAA,EAAA,EAAA,GAAA,EAAC,GAAA,MAAM,CAAA,CACL,KAAK,OACL,QAAQ,QACR,UAAU,qCACV,QAAS,EACT,aAAW,uBAEX,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,YAAY,CAAA,CAAC,UAAU,uBAMhC,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,gFACb,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,mEACZ,AAlDa,CAAC,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAM,CAkDhD,GAAG,CAAC,AAAC,GAClB,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAEC,UAAU,qGAET,GAHI,MAQX,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,kDACZ,EAAK,GAAG,CAAC,AAAC,IACT,IAAM,EAAM,GAAU,GAChB,EAAa,EAAiB,GAAG,CAAC,IAAQ,EAAE,CAC5C,EAAiB,EAAK,QAAQ,KAAO,EAAW,QAAQ,GACxD,EAAa,IAAQ,EACrB,EAAU,IAAQ,EAExB,MACE,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAEC,KAAK,SACL,SAAU,EACV,QAAS,IAAM,EAAa,GAC5B,UAAW,AAAC,KACQ,UAAd,EAAM,GAAG,EAA8B,MAAd,EAAM,GAAG,AAAK,GAAK,CAC9C,EAAM,cAAc,GACpB,EAAa,GAEjB,EACA,UAAW,CAAA,EAAA,GAAA,EAAA,AAAE,EACX,iLACA,mBACA,CAAC,GAAkB,8BACnB,GAAc,6CACd,GAAW,CAAC,GAAc,mCAE5B,aAAY,CAAC,IAAI,EAAE,EAAK,OAAO,GAAG,KAAK,EAAE,EAAW,MAAM,CAAC,UAAU,EAAwB,IAAtB,EAAW,MAAM,CAAS,GAAK,IAAA,CAAK,WAE3G,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,8CACb,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CACC,UAAW,CAAA,EAAA,GAAA,EAAA,AAAE,EACX,gGACA,EACI,sBACA,EACE,yBACA,0BAGP,EAAK,OAAO,KAGd,EAAW,MAAM,CAAG,EACnB,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,0FACb,EAAW,MAAM,GAElB,QAGN,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,2BACZ,EAAW,KAAK,CAAC,EAAG,GAAG,GAAG,CAAC,AAAC,GAC3B,CAAA,EAAA,EAAA,IAAA,EAAC,SAAA,CAEC,KAAK,SACL,QAAS,AAAC,IACR,EAAM,eAAe,GACrB,EAAa,GACb,EAAsB,EACxB,EACA,UAAU,mKAET,EAAS,OAAO,CAAG,CAAA,EAAG,EAAS,OAAO,CAAC,CAAC,CAAC,CAAG,GAC5C,EAAS,KAAK,GAVV,EAAS,EAAE,GAcnB,EAAW,MAAM,CAAG,EACnB,CAAA,EAAA,EAAA,IAAA,EAAC,SAAA,CACC,KAAK,SACL,QAAS,AAAC,IACR,EAAM,eAAe,GACrB,EAAa,EACf,EACA,UAAU,+DACX,IACG,EAAW,MAAM,CAAG,EAAE,iBAExB,UApED,EAwEX,QAIJ,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,gFACb,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,kDACb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,WACC,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,4DACV,IAEH,CAAA,EAAA,EAAA,IAAA,EAAC,IAAA,CAAE,UAAU,kCACV,EAAsB,MAAM,CAAE,IACG,IAAjC,EAAsB,MAAM,CAAS,YAAc,aAAa,kBAKrC,IAAjC,EAAsB,MAAM,CAC3B,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,wGAA+F,kCAI9G,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,qBACb,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,eAAe,CAAA,CAAC,QAAS,YACvB,EAAsB,GAAG,CAAE,AAAD,GACzB,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,MAAM,CAAC,GAAG,CAAA,CAET,MAAM,CAAA,CAAA,EACN,QAAS,CAAE,QAAS,EAAG,EAAG,CAAE,EAC5B,QAAS,CAAE,QAAS,EAAG,EAAG,CAAE,EAC5B,KAAM,CAAE,QAAS,EAAG,EAAG,CAAC,EAAG,MAAO,IAAM,EACxC,WAAY,CAAE,SAAU,IAAM,KAAM,SAAU,WAE9C,CAAA,EAAA,EAAA,GAAA,EAAC,GAAA,CACC,SAAU,EACV,IAAK,EACL,WAAY,IAAuB,EAAS,EAAE,CAC9C,cAAe,IAA2B,EAAS,EAAE,CACrD,SAAU,EAAoB,GAAG,CAAC,EAAS,EAAE,EAC7C,kBAAmB,EACnB,iBAAkB,EAClB,SAAU,CAAgB,CAAC,EAAS,EAAE,CAAC,CACvC,eAAgB,IAAM,EAAe,EAAS,EAAE,EAChD,eAAgB,IAAM,EAAuB,EAAS,EAAE,EACxD,WAAY,AAAC,GAAU,EAAW,EAAS,EAAE,CAAE,GAC/C,SAAU,IAAM,EAAS,EAAS,EAAE,EACpC,WAAY,AAAC,GAAY,EAAW,EAAS,EAAE,CAAE,GACjD,qBAAsB,IAAM,EAAqB,EAAS,EAAE,EAC5D,mBAAoB,IAAM,EAAmB,MAtB1C,EAAS,EAAE,YAgClC,CAEA,SAAS,GAAqB,MAC5B,CAAI,UACJ,CAAQ,CACR,KAAG,cACH,CAAY,sBACZ,CAAoB,oBACpB,CAAkB,CAQnB,EACC,GAAI,CAAC,EAAU,OAAO,KAEtB,IAAM,EAAa,GAAc,EAAU,GACrC,EAAU,GAAmB,EAAU,GAE7C,MACE,CAAA,EAAA,EAAA,GAAA,EAAC,GAAA,MAAM,CAAA,CAAC,KAAM,EAAM,aAAc,WAChC,CAAA,EAAA,EAAA,IAAA,EAAC,GAAA,aAAa,CAAA,CAAC,UAAU,oEACvB,CAAA,EAAA,EAAA,IAAA,EAAC,GAAA,YAAY,CAAA,WACX,CAAA,EAAA,EAAA,GAAA,EAAC,GAAA,WAAW,CAAA,CAAC,UAAU,4DACpB,EAAS,KAAK,GAEjB,CAAA,EAAA,EAAA,GAAA,EAAC,GAAA,iBAAiB,CAAA,CAAC,UAAU,iCAC1B,EAAS,UAAU,EAAI,EAAS,gBAAgB,EAAI,2BAIzD,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,sBACb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,8CACb,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAW,CAAA,EAAA,GAAA,EAAA,AAAE,EAAC,wDAAyD,EAAW,SAAS,WAC9F,EAAW,KAAK,GAEnB,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,wGACb,EAAU,CAAC,EAAS,IAAI,CAAC,GAE5B,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,wGACb,GAAqB,EAAU,QAIpC,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,sCACb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,4EACb,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,2EAAkE,gBAC/E,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,sCAA8B,EAAS,eAAe,MAErE,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,4EACb,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,2EAAkE,UAC/E,CAAA,EAAA,EAAA,IAAA,EAAC,IAAA,CAAE,UAAU,uCACV,GAAa,EAAS,OAAO,EAC7B,EAAS,OAAO,CAAG,CAAC,MAAG,EAAE,EAAS,OAAO,CAAA,CAAE,CAAG,YAKrD,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,iEACb,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,uEAA8D,cAC3E,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,sCACV,EAAS,WAAW,EAAI,oDAI7B,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,sEACb,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,uEAA8D,uCAG3E,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,sCAA8B,EAAQ,QAAQ,GAC3D,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,sCAA8B,EAAQ,IAAI,SAI3D,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,+DACb,CAAA,EAAA,EAAA,IAAA,EAAC,GAAA,MAAM,CAAA,CACL,KAAK,KACL,QAAQ,UACR,UAAU,mBACV,QAAS,IAAM,EAAqB,aAEpC,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,QAAQ,CAAA,CAAC,UAAU,gBAAgB,wBAGtC,CAAA,EAAA,EAAA,GAAA,EAAC,GAAA,MAAM,CAAA,CACL,KAAK,KACL,UAAU,4DACV,QAAS,IAAM,EAAmB,YACnC,2BAOX,CAEA,SAAS,GAAiB,OACxB,CAAK,OACL,CAAK,CACL,WAAS,UACT,CAAQ,MACR,CAAI,UACJ,CAAQ,CAQT,EAwBC,IAAM,EAvBmF,AAuB3E,CAtBZ,OAAQ,CACN,MAAO,yDACP,KAAM,gBACN,OAAQ,oBACV,EACA,OAAQ,CACN,MAAO,0BACP,KAAM,eACN,OAAQ,mBACV,EACA,QAAS,CACP,MAAO,8BACP,KAAM,iBACN,OAAQ,qBACV,EACA,QAAS,CACP,MAAO,4BACP,KAAM,gBACN,OAAQ,iBACV,CACF,CAEwB,CAAC,EAAK,CACxB,EAA8B,WAAT,EAE3B,MACE,CAAA,EAAA,EAAA,IAAA,EAAC,UAAA,CACC,UAAW,CAAA,EAAA,GAAA,EAAA,AAAE,EACX,6CACA,EAAM,MAAM,CACZ,EACI,+DACA,sBAGN,CAAA,EAAA,EAAA,IAAA,EAAC,SAAA,CACC,QAAS,EACT,UAAU,qDAEV,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,oCACH,WAAT,EACC,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,QAAQ,CAAA,CAAC,UAAW,CAAA,EAAA,GAAA,EAAA,AAAE,EAAC,UAAW,EAAM,IAAI,IAClC,WAAT,EACF,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,aAAa,CAAA,CAAC,UAAW,CAAA,EAAA,GAAA,EAAE,AAAF,EAAG,UAAW,EAAM,IAAI,IACvC,YAAT,EACF,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,OAAW,CAAA,CAAC,UAAW,CAAA,EAAA,GAAA,EAAA,AAAE,EAAC,UAAW,EAAM,IAAI,IAEhD,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,CAAa,UAAW,CAAA,EAAA,GAAA,EAAA,AAAE,EAAC,UAAW,EAAM,IAAI,IAEnD,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CACC,UAAW,CAAA,EAAA,GAAA,EAAA,AAAE,EACX,yCACA,EAAqB,iBAAmB,0BAGzC,IAEH,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAW,CAAA,EAAA,GAAA,EAAA,AAAE,EAAC,iDAAkD,EAAM,KAAK,WAC9E,OAGJ,EACC,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,WAAW,CAAA,CAAC,UAAW,CAAA,EAAA,GAAA,EAAA,AAAE,EAAC,UAAW,EAAqB,iBAAmB,mBAE9E,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,SAAS,CAAA,CAAC,UAAW,CAAA,EAAA,GAAA,EAAA,AAAE,EAAC,UAAW,EAAqB,iBAAmB,sBAIhF,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,eAAe,CAAA,CAAC,SAAS,WACvB,CAAC,GACA,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,MAAM,CAAC,GAAG,CAAA,CACT,QAAS,CAAE,OAAQ,EAAG,QAAS,CAAE,EACjC,QAAS,CAAE,OAAQ,OAAQ,QAAS,CAAE,EACtC,KAAM,CAAE,OAAQ,EAAG,QAAS,CAAE,EAC9B,WAAY,CAAE,SAAU,IAAM,KAAM,SAAU,EAC9C,UAAU,2BAEV,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,gBAAQ,UAMnC,CAEA,SAAS,GAAmB,SAC1B,CAAO,SACP,CAAO,CAIR,EACC,MACE,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,oEACb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,oDACb,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,gCAAwB,IACrC,CAAA,EAAA,EAAA,GAAA,EAAC,GAAA,MAAM,CAAA,CACL,KAAK,KACL,QAAQ,UACR,UAAU,+CACV,QAAS,WACV,yBAMT,CAEA,SAAS,GAAsB,MAC7B,CAAI,SACJ,CAAO,WACP,CAAS,CAKV,EACC,MACE,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CACC,UAAW,CAAA,EAAA,GAAA,EAAA,AAAE,EACX,0CACS,YAAT,GAAsB,oDACb,UAAT,GAAoB,wCACX,SAAT,GAAmB,2CACnB,YAGD,GAGP,CAEA,IAAM,GAAwB,CAAA,EAAA,EAAA,IAAI,AAAJ,EAAK,SAA+B,AAAtB,UAC1C,CAAQ,KACR,CAAG,CACH,UAAQ,YACR,CAAU,eACV,CAAa,UACb,CAAQ,mBACR,CAAiB,kBACjB,CAAgB,gBAChB,CAAc,gBACd,CAAc,CACd,YAAU,UACV,CAAQ,YACR,CAAU,sBACV,CAAoB,oBACpB,CAAkB,CAiBnB,EACC,GAAM,CAAC,EAAc,EAAgB,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,GAAC,GAC3C,CAAC,EAAa,EAAe,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,GAAC,GACzC,CAAC,EAAc,EAAgB,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,GAAC,GAC3C,CAAC,EAAmB,EAAqB,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAC,IACrD,CAAC,EAAiB,EAAmB,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAC,IACjD,CAAC,EAAoB,EAAsB,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAC,IACvD,CAAC,EAAQ,EAAU,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAC,IAC/B,CAAC,EAAW,EAAa,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAgB,MAEpD,EAAW,EAAkB,CAAC,EAAS,IAAI,CAAC,CAC5C,EAAO,GAAc,EAAU,GAC/B,EAAU,GAAmB,EAAU,GAEvC,EACJ,GAAU,QAAU,oBAAsB,GAAU,QAAU,kBAAoB,GAAU,QAAU,mBAElG,EAAoB,UACxB,GAAI,CACF,MAAM,UAAU,SAAS,CAAC,SAAS,CAAC,EAAQ,OAAO,EACnD,GAAU,GACV,EAAa,MACb,WAAW,IAAM,GAAU,GAAQ,KACrC,CAAE,KAAM,CACN,GAAU,GACV,EAAa,iCACf,CACF,EAEA,MACE,CAAA,EAAA,EAAA,IAAA,EAAC,UAAA,CACC,GAAI,CAAC,cAAc,EAAE,EAAS,EAAE,CAAA,CAAE,CAClC,UAAW,CAAA,EAAA,GAAA,EAAA,AAAE,EACX,wFACA,gFACA,GAAiB,uBACjB,GAAU,QAAU,oBAAsB,uCAE5C,QAAS,YAET,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,8EACb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,6CACb,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CACC,UAAW,CAAA,EAAA,GAAA,EAAA,AAAE,EACX,4EACA,EAAU,CAAC,EAAS,IAAI,CAAC,CAAC,EAAE,CAC5B,EAAU,CAAC,EAAS,IAAI,CAAC,CAAC,IAAI,WAGhC,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,CAAS,UAAU,cAGtB,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,oBACb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,8CACb,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,yEACX,EAAS,KAAK,GAEjB,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAW,CAAA,EAAA,GAAA,EAAE,AAAF,EAAG,0DAA2D,EAAK,SAAS,WAC1F,EAAK,KAAK,MAIf,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,yEACb,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,kCACb,EAAS,QAAQ,CAChB,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,OAAI,CAAA,CAAC,KAAM,CAAC,kBAAkB,EAAE,EAAS,QAAQ,CAAA,CAAE,CAAE,UAAU,4CAC7D,EAAS,UAAU,EAAI,aAExB,EAAS,aAAa,CACxB,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,OAAI,CAAA,CAAC,KAAM,CAAC,qBAAqB,EAAE,EAAS,aAAa,CAAA,CAAE,CAAE,UAAU,4CACrE,EAAS,gBAAgB,EAAI,eAGhC,EAAS,UAAU,EAAI,EAAS,gBAAgB,EAAI,iBAGxD,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,yBAAgB,MAChC,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,UAAM,EAAU,CAAC,EAAS,IAAI,CAAC,MAGlC,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,yCACb,CAAA,EAAA,EAAA,GAAA,EAAC,GAAA,MAAM,CAAA,CAAC,KAAK,cACX,CAAA,EAAA,EAAA,GAAA,EAAC,GAAA,cAAc,CAAA,CAAC,UAAU,4DEnhHjC,AFohHmB,CAAT,CAAkB,eAAe,CEnhH/C,KAAK,CAAC,KACN,GAAG,CAAC,AAAC,GAAS,CAAI,CAAC,EAAE,EACrB,IAAI,CAAC,IACL,KAAK,CAAC,EAAG,GACT,WAAW,OFkhHF,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,iCAAyB,EAAS,eAAe,GACjE,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,yBAAgB,MAChC,CAAA,EAAA,EAAA,IAAA,EAAC,OAAA,CAAK,UAAU,kCACb,GAAa,EAAS,OAAO,EAC7B,EAAS,OAAO,CAAG,CAAC,CAAC,EAAE,EAAS,OAAO,CAAA,CAAE,CAAG,eAMrD,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,mCACb,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,6CAAqC,GAAqB,EAAU,UAIrF,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CACC,UAAU,2CACV,QAAS,AAAC,GAAU,EAAM,eAAe,aAEzC,CAAA,EAAA,EAAA,IAAA,EAAC,QAAA,CAAM,UAAU,sIACf,CAAA,EAAA,EAAA,GAAA,EAAC,GAAA,QAAQ,CAAA,CACP,QAAS,EACT,gBAAiB,IAAM,IACvB,SAAU,CAAC,IACX,gBAIJ,CAAA,EAAA,EAAA,IAAA,EAAC,GAAA,OAAO,CAAA,CAAC,KAAM,EAAc,aAAc,YACzC,CAAA,EAAA,EAAA,GAAA,EAAC,GAAA,cAAc,CAAA,CAAC,OAAO,CAAA,CAAA,WACrB,CAAA,EAAA,EAAA,IAAA,EAAC,GAAA,MAAM,CAAA,CACL,KAAK,KACL,UAAU,yEACV,SAAU,GAAU,CAAC,YAEpB,GAAU,QAAU,mBACnB,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,OAAO,CAAA,CAAC,UAAU,6BAEnB,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,YAAY,CAAA,CAAC,UAAU,gBACxB,gBAIN,CAAA,EAAA,EAAA,IAAA,EAAC,GAAA,cAAc,CAAA,CACb,MAAM,QACN,WAAY,EACZ,UAAU,+CACV,QAAU,AAAD,GAAW,EAAM,eAAe,aAEzC,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,4EAAmE,uBAGhF,CAAA,EAAA,EAAA,GAAA,EAAC,WAAA,CACC,YAAY,sCACZ,MAAO,EACP,SAAU,AAAC,GAAU,EAAmB,EAAM,MAAM,CAAC,KAAK,EAC1D,UAAU,0MACV,KAAM,IAER,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,4BACb,CAAA,EAAA,EAAA,IAAA,EAAC,GAAA,MAAM,CAAA,CACL,KAAK,KACL,UAAU,2EACV,QAAS,KACP,EAAW,EAAgB,IAAI,SAAM,GACrC,GAAgB,GAChB,EAAmB,GACrB,EACA,SAAU,CAAC,YAEX,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,YAAY,CAAA,CAAC,UAAU,gBAAgB,eAG1C,CAAA,EAAA,EAAA,GAAA,EAAC,GAAA,MAAM,CAAA,CACL,KAAK,KACL,QAAQ,UACR,UAAU,2BACV,QAAS,KACP,GAAgB,GAChB,EAAmB,GACrB,WACD,sBAOP,CAAA,EAAA,EAAA,IAAA,EAAC,GAAA,OAAO,CAAA,CAAC,KAAM,EAAc,aAAc,YACzC,CAAA,EAAA,EAAA,GAAA,EAAC,GAAA,cAAc,CAAA,CAAC,OAAO,CAAA,CAAA,WACrB,CAAA,EAAA,EAAA,IAAA,EAAC,GAAA,MAAM,CAAA,CACL,KAAK,KACL,QAAQ,UACR,UAAU,gCACV,SAAU,GAAU,CAAC,YAEpB,GAAU,QAAU,mBACnB,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,OAAO,CAAA,CAAC,UAAU,6BAEnB,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,aAAa,CAAA,CAAC,UAAU,gBACzB,aAIN,CAAA,EAAA,EAAA,IAAA,EAAC,GAAA,cAAc,CAAA,CACb,MAAM,QACN,WAAY,EACZ,UAAU,+CACV,QAAS,AAAC,GAAU,EAAM,eAAe,aAEzC,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,4EAAmE,cAGhF,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,qBACZ,CAAC,EAAG,EAAG,EAAE,CAAC,GAAG,CAAC,AAAC,GACd,CAAA,EAAA,EAAA,IAAA,EAAC,SAAA,CAEC,QAAS,KACP,EAAW,GAAU,GAAQ,GAAW,GAAM,KAC9C,GAAgB,EAClB,EACA,UAAU,8JAEV,CAAA,EAAA,EAAA,IAAA,EAAC,OAAA,WAAK,IAAE,EAAK,IAAE,AAAS,MAAI,MAAQ,UACpC,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,UAAU,CAAA,CAAC,UAAU,gCARjB,MAYX,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,2BACb,CAAA,EAAA,EAAA,GAAA,EAAC,GAAA,KAAK,CAAA,CAAC,UAAU,iCAAwB,kBACzC,CAAA,EAAA,EAAA,GAAA,EAAC,GAAA,KAAK,CAAA,CACJ,KAAK,OACL,MAAO,EACP,IAAK,GAAU,GAAW,IAC1B,SAAU,AAAC,GAAU,EAAsB,EAAM,MAAM,CAAC,KAAK,EAC7D,UAAU,uBAEZ,CAAA,EAAA,EAAA,GAAA,EAAC,GAAA,MAAM,CAAA,CACL,KAAK,KACL,UAAU,2EACV,SAAU,CAAC,GAAsB,CAAC,EAClC,QAAS,KACP,EAAW,GACX,GAAgB,GAChB,EAAsB,GACxB,WACD,4BAOP,CAAA,EAAA,EAAA,IAAA,EAAC,GAAA,OAAO,CAAA,CAAC,KAAM,EAAa,aAAc,YACxC,CAAA,EAAA,EAAA,GAAA,EAAC,GAAA,cAAc,CAAA,CAAC,OAAO,CAAA,CAAA,WACrB,CAAA,EAAA,EAAA,IAAA,EAAC,GAAA,MAAM,CAAA,CACL,KAAK,KACL,QAAQ,UACR,UAAU,2EACV,QAAS,YAET,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,QAAQ,CAAA,CAAC,UAAU,8BAA8B,0BAItD,CAAA,EAAA,EAAA,IAAA,EAAC,GAAA,cAAc,CAAA,CACb,MAAM,QACN,WAAY,EACZ,UAAU,oIACV,QAAS,AAAC,GAAU,EAAM,eAAe,aAEzC,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,6EAAoE,oCAGjF,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,6EACb,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,kDAAyC,oBACtD,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,kDAA0C,EAAQ,OAAO,GACtE,CAAA,EAAA,EAAA,IAAA,EAAC,GAAA,MAAM,CAAA,CACL,KAAK,KACL,QAAQ,UACR,UAAU,kGACV,QAAS,YAET,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,IAAI,CAAA,CAAC,UAAU,YACf,EAAS,UAAY,eAG1B,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,wEACb,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,kDAAyC,kBACtD,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,kCAA0B,EAAQ,QAAQ,MAEzD,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,wEACb,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,kDAAyC,qBACtD,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,kCAA0B,EAAQ,IAAI,MAEpD,EACC,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,yCAAiC,IAC5C,WAIR,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,eAEf,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,qEACb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,8CACZ,GAAU,QAAU,oBACnB,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,4FACb,EAAS,OAAO,EAAI,cAIxB,GAAU,QAAU,oBACnB,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,sFACb,EAAS,OAAO,EAAI,eAIxB,GAAU,QAAU,SACnB,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,oFACb,EAAS,OAAO,EAAI,yBAK3B,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,gDACb,CAAA,EAAA,EAAA,GAAA,EAAC,GAAA,MAAM,CAAA,CACL,KAAK,KACL,QAAQ,QACR,UAAU,gEACV,QAAS,WAER,EAAa,mBAAqB,iBAGpC,AAAoB,gBAAX,MAAM,EAAwC,cAApB,EAAS,MAAM,EACjD,CAAA,EAAA,EAAA,IAAA,EAAC,GAAA,MAAM,CAAA,CACL,KAAK,KACL,QAAQ,QACR,UAAU,gFACV,SAAU,GAAU,CAAC,EACrB,QAAS,IAAM,EAAqB,cAEpC,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,OAAO,CAAA,CAAC,UAAU,gBAAgB,uBAQ7C,CAAA,EAAA,EAAA,GAAA,EAAC,GAAA,WAAW,CAAA,CAAC,KAAM,EAAmB,aAAc,WAClD,CAAA,EAAA,EAAA,IAAA,EAAC,GAAA,kBAAkB,CAAA,CAAC,UAAU,2BAC5B,CAAA,EAAA,EAAA,IAAA,EAAC,GAAA,iBAAiB,CAAA,WAChB,CAAA,EAAA,EAAA,GAAA,EAAC,GAAA,gBAAgB,CAAA,CAAC,UAAU,gCAAuB,wBAGnD,CAAA,EAAA,EAAA,GAAA,EAAC,GAAA,sBAAsB,CAAA,CAAC,UAAU,2CAAkC,qFAItE,CAAA,EAAA,EAAA,IAAA,EAAC,GAAA,iBAAiB,CAAA,WAChB,CAAA,EAAA,EAAA,GAAA,EAAC,GAAA,iBAAiB,CAAA,CAAC,UAAU,wBAAe,WAG5C,CAAA,EAAA,EAAA,GAAA,EAAC,GAAA,iBAAiB,CAAA,CAChB,UAAU,sDACV,QAAS,WACV,mCAOP,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,eAAe,CAAA,CAAC,SAAS,WACvB,GACC,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,MAAM,CAAC,GAAG,CAAA,CACT,QAAS,CAAE,OAAQ,EAAG,QAAS,CAAE,EACjC,QAAS,CAAE,OAAQ,OAAQ,QAAS,CAAE,EACtC,KAAM,CAAE,OAAQ,EAAG,QAAS,CAAE,EAC9B,WAAY,CAAE,SAAU,IAAM,KAAM,SAAU,EAC9C,UAAU,2BAEV,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,0EACb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,sCACb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,0BACb,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,uEAA8D,cAG3E,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,sCACV,EAAS,WAAW,EAAI,iDAG1B,EAAS,eAAe,EACvB,CAAA,EAAA,EAAA,IAAA,EAAA,EAAA,QAAA,CAAA,WACE,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,4EAAmE,uBAGhF,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,8GACV,EAAS,eAAe,MAK/B,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,4EAAmE,4BAGhF,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,8BACX,CEtuHnB,AAAI,AAAkB,WAAW,CFsuHO,EEtuH3B,IAAI,CACR,CACL,4BACA,sBACA,sBACD,CAGmB,SAAlB,EAAS,IAAI,EAAiC,YAAY,CAA9B,EAAS,IAAI,CACpC,CACL,kBACA,oBACA,0BACD,CAnBU,CACX,+BACA,iCACA,0BACD,AAQD,EFguHkD,GAAG,CAAC,AAAC,GACnC,CAAA,EAAA,EAAA,IAAA,EAAC,KAAA,CAAc,UAAU,0DACvB,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,+DAChB,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,UAAM,MAFA,SAQf,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,WACC,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,uEAA8D,oBAG3E,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,mDACb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,uEACb,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,iCAAwB,cACrC,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,UAAG,GAAa,EAAS,SAAS,CAAC,KAAK,CAAC,EAAG,UAE/C,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,uEACb,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,iCAAwB,gBACrC,CAAA,EAAA,EAAA,IAAA,EAAC,IAAA,WACE,GAAa,EAAS,OAAO,EAC7B,EAAS,OAAO,CAAG,CAAC,MAAG,EAAE,EAAS,OAAO,CAAA,CAAE,CAAG,YAKrD,CAAA,EAAA,EAAA,IAAA,EAAC,GAAA,MAAM,CAAA,CACL,KAAK,KACL,UAAU,kHACV,QAAS,YAET,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,QAAQ,CAAA,CAAC,UAAU,gBAAgB,+CAWxD,GAEM,GAA2B,CAAA,EAAA,EAAA,IAAA,AAAI,EAAC,SAAS,AAAyB,UACtE,CAAQ,KACR,CAAG,CAIJ,EACC,GAAM,CAAC,EAAU,EAAY,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAgB,MAClD,CAAC,EAAW,EAAa,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAgB,MAEpD,EAAU,GAAmB,EAAU,GAEvC,EAAY,CAChB,CACE,GAAI,QACJ,MAAO,qBACP,KAAM,EAAQ,OAAO,AACvB,EACA,CACE,GAAI,QACJ,MAAO,gBACP,KAAM,EAAQ,QAAQ,AACxB,EACA,CACE,GAAI,QACJ,MAAO,mBACP,KAAM,EAAQ,IAAI,AACpB,EACD,CAEK,EAAa,MAAO,EAAY,KACpC,GAAI,CACF,MAAM,UAAU,SAAS,CAAC,SAAS,CAAC,GACpC,EAAY,GACZ,EAAa,MACb,WAAW,IAAM,EAAY,MAAO,KACtC,CAAE,KAAM,CACN,EAAY,MACZ,EAAa,sCACf,CACF,EAEA,MACE,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,sBACb,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,yEACb,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,uDAA+C,EAAS,KAAK,GAC1E,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,6CACV,EAAS,UAAU,EAAI,EAAS,gBAAgB,EAAI,oBAIxD,EAAU,GAAG,CAAC,AAAC,GACd,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAsB,UAAU,yEAC/B,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,4EACV,EAAS,KAAK,GAEjB,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,uDAA+C,EAAS,IAAI,GACzE,CAAA,EAAA,EAAA,IAAA,EAAC,GAAA,MAAM,CAAA,CACL,KAAK,KACL,QAAQ,UACR,UAAU,uGACV,QAAS,IAAM,EAAW,EAAS,EAAE,CAAE,EAAS,IAAI,YAEpD,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,IAAI,CAAA,CAAC,UAAU,YACf,IAAa,EAAS,EAAE,CAAG,UAAY,cAZlC,EAAS,EAAE,GAiBtB,EACC,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,oCAA4B,IACvC,OAGV,GAEA,SAAS,GAAe,OACtB,CAAK,OACL,CAAK,MACL,CAAI,CAKL,EAQC,MACE,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,2GACb,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,0BAAkB,IAClC,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAW,CAAA,EAAA,GAAA,EAAE,AAAF,EAAG,gBAAiB,AAVM,CAC7C,QAAS,mBACT,QAAS,iBACT,OAAQ,eACR,QAAS,gBACX,CAKkD,CAAC,EAAK,WAAI,MAG9D,CAEA,SAAS,GAAc,OACrB,CAAK,OACL,CAAK,QACL,EAAS,SAAS,CAKnB,EACC,MACE,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,oEACb,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,2EAAmE,IAChF,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CACC,UAAW,CAAA,EAAA,GAAA,EAAA,AAAE,EACX,2CACW,WAAX,EACI,eACW,YAAX,EACE,mBACA,0BAGP,MAIT","ignoreList":[3,5,6,7,8]}
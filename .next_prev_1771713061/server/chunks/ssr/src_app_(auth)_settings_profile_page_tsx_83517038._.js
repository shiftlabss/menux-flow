module.exports=[71804,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(95245),e=a.i(59501),f=a.i(96221),g=a.i(13513),h=a.i(70106);let i=(0,h.default)("monitor",[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]]),j=(0,h.default)("smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]),k=(0,h.default)("tablet",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["line",{x1:"12",x2:"12.01",y1:"18",y2:"18",key:"1dp563"}]]);var l=a.i(20005),m=a.i(3314),n=a.i(99570),o=a.i(22024),p=a.i(66718),q=a.i(70430),r=a.i(53168),s=a.i(91119),t=a.i(72233),u=a.i(5084),v=a.i(63658),w=a.i(86304),x=a.i(19979),y=a.i(66206);let z=[{id:"1",device:"MacBook Pro",browser:"Chrome 121",ip:"189.***.***.42",lastActive:"Agora",isCurrent:!0,icon:"desktop"},{id:"2",device:"iPhone 15",browser:"Safari 17",ip:"189.***.***.42",lastActive:"Há 2 horas",isCurrent:!1,icon:"mobile"},{id:"3",device:"Windows Desktop",browser:"Edge 120",ip:"201.***.***.18",lastActive:"Há 3 dias",isCurrent:!1,icon:"desktop"}],A=[{id:"sla",label:"SLA",description:"Alertas de prazo e violações de SLA"},{id:"activities",label:"Atividades",description:"Lembretes e atualizações de atividades"},{id:"opportunities",label:"Oportunidades",description:"Movimentações e mudanças em oportunidades"},{id:"health-score",label:"Health Score",description:"Alterações no score de saúde dos clientes"}];function B(){let{user:a}=(0,y.useAuthStore)(),[h,i]=(0,c.useState)(!1),j=(0,c.useRef)(null),[k,l]=(0,c.useState)(null),[m,u]=(0,c.useState)(""),[v,w]=(0,c.useState)(""),[z,A]=(0,c.useState)(""),[B,E]=(0,c.useState)(null),[F,G]=(0,c.useState)(null),[H,I]=(0,c.useState)(null),[J,K]=(0,c.useState)(null),{register:L,handleSubmit:M,setValue:N,formState:{errors:O}}=(0,d.useForm)({resolver:(0,e.zodResolver)(x.profileSchema),defaultValues:{name:a?.name||"",email:a?.email||"",phone:""}});async function P(){i(!0),E(null);try{await new Promise(a=>setTimeout(a,600)),E({type:"success",message:"Perfil atualizado! Suas informações pessoais foram salvas com sucesso."}),setTimeout(()=>E(null),3e3)}catch{E({type:"error",message:"Erro ao salvar perfil. Tente novamente em alguns instantes."})}finally{i(!1)}}let Q=a?.name?a.name.split(" ").map(a=>a[0]).join("").slice(0,2).toUpperCase():"FL";return(0,b.jsxs)("div",{className:"mx-auto max-w-[640px] space-y-6",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h1",{className:"font-heading text-2xl font-bold text-black sm:text-3xl",children:"Meu Perfil"}),(0,b.jsx)("p",{className:"mt-1 font-body text-sm text-zinc-500",children:"Gerencie suas informações pessoais"})]}),(0,b.jsxs)(s.Card,{className:"rounded-[15px] border-zinc-200",children:[(0,b.jsxs)(s.CardContent,{className:"flex items-center gap-6 p-6",children:[(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsxs)(t.Avatar,{className:"h-24 w-24",children:[(0,b.jsx)(t.AvatarImage,{src:k||a?.avatar}),(0,b.jsx)(t.AvatarFallback,{className:"bg-brand font-heading text-xl font-semibold text-white",children:Q})]}),(0,b.jsx)("input",{ref:j,type:"file",accept:"image/*",className:"hidden",onChange:a=>{let b=a.target.files?.[0];if(b){if(b.size>5242880)return void G({type:"warning",message:"Arquivo muito grande. A imagem deve ter no máximo 5MB."});let a=new FileReader;a.onloadend=()=>{l(a.result),G({type:"success",message:"Avatar atualizado! Sua foto de perfil foi atualizada."}),setTimeout(()=>G(null),3e3)},a.readAsDataURL(b)}}}),(0,b.jsx)(n.Button,{variant:"outline",size:"icon",onClick:()=>j.current?.click(),className:"absolute -bottom-1 -right-1 h-8 w-8 rounded-full border-2 border-white bg-white shadow-sm",children:(0,b.jsx)(g.Camera,{className:"h-4 w-4 text-zinc-600"})})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"font-heading text-lg font-semibold text-black",children:a?.name||"Usuário"}),(0,b.jsx)("p",{className:"font-body text-sm text-zinc-500",children:a?.email||"email@menux.com"}),(0,b.jsxs)("p",{className:"mt-1 font-body text-xs text-zinc-400",children:[a?.role?a.role.charAt(0).toUpperCase()+a.role.slice(1):"Admin"," ","· ",a?.unitName||"Matriz"]})]})]}),F&&(0,b.jsx)("div",{className:"px-6 pb-4",children:(0,b.jsx)(o.InlineFeedback,{type:F.type,message:F.message,onClose:()=>G(null)})})]}),(0,b.jsxs)(s.Card,{className:"rounded-[15px] border-zinc-200",children:[(0,b.jsx)(s.CardHeader,{children:(0,b.jsx)(s.CardTitle,{className:"font-heading text-lg font-semibold text-black",children:"Informações Pessoais"})}),(0,b.jsx)(s.CardContent,{children:(0,b.jsxs)("form",{onSubmit:M(P),className:"space-y-4",children:[(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(q.Label,{className:"font-body text-sm text-zinc-600",children:"Nome completo"}),(0,b.jsx)(p.Input,{className:"h-10 rounded-[15px] font-body text-sm",...L("name")}),O.name&&(0,b.jsx)("p",{className:"text-xs text-status-danger",children:O.name.message})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(q.Label,{className:"font-body text-sm text-zinc-600",children:"E-mail"}),(0,b.jsx)(p.Input,{type:"email",className:"h-10 rounded-[15px] font-body text-sm",disabled:!0,...L("email")}),(0,b.jsx)("p",{className:"font-body text-xs text-zinc-400",children:"O e-mail não pode ser alterado"})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(q.Label,{className:"font-body text-sm text-zinc-600",children:"Telefone"}),(0,b.jsx)(r.PhoneInput,{className:"h-10 rounded-[15px] font-body text-sm",onValueChange:a=>N("phone",a)})]}),(0,b.jsx)("div",{className:"flex justify-end pt-2",children:(0,b.jsxs)(n.Button,{type:"submit",disabled:h,className:"rounded-full bg-black font-heading text-sm text-white hover:bg-zinc-800",children:[h?(0,b.jsx)(f.Loader2,{className:"mr-2 h-4 w-4 animate-spin"}):null,"Salvar alterações"]})}),B&&(0,b.jsx)(o.InlineFeedback,{type:B.type,message:B.message,onClose:()=>E(null)})]})})]}),(0,b.jsxs)(s.Card,{className:"rounded-[15px] border-zinc-200",children:[(0,b.jsx)(s.CardHeader,{children:(0,b.jsx)(s.CardTitle,{className:"font-heading text-lg font-semibold text-black",children:"Alterar Senha"})}),(0,b.jsx)(s.CardContent,{children:(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(q.Label,{className:"font-body text-sm text-zinc-600",children:"Senha atual"}),(0,b.jsx)(p.Input,{type:"password",value:m,onChange:a=>{u(a.target.value),I(null)},className:"h-10 rounded-[15px] font-body text-sm",placeholder:"••••••••"}),H&&!m&&(0,b.jsx)("p",{className:"text-xs text-status-danger",children:H})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(q.Label,{className:"font-body text-sm text-zinc-600",children:"Nova senha"}),(0,b.jsx)(p.Input,{type:"password",value:v,onChange:a=>{w(a.target.value),I(null)},className:"h-10 rounded-[15px] font-body text-sm",placeholder:"••••••••"}),H&&m&&(!v||v.length<8)&&(0,b.jsx)("p",{className:"text-xs text-status-danger",children:H})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(q.Label,{className:"font-body text-sm text-zinc-600",children:"Confirmar nova senha"}),(0,b.jsx)(p.Input,{type:"password",value:z,onChange:a=>{A(a.target.value),I(null)},className:"h-10 rounded-[15px] font-body text-sm",placeholder:"••••••••"}),H&&m&&v&&v.length>=8&&v!==z&&(0,b.jsx)("p",{className:"text-xs text-status-danger",children:H})]}),(0,b.jsx)("div",{className:"flex justify-end pt-2",children:(0,b.jsx)(n.Button,{variant:"outline",onClick:()=>{(I(null),K(null),m)?!v||v.length<8?I("Nova senha deve ter no mínimo 8 caracteres."):v!==z?I("As senhas não coincidem."):(u(""),w(""),A(""),K({type:"success",message:"Senha alterada! Sua senha foi alterada com sucesso."}),setTimeout(()=>K(null),3e3)):I("Senha atual é obrigatória.")},className:"rounded-full font-heading text-sm",children:"Alterar senha"})}),J&&(0,b.jsx)(o.InlineFeedback,{type:J.type,message:J.message,onClose:()=>K(null)})]})})]}),(0,b.jsx)(C,{}),(0,b.jsx)(D,{})]})}function C(){let[a,d]=(0,c.useState)(z),[e,f]=(0,c.useState)(null),g=a.filter(a=>!a.isCurrent);return(0,b.jsxs)(s.Card,{className:"rounded-[15px] border-zinc-200",children:[(0,b.jsxs)(s.CardHeader,{className:"flex flex-row items-center justify-between space-y-0",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)(s.CardTitle,{className:"font-heading text-lg font-semibold text-black",children:"Sessões Ativas"}),(0,b.jsx)("p",{className:"mt-1 font-body text-xs text-zinc-500",children:"Gerencie os dispositivos conectados à sua conta"})]}),(0,b.jsx)(m.Shield,{className:"h-5 w-5 text-zinc-400"})]}),(0,b.jsxs)(s.CardContent,{children:[(0,b.jsx)("div",{className:"space-y-3",children:a.map(c=>(0,b.jsxs)("div",{className:"flex items-center justify-between rounded-[15px] border border-zinc-200 p-4",children:[(0,b.jsxs)("div",{className:"flex items-center gap-4",children:[(0,b.jsx)("div",{className:"flex h-10 w-10 items-center justify-center rounded-full bg-zinc-100",children:(a=>{switch(a){case"desktop":return(0,b.jsx)(i,{className:"h-5 w-5 text-zinc-500"});case"mobile":return(0,b.jsx)(j,{className:"h-5 w-5 text-zinc-500"});case"tablet":return(0,b.jsx)(k,{className:"h-5 w-5 text-zinc-500"})}})(c.icon)}),(0,b.jsxs)("div",{children:[(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)("p",{className:"font-body text-sm font-medium text-black",children:c.device}),c.isCurrent&&(0,b.jsx)(w.Badge,{className:"rounded-[10px] bg-status-success-light font-body text-[10px] text-status-success",children:"Sessão atual"})]}),(0,b.jsxs)("p",{className:"font-body text-xs text-zinc-500",children:[c.browser," · IP: ",c.ip]}),(0,b.jsxs)("p",{className:"font-body text-xs text-zinc-400",children:["Último acesso: ",c.lastActive]})]})]}),!c.isCurrent&&(0,b.jsxs)(n.Button,{variant:"outline",size:"sm",onClick:()=>{var b;return b=c.id,void(d(a.filter(a=>a.id!==b)),f({type:"success",message:"Sessão encerrada! A sessão foi desconectada com sucesso."}),setTimeout(()=>f(null),3e3))},className:"rounded-full font-heading text-xs text-status-danger hover:bg-status-danger-light hover:text-status-danger",children:[(0,b.jsx)(l.LogOut,{className:"mr-1.5 h-3.5 w-3.5"}),"Encerrar sessão"]})]},c.id))}),g.length>0&&(0,b.jsx)("div",{className:"mt-4 flex justify-end",children:(0,b.jsxs)(n.Button,{variant:"outline",size:"sm",onClick:()=>{d(a.filter(a=>a.isCurrent)),f({type:"success",message:"Sessões encerradas! Todas as outras sessões foram desconectadas."}),setTimeout(()=>f(null),3e3)},className:"rounded-full font-heading text-xs text-status-danger hover:bg-status-danger-light hover:text-status-danger",children:[(0,b.jsx)(l.LogOut,{className:"mr-1.5 h-3.5 w-3.5"}),"Encerrar todas as outras sessões"]})}),e&&(0,b.jsx)("div",{className:"mt-4",children:(0,b.jsx)(o.InlineFeedback,{type:e.type,message:e.message,onClose:()=>f(null)})})]})]})}function D(){let[a,d]=(0,c.useState)(null),[e,f]=(0,c.useState)({sla:!0,activities:!0,opportunities:!0,"health-score":!1}),[g,h]=(0,c.useState)({sla:!0,activities:!1,opportunities:!0,"health-score":!1});return(0,b.jsxs)(s.Card,{className:"rounded-[15px] border-zinc-200",children:[(0,b.jsxs)(s.CardHeader,{children:[(0,b.jsx)(s.CardTitle,{className:"font-heading text-lg font-semibold text-black",children:"Preferências de Notificação"}),(0,b.jsx)("p",{className:"font-body text-xs text-zinc-500",children:"Escolha como e quando deseja receber notificações"})]}),(0,b.jsxs)(s.CardContent,{children:[(0,b.jsxs)("div",{className:"mb-6",children:[(0,b.jsx)("h3",{className:"mb-4 font-heading text-sm font-semibold text-black",children:"Notificações por E-mail"}),(0,b.jsx)("div",{className:"space-y-4",children:A.map(a=>(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"font-body text-sm font-medium text-black",children:a.label}),(0,b.jsx)("p",{className:"font-body text-xs text-zinc-500",children:a.description})]}),(0,b.jsx)(v.Switch,{checked:e[a.id]??!1,onCheckedChange:()=>{var b;return b=a.id,void f(a=>({...a,[b]:!a[b]}))}})]},`email-${a.id}`))})]}),(0,b.jsx)(u.Separator,{className:"my-6"}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h3",{className:"mb-4 font-heading text-sm font-semibold text-black",children:"Notificações Push"}),(0,b.jsx)("div",{className:"space-y-4",children:A.map(a=>(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"font-body text-sm font-medium text-black",children:a.label}),(0,b.jsx)("p",{className:"font-body text-xs text-zinc-500",children:a.description})]}),(0,b.jsx)(v.Switch,{checked:g[a.id]??!1,onCheckedChange:()=>{var b;return b=a.id,void h(a=>({...a,[b]:!a[b]}))}})]},`push-${a.id}`))})]}),(0,b.jsx)("div",{className:"mt-6 flex justify-end",children:(0,b.jsx)(n.Button,{onClick:()=>{d({type:"success",message:"Preferências salvas! Suas preferências de notificação foram atualizadas."}),setTimeout(()=>d(null),3e3)},className:"rounded-full bg-black font-heading text-sm text-white hover:bg-zinc-800",children:"Salvar preferências"})}),a&&(0,b.jsx)("div",{className:"mt-4",children:(0,b.jsx)(o.InlineFeedback,{type:a.type,message:a.message,onClose:()=>d(null)})})]})]})}a.s(["default",()=>B],71804)}];

//# sourceMappingURL=src_app_%28auth%29_settings_profile_page_tsx_83517038._.js.map